{"version":3,"sources":["../node_modules/@material-ui/icons/Close.js","../node_modules/@material-ui/icons/FolderOpen.js","../node_modules/@material-ui/icons/HelpOutline.js","../node_modules/@material-ui/icons/Delete.js","component/createDealLandingPage/createDealLandingPage.v2.view.tsx","component/createDealLandingPage/createDealLandingPage.v2.tsx","../node_modules/@material-ui/icons/Add.js","../node_modules/@material-ui/icons/Room.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","CreateDealLandingPageV2View","AddImageButton","Frame","accept","onChange","event","props","onAddFile","style","display","id","multiple","type","htmlFor","Button","component","styles","addIconButton","scale","addIcon","AddressSelection","addressDisplay","selectedAddress","SelectedAddress","AddressBubble","MissingSectionLabel","hide","hasAddress","label","appContext","labels","createDealPageV2","missingAddress","isFlexDirectionRow","addressSectionContainer","locationIcon","bubbles","appState","address","addressesPrediction","map","border","onClick","onClickAddress","addressBubbleContainer","whiteSpace","color","styleSchema","secondaryColor","formattedAddress","addressSelectionContainer","BottomButtonSecton","bottomButtonSectionContainer","DraftButton","SubmitButton","CloseButton","onClose","closeIcon","Description","multiline","onChangeDescription","placeholder","descriptionPlaceHolder","rows","onClickSaveDraft","draftButton","draftButtonContainer","draftIcon","saveDraft","FileSection","images","files","image","ImageContainer","length","allowNumberOfFile","push","hasField","missingField","fileSectionContainer","Header","headerContainer","ImageDimensionTips","alt","src","base64Value","imageStyle","objectFit","imageDimensionTipsContainer","imageDimensionTipsIcon","imageDimensionTips","children","frameContainer","fontWeight","selectedAddressContainer","selectedAddressText","onClickRemoveSelectedAddress","deleteIcon","onClickSubmit","submitPost","Title","onChangeTitle","titlePlaceHolder","rootContainer","ApplicationComponent","greyTransparent","fontSize","borderRadius","borderColor","paddingTop","paddingBottom","paddingLeft","paddingRight","marginRight","overflow","alignItems","marginTop","width","justifyContent","marginBottom","greyDark","descriptionTextField","padding","backgroundColor","secondaryColorTransparent","margin","maxHeight","maxWidth","minHeight","minWidth","red","marginLeft","black","titleTextField","CreateDealLandingPageV2","console","debug","fileList","target","i","convertImageToBase64","description","setState","title","undefined","a","async","verifyInput","onSubmit","createDeal","setCreateDealUploading","setCreateDealProgressMessage","uploadingImage","Promise","all","state","file","imageProcessor","imagePrecprocess","imageBlob","serviceExecutor","execute","GET_PRESIGNED_URL","name","fileUploadResponse","UPLOAD_IMAGE_SIGNED_URL","preSignedUrl","url","then","imageUploadResult","uploadingDeal","filesUrl","serverIdentifierName","area","timestamp","CREATE_DEAL","GET_DEALS","result","deal","setDeals","deals","setTimeout","catch","uploadCompleted","blobFiles","this","fileReader","FileReader","onload","changeEvent","fixRotation","toString","fixedRotation","concat","readAsDataURL"],"mappings":"0GAEA,IAAIA,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,0GACD,SAEJN,EAAQE,QAAUE,G,iCCflB,IAAIR,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,gHACD,cAEJN,EAAQE,QAAUE,G,iCCflB,IAAIR,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,wPACD,eAEJN,EAAQE,QAAUE,G,iCCflB,IAAIR,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,kFACD,UAEJN,EAAQE,QAAUE,G,kQCqBGG,E,kNAgBTC,eAAiB,WACzB,OACE,kBAAC,EAAKC,MAAN,KACE,2BACEC,OAAO,UACPC,SAAU,SAACC,GAAD,OAAW,EAAKC,MAAMC,UAAUF,IAC1CG,MAAO,CAAEC,QAAS,QAClBC,GAAG,qBACHC,UAAQ,EACRC,KAAK,SAEP,2BAAOC,QAAQ,sBACb,kBAACC,EAAA,EAAD,CAAQC,UAAU,OAAOP,MAAOQ,EAAOC,eACrC,kBAAC,IAAD,CAASC,MAAM,MAAMV,MAAOQ,EAAOG,c,EAOnCC,iBAAmB,WAC3B,IAAMC,EAAiB,EAAKf,MAAMgB,gBAChC,kBAAC,EAAKC,gBAAN,MAEA,kBAAC,EAAKC,cAAN,MAEF,OACE,oCACE,kBAAC,EAAKC,oBAAN,CACEC,KAAM,EAAKpB,MAAMqB,WACjBC,MAAO,EAAKC,WAAWC,OAAOC,iBAAiBC,iBAEjD,kBAAC,IAAD,CAAMC,oBAAkB,EAACzB,MAAOQ,EAAOkB,yBACrC,kBAAC,IAAD,CAAc1B,MAAOQ,EAAOmB,eAC3Bd,K,EAMCG,cAAgB,WACxB,IAAMY,EAAU,EAAKC,SAASC,QAAQC,oBAAoBC,KAAI,SAACF,GAC7D,OACE,kBAAC,IAAD,CACEG,OAAQ,EACRC,QAAS,kBAAM,EAAKpC,MAAMqC,eAAeL,IACzC9B,MAAK,eAAOQ,EAAO4B,uBAAd,CAAsCC,WAAY,YAEvD,kBAAC,IAAD,CAAGrC,MAAO,CAAEsC,MAAOC,IAAYD,MAAME,iBAClCV,EAAQW,sBAKjB,OACE,kBAAC,IAAD,CAAMhB,oBAAkB,EAACzB,MAAOQ,EAAOkC,2BACpCd,I,EAKGe,mBAAqB,WAC7B,OACE,kBAAC,IAAD,CAAMlB,oBAAkB,EAACzB,MAAOQ,EAAOoC,8BACrC,kBAAC,EAAKC,YAAN,MACA,kBAAC,EAAKC,aAAN,Q,EAKIC,YAAc,WACtB,OAAO,kBAAC,IAAD,CAAWb,QAAS,EAAKpC,MAAMkD,QAAShD,MAAOQ,EAAOyC,a,EAGrDC,YAAc,WACtB,OACE,kBAAC,IAAD,CACEC,WAAS,EACTvD,SAAU,EAAKE,MAAMsD,oBACrBC,YACE,EAAKhC,WAAWC,OAAOC,iBAAiB+B,uBAE1CC,KAAM,K,EAKFV,YAAc,WACtB,OACE,kBAACvC,EAAA,EAAD,CAAQ4B,QAAS,EAAKpC,MAAM0D,iBAAkBxD,MAAOQ,EAAOiD,aAC1D,kBAAC,IAAD,CAAMzD,MAAOQ,EAAOkD,sBAClB,kBAAC,IAAD,CAAgB1D,MAAOQ,EAAOmD,YAC9B,kBAAC,IAAD,CAAUrB,MAAM,aACb,EAAKjB,WAAWC,OAAOC,iBAAiBqC,c,EAOzCC,YAAc,WACtB,IAAMC,EAAsB,EAAKhE,MAAMiE,MAAM/B,KAAI,SAACgC,GAAD,OAC/C,kBAAC,EAAKC,eAAN,CAAqBD,MAAOA,OAK9B,OAHI,EAAKlE,MAAMiE,MAAMG,OAAS,EAAKpE,MAAMqE,mBACvCL,EAAOM,KAAK,kBAAC,EAAK3E,eAAN,OAGZ,oCACE,kBAAC,EAAKwB,oBAAN,CACEC,KAAM,EAAKpB,MAAMuE,SACjBjD,MAAO,EAAKC,WAAWC,OAAOC,iBAAiB+C,eAEjD,kBAAC,IAAD,CAAM7C,oBAAkB,EAACzB,MAAOQ,EAAO+D,sBACpCT,K,EAMCU,OAAS,WACjB,OACE,kBAAC,IAAD,CAAM/C,oBAAkB,EAACzB,MAAOQ,EAAOiE,iBACrC,kBAAC,EAAKC,mBAAN,MACA,kBAAC,EAAK3B,YAAN,Q,EAKIkB,eAAiB,YAAuC,IAApCD,EAAmC,EAAnCA,MAC5B,OACE,kBAAC,EAAKtE,MAAN,KACE,yBACEiF,IAAK,aACLC,IAAKZ,EAAMa,YACX7E,MAAK,eAAOQ,EAAOsE,WAAd,CAA0BC,UAAW,c,EAMxCL,mBAAqB,WAC7B,OACE,kBAAC,IAAD,CAAMjD,oBAAkB,EAACzB,MAAOQ,EAAOwE,6BACrC,kBAAC,IAAD,CAAiBhF,MAAOQ,EAAOyE,yBAC/B,kBAAC,IAAD,KAAK,EAAK5D,WAAWC,OAAOC,iBAAiB2D,sB,EAKzCxF,MAAQ,YAA4C,IAAzCyF,EAAwC,EAAxCA,SACnB,OACE,kBAAC,IAAD,CAAMlD,OAAQ,EAAGjC,MAAOQ,EAAO4E,gBAC5BD,I,EAKGlE,oBAAsB,YAMzB,IALLG,EAKI,EALJA,MAMA,OADI,EAJJF,KAKc,KACZ,kBAAC,IAAD,CAAGlB,MAAO,CAAEsC,MAAO,MAAO+C,WAAY,SAAWjE,I,EAI3CL,gBAAkB,WAAO,IAAD,IAChC,OACE,kBAAC,IAAD,CAAMU,oBAAkB,EAACzB,MAAOQ,EAAO8E,0BACrC,kBAAC,IAAD,CAAGtF,MAAOQ,EAAO+E,qBAAjB,oBACG,EAAKzF,MAAMgB,uBADd,aACG,EAA4B2B,wBAD/B,QACmD,IAEnD,kBAAC,IAAD,CACEP,QAAS,EAAKpC,MAAM0F,6BACpBxF,MAAOQ,EAAOiF,e,EAMZ3C,aAAe,WACvB,OACE,kBAAC,IAAD,CAAeZ,QAAS,EAAKpC,MAAM4F,eAChC,EAAKrE,WAAWC,OAAOC,iBAAiBoE,a,EAKrCC,MAAQ,WAChB,OACE,kBAAC,IAAD,CACEhG,SAAU,EAAKE,MAAM+F,cACrBxC,YAAa,EAAKhC,WAAWC,OAAOC,iBAAiBuE,oB,wEAhNzD,OACE,kBAAC,IAAD,CAAM9F,MAAOQ,EAAOuF,eAClB,uBAAMvB,OAAN,MACA,uBAAMX,YAAN,MACA,uBAAM+B,MAAN,MACA,uBAAM1C,YAAN,MACA,uBAAMtC,iBAAN,MACA,uBAAM+B,mBAAN,W,GAXiDqD,KA0NnDxF,EAAS,CACbG,QAAS,CACP2B,MAAOC,IAAYD,MAAM2D,gBACzBC,SAAU,MAEZzF,cAAe,CACb0F,aAAc,IAEhB/D,uBAAwB,CACtBgE,YAAa7D,IAAYD,MAAME,eAC/B2D,aAAc,GACdE,WAAY,EACZC,cAAe,EACfC,YAAa,GACbC,aAAc,GACdC,YAAa,GAEf/D,0BAA2B,CACzBgE,SAAU,SACVJ,cAAe,IAEjB5E,wBAAyB,CACvBiF,WAAY,SACZC,UAAW,EACXC,MAAO,WAETjE,6BAA8B,CAC5B+D,WAAY,SACZG,eAAgB,SAChBC,aAAc,GACdH,UAAW,GACXC,MAAO,WAET5D,UAAW,CACTX,MAAOC,IAAYD,MAAM0E,UAE3BvB,WAAY,CACVnD,MAAOC,IAAYD,MAAM0E,UAE3BC,qBAAsB,CACpBL,UAAW,GACXC,MAAO,WAETpD,YAAa,CACXyD,QAAS,GAEXxD,qBAAsB,CACpBiD,WAAY,SACZG,eAAgB,UAElBnD,UAAW,CACTwD,gBAAiB5E,IAAYD,MAAM8E,0BACnCjB,aAAc,GACd7D,MAAOC,IAAYD,MAAME,eACzB0D,SAAU,GACVa,aAAc,EACdG,QAAS,GAEX3C,qBAAsB,CACpBoC,WAAY,QACZD,SAAU,SACVJ,cAAe,GACfD,WAAY,GACZQ,MAAO,WAETzB,eAAgB,CACduB,WAAY,SACZP,YAAa7D,IAAYD,MAAM2D,gBAC/BE,aAAc,GACdW,eAAgB,SAChBO,OAAQ,EACRC,UAAW,GACXC,SAAU,GACVC,UAAW,GACXC,SAAU,IAEZhD,gBAAiB,CACfkC,WAAY,SACZG,eAAgB,gBAChBF,UAAW,GACXC,MAAO,WAET7B,4BAA6B,CAC3B2B,WAAY,SACZG,eAAgB,UAElB7B,uBAAwB,CACtB3C,MAAOC,IAAYD,MAAME,eACzB0D,SAAU,IAEZpB,WAAY,CACVqB,aAAc,GACdqB,UAAW,UACXC,SAAU,WAEZ9F,aAAc,CACZW,MAAOC,IAAYD,MAAMoF,IACzBC,YAAa,EACblB,YAAa,EACbH,cAAe,IAEjBP,cAAe,CACbc,MAAO,WAETvB,yBAA0B,CACxBqB,WAAY,SACZG,eAAgB,gBAChBR,cAAe,GACfO,MAAO,WAETtB,oBAAqB,CACnBjD,MAAOC,IAAYD,MAAMsF,OAE3BC,eAAgB,CACdjB,UAAW,GACXC,MAAO,Y,+CCtWX,IAgBqBiB,E,YAInB,WAAYhI,GAAe,IAAD,8BACxB,4CAAMA,KA+BEC,UAAY,SAACF,GACrBkI,QAAQC,MAAM,cACd,IAAMC,EAAWpI,EAAMqI,OAAOnE,MAC9B,GAAiB,OAAbkE,EACF,IAAK,IAAIE,EAAI,EAAGA,EAAIF,EAAS/D,OAAQiE,IACnC,EAAKC,qBAAqBH,EAASE,KArCf,EA8DhB/E,oBAAsB,SAACiF,GAC/BN,QAAQC,MAAM,uBACd,EAAKM,SAAS,CACZD,iBAjEsB,EAqEhBxC,cAAgB,SAAC0C,GACzBR,QAAQC,MAAM,iBACd,EAAKM,SAAS,CACZC,WAxEsB,EA4EhBpG,eAAiB,SAACrB,GAC1BiH,QAAQC,MAAM,kBACd,EAAKM,SAAS,CACZxH,qBA/EsB,EAmFhB0E,6BAA+B,WACvCuC,QAAQC,MAAM,gCACd,EAAKM,SAAS,CACZxH,qBAAiB0H,KAtFK,EA0FhBhF,iBAAmB,WAC3BuE,QAAQC,MAAM,qBA3FU,EA8FhBtC,cAAgB,oBAAA+C,EAAAC,OAAA,gDACxBX,QAAQC,MAAM,iBACV,EAAKW,eACP,EAAKC,WAHiB,sCA9FA,EAqGhBA,SAAW,gCAAAH,EAAAC,OAAA,uDACnBX,QAAQC,MAAM,8BADK,WAAAS,EAAA,MAEb,EAAK5G,SAASgH,WAAWC,wBAAuB,IAFnC,cAGnB,EAAKhJ,MAAMkD,UACL1B,EAAS,EAAKD,WAAWC,OAAOC,iBAJnB,WAAAkH,EAAA,MAKb,EAAK5G,SAASgH,WAAWE,6BAC7BzH,EAAO0H,iBANU,yBAAAP,EAAA,MAQaQ,QAAQC,IACtC,EAAKC,MAAMpF,MAAM/B,KAAI,SAAMoH,GAAN,mBAAAX,EAAAC,OAAA,kEAAAD,EAAA,MACW,EAAKY,eAAeC,iBAChDF,EAAKvE,cAFY,cACb0E,EADa,kBAAAd,EAAA,MAIkC,EAAKpH,WAAWmI,gBAAgBC,QACnFC,YAAkBN,EAAKhJ,KAAMgJ,EAAKO,QALjB,cAIbC,EAJa,kBAAAnB,EAAA,MAOb,EAAKpH,WAAWmI,gBAAgBC,QACpCI,YACEN,EADqB,UAErBK,EAAmBE,oBAFE,QAEc,MAVpB,gCAaZF,EAAmBG,KAbP,yCAerBC,MAAK,SAAAD,GAAG,OAAIA,MAxBK,cAQbE,EARa,mBAAAxB,EAAA,MA0Bb,EAAK5G,SAASgH,WAAWE,6BAC7BzH,EAAO4I,gBA3BU,eA6BbrB,EAAmB,CACvB/G,QAAS,EAAKqH,MAAMrI,gBACpBuH,YAAa,EAAKc,MAAMd,YACxB8B,SAAUF,EAAkBjI,KAAI,SAAA+H,GAAG,cAAIA,QAAJ,IAAIA,IAAO,MAC9CK,qBAAoB,UAAE,EAAKjB,MAAMrI,uBAAb,aAAE,EAA4BuJ,KAClDC,UAAW,EACX/B,MAAO,EAAKY,MAAMZ,OAnCD,YAAAE,EAAA,MAqCb,EAAKpH,WAAWmI,gBAAgBC,QAAQc,YAAY1B,KArCvC,YAsCf,EAAKM,MAAMrI,gBAtCI,oCAAA2H,EAAA,MAuCX,EAAKpH,WAAWmI,gBACnBC,QAAQe,YAAU,EAAKrB,MAAMrI,kBAC7BkJ,MAAK,SAACS,GACL,EAAK5I,SAAS6I,KAAKC,SAASF,EAAOG,UAEpCZ,MAAK,WACJa,YAAW,WACT,EAAKhJ,SAASgH,WAAWC,wBAAuB,KAC/C,QAEJgC,OAAM,WACL/C,QAAQC,MAAM,gDAlDD,2BAAAS,EAAA,MAqDb,EAAK5G,SAASgH,WAAWE,6BAC7BzH,EAAOyJ,kBAtDU,uCAnGnB,EAAK5B,MAAQ,CACXpF,MAAO,GACPiH,UAAW,GACX3C,YAAa,GACblH,YAAY,EACZkD,UAAU,EACVkE,MAAO,IARe,E,sEAaxB,OACE,kBAAC,EAAD,CACEpE,kBAnCuB,EAoCvBJ,MAAOkH,KAAK9B,MAAMpF,MAClBhE,UAAWkL,KAAKlL,UAChBqD,oBAAqB6H,KAAK7H,oBAC1ByC,cAAeoF,KAAKpF,cACpB1D,eAAgB8I,KAAK9I,eACrBqD,6BAA8ByF,KAAKzF,6BACnChC,iBAAkByH,KAAKzH,iBACvBkC,cAAeuF,KAAKvF,cACpB1C,QAASiI,KAAKnL,MAAMkD,QACpB7B,WAAY8J,KAAK9B,MAAMhI,WACvBkD,SAAU4G,KAAK9B,MAAM9E,SACrBvD,gBAAiBmK,KAAK9B,MAAMrI,oB,2CAeGkD,G,gFAC7BkH,EAAyB,IAAIC,YACxBC,OAAS,SAAAC,GACdA,EAAYnD,QAAUmD,EAAYnD,OAAOuC,QAC3C,EAAKpB,eACFiC,YAAYD,EAAYnD,OAAOuC,OAAOc,YACtCvB,MAAK,SAAAwB,GACJ,EAAKlD,SAAS,CACZvE,MAAO,EAAKoF,MAAMpF,MAAM0H,OAAO,CAC7B5G,YAAa2G,EACb7B,KAAM3F,EAAM2F,KACZvJ,KAAM4D,EAAM5D,aAMxB8K,EAAWQ,cAAc1H,G,2EAqGzB,IAAMmF,EAAQ8B,KAAK9B,MACfhI,OAAuCqH,IAA1BW,EAAMrI,gBACnBuD,EACc,KAAhB8E,EAAMZ,OAAsC,KAAtBY,EAAMd,aAAsBc,EAAMpF,MAAMG,OAAS,EAKzE,OAJA+G,KAAK3C,SAAS,CACZnH,aACAkD,aAEKlD,GAAckD,M,GA5K4B2B,M,gCC3BrD,IAAInH,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,wCACD,OAEJN,EAAQE,QAAUE,G,gCCflB,IAAIR,EAAyBC,EAAQ,IAErCC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAASP,EAAuBC,EAAQ,IAIxCO,GAAW,EAFMR,EAAuBC,EAAQ,KAElBK,SAASC,EAAOD,QAAQG,cAAc,OAAQ,CAC9EC,EAAG,+JACD,QAEJN,EAAQE,QAAUE","file":"static/js/5.76bccba1.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z\"\n}), 'FolderOpen');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\"\n}), 'HelpOutline');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');\n\nexports.default = _default;","import ApplicationComponent from \"../../common/applicationComponent\";\nimport React, { ReactNode, ChangeEvent } from \"react\";\nimport {\n  View,\n  styleSchema,\n  PrimaryButton,\n  MiniText,\n  H5,\n  P,\n} from \"../../common\";\nimport { default as AddIcon } from \"@material-ui/icons/Add\";\nimport { default as CloseIcon } from \"@material-ui/icons/Close\";\nimport { default as DeleteIcon } from \"@material-ui/icons/Delete\";\nimport { default as FolderOpenIcon } from \"@material-ui/icons/FolderOpen\";\nimport { default as HelpOutlineIcon } from \"@material-ui/icons/HelpOutline\";\nimport { default as LocationIcon } from \"@material-ui/icons/Room\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"../../common/textField\";\nimport { Address } from \"../../modal/deal\";\nimport { FileDetail } from \"../../modal/fileDetal\";\n\ninterface Props {\n  allowNumberOfFile: number;\n  files: FileDetail[];\n  hasAddress: boolean;\n  hasField: boolean;\n  onAddFile: (event: ChangeEvent<HTMLInputElement>) => void;\n  onChangeDescription: (description: string) => void;\n  onChangeTitle: (title: string) => void;\n  onClickAddress: (address: Address) => void;\n  onClickRemoveSelectedAddress: () => void;\n  onClickSaveDraft: () => void;\n  onClickSubmit: () => void;\n  onClose: () => void;\n  selectedAddress?: Address;\n}\n\nexport default class CreateDealLandingPageV2View extends ApplicationComponent<\n  Props\n> {\n  render() {\n    return (\n      <View style={styles.rootContainer}>\n        <this.Header />\n        <this.FileSection />\n        <this.Title />\n        <this.Description />\n        <this.AddressSelection />\n        <this.BottomButtonSecton />\n      </View>\n    );\n  }\n\n  protected AddImageButton = () => {\n    return (\n      <this.Frame>\n        <input\n          accept=\"image/*\"\n          onChange={(event) => this.props.onAddFile(event)}\n          style={{ display: \"none\" }}\n          id=\"raised-button-file\"\n          multiple\n          type=\"file\"\n        />\n        <label htmlFor=\"raised-button-file\">\n          <Button component=\"span\" style={styles.addIconButton}>\n            <AddIcon scale=\"big\" style={styles.addIcon} />\n          </Button>\n        </label>\n      </this.Frame>\n    );\n  };\n\n  protected AddressSelection = () => {\n    const addressDisplay = this.props.selectedAddress ? (\n      <this.SelectedAddress />\n    ) : (\n      <this.AddressBubble />\n    );\n    return (\n      <>\n        <this.MissingSectionLabel\n          hide={this.props.hasAddress}\n          label={this.appContext.labels.createDealPageV2.missingAddress}\n        />\n        <View isFlexDirectionRow style={styles.addressSectionContainer}>\n          <LocationIcon style={styles.locationIcon} />\n          {addressDisplay}\n        </View>\n      </>\n    );\n  };\n\n  protected AddressBubble = () => {\n    const bubbles = this.appState.address.addressesPrediction.map((address) => {\n      return (\n        <View\n          border={1}\n          onClick={() => this.props.onClickAddress(address)}\n          style={{ ...styles.addressBubbleContainer, whiteSpace: \"nowrap\" }}\n        >\n          <P style={{ color: styleSchema.color.secondaryColor }}>\n            {address.formattedAddress}\n          </P>\n        </View>\n      );\n    });\n    return (\n      <View isFlexDirectionRow style={styles.addressSelectionContainer}>\n        {bubbles}\n      </View>\n    );\n  };\n\n  protected BottomButtonSecton = () => {\n    return (\n      <View isFlexDirectionRow style={styles.bottomButtonSectionContainer}>\n        <this.DraftButton />\n        <this.SubmitButton />\n      </View>\n    );\n  };\n\n  protected CloseButton = () => {\n    return <CloseIcon onClick={this.props.onClose} style={styles.closeIcon} />;\n  };\n\n  protected Description = () => {\n    return (\n      <TextField\n        multiline\n        onChange={this.props.onChangeDescription}\n        placeholder={\n          this.appContext.labels.createDealPageV2.descriptionPlaceHolder\n        }\n        rows={6}\n      />\n    );\n  };\n\n  protected DraftButton = () => {\n    return (\n      <Button onClick={this.props.onClickSaveDraft} style={styles.draftButton}>\n        <View style={styles.draftButtonContainer}>\n          <FolderOpenIcon style={styles.draftIcon} />\n          <MiniText color=\"secondary\">\n            {this.appContext.labels.createDealPageV2.saveDraft}\n          </MiniText>\n        </View>\n      </Button>\n    );\n  };\n\n  protected FileSection = () => {\n    const images: ReactNode[] = this.props.files.map((image) => (\n      <this.ImageContainer image={image} />\n    ));\n    if (this.props.files.length < this.props.allowNumberOfFile) {\n      images.push(<this.AddImageButton />);\n    }\n    return (\n      <>\n        <this.MissingSectionLabel\n          hide={this.props.hasField}\n          label={this.appContext.labels.createDealPageV2.missingField}\n        />\n        <View isFlexDirectionRow style={styles.fileSectionContainer}>\n          {images}\n        </View>\n      </>\n    );\n  };\n\n  protected Header = () => {\n    return (\n      <View isFlexDirectionRow style={styles.headerContainer}>\n        <this.ImageDimensionTips />\n        <this.CloseButton />\n      </View>\n    );\n  };\n\n  protected ImageContainer = ({ image }: { image: FileDetail }) => {\n    return (\n      <this.Frame>\n        <img\n          alt={\"user-input\"}\n          src={image.base64Value}\n          style={{ ...styles.imageStyle, objectFit: \"cover\" }}\n        />\n      </this.Frame>\n    );\n  };\n\n  protected ImageDimensionTips = () => {\n    return (\n      <View isFlexDirectionRow style={styles.imageDimensionTipsContainer}>\n        <HelpOutlineIcon style={styles.imageDimensionTipsIcon} />\n        <H5>{this.appContext.labels.createDealPageV2.imageDimensionTips}</H5>\n      </View>\n    );\n  };\n\n  protected Frame = ({ children }: { children: ReactNode }) => {\n    return (\n      <View border={1} style={styles.frameContainer}>\n        {children}\n      </View>\n    );\n  };\n\n  protected MissingSectionLabel = ({\n    label,\n    hide,\n  }: {\n    label: string;\n    hide: boolean;\n  }) => {\n    return hide ? null : (\n      <P style={{ color: \"red\", fontWeight: \"bold\" }}>{label}</P>\n    );\n  };\n\n  protected SelectedAddress = () => {\n    return (\n      <View isFlexDirectionRow style={styles.selectedAddressContainer}>\n        <P style={styles.selectedAddressText}>\n          {this.props.selectedAddress?.formattedAddress ?? \"\"}\n        </P>\n        <DeleteIcon\n          onClick={this.props.onClickRemoveSelectedAddress}\n          style={styles.deleteIcon}\n        />\n      </View>\n    );\n  };\n\n  protected SubmitButton = () => {\n    return (\n      <PrimaryButton onClick={this.props.onClickSubmit}>\n        {this.appContext.labels.createDealPageV2.submitPost}\n      </PrimaryButton>\n    );\n  };\n\n  protected Title = () => {\n    return (\n      <TextField\n        onChange={this.props.onChangeTitle}\n        placeholder={this.appContext.labels.createDealPageV2.titlePlaceHolder}\n      />\n    );\n  };\n}\n\nconst styles = {\n  addIcon: {\n    color: styleSchema.color.greyTransparent,\n    fontSize: \"80\",\n  },\n  addIconButton: {\n    borderRadius: 10,\n  },\n  addressBubbleContainer: {\n    borderColor: styleSchema.color.secondaryColor,\n    borderRadius: 30,\n    paddingTop: 2,\n    paddingBottom: 2,\n    paddingLeft: 10,\n    paddingRight: 10,\n    marginRight: 5,\n  },\n  addressSelectionContainer: {\n    overflow: \"scroll\",\n    paddingBottom: 10,\n  },\n  addressSectionContainer: {\n    alignItems: \"center\",\n    marginTop: 5,\n    width: \"inherit\",\n  },\n  bottomButtonSectionContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: 20,\n    marginTop: 20,\n    width: \"inherit\",\n  },\n  closeIcon: {\n    color: styleSchema.color.greyDark,\n  },\n  deleteIcon: {\n    color: styleSchema.color.greyDark,\n  },\n  descriptionTextField: {\n    marginTop: 10,\n    width: \"inherit\",\n  },\n  draftButton: {\n    padding: 0,\n  },\n  draftButtonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  draftIcon: {\n    backgroundColor: styleSchema.color.secondaryColorTransparent,\n    borderRadius: 25,\n    color: styleSchema.color.secondaryColor,\n    fontSize: 16,\n    marginBottom: 1,\n    padding: 3,\n  },\n  fileSectionContainer: {\n    alignItems: \"start\",\n    overflow: \"scroll\",\n    paddingBottom: 10,\n    paddingTop: 10,\n    width: \"inherit\",\n  },\n  frameContainer: {\n    alignItems: \"center\",\n    borderColor: styleSchema.color.greyTransparent,\n    borderRadius: 10,\n    justifyContent: \"center\",\n    margin: 5,\n    maxHeight: 80,\n    maxWidth: 80,\n    minHeight: 80,\n    minWidth: 80,\n  },\n  headerContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 15,\n    width: \"inherit\",\n  },\n  imageDimensionTipsContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  imageDimensionTipsIcon: {\n    color: styleSchema.color.secondaryColor,\n    fontSize: 18,\n  },\n  imageStyle: {\n    borderRadius: 10,\n    minHeight: \"inherit\",\n    minWidth: \"inherit\",\n  },\n  locationIcon: {\n    color: styleSchema.color.red,\n    marginLeft: -5,\n    marginRight: 3,\n    paddingBottom: 10,\n  },\n  rootContainer: {\n    width: \"inherit\",\n  },\n  selectedAddressContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingBottom: 10,\n    width: \"inherit\",\n  },\n  selectedAddressText: {\n    color: styleSchema.color.black,\n  },\n  titleTextField: {\n    marginTop: 10,\n    width: \"inherit\",\n  },\n};\n","import React, { ChangeEvent } from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { CreateDealLandingPageV2View } from \"./\";\nimport Deal, { Address, GetDealResponse } from \"../../modal/deal\";\nimport {\n  CREATE_DEAL,\n  UPLOAD_IMAGE_SIGNED_URL,\n  GET_PRESIGNED_URL\n} from \"../../common/middleware/service\";\nimport { GET_DEALS } from \"../../common/middleware/service\";\nimport { FileUploadResponse } from \"../../modal/fileUploadResponse\";\nimport { FileDetail } from \"../../modal/fileDetal\";\n\nconst ALLOWED_NUMBER_OF_FILE = 9;\n\ninterface Props {\n  onClose: () => void;\n}\n\ninterface State {\n  blobFiles: any[];\n  description: string;\n  files: FileDetail[];\n  hasAddress: boolean;\n  hasField: boolean;\n  selectedAddress?: Address;\n  title: string;\n}\n\nexport default class CreateDealLandingPageV2 extends ApplicationComponent<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      files: [],\n      blobFiles: [],\n      description: \"\",\n      hasAddress: true,\n      hasField: true,\n      title: \"\"\n    };\n  }\n\n  render() {\n    return (\n      <CreateDealLandingPageV2View\n        allowNumberOfFile={ALLOWED_NUMBER_OF_FILE}\n        files={this.state.files}\n        onAddFile={this.onAddFile}\n        onChangeDescription={this.onChangeDescription}\n        onChangeTitle={this.onChangeTitle}\n        onClickAddress={this.onClickAddress}\n        onClickRemoveSelectedAddress={this.onClickRemoveSelectedAddress}\n        onClickSaveDraft={this.onClickSaveDraft}\n        onClickSubmit={this.onClickSubmit}\n        onClose={this.props.onClose}\n        hasAddress={this.state.hasAddress}\n        hasField={this.state.hasField}\n        selectedAddress={this.state.selectedAddress}\n      />\n    );\n  }\n\n  protected onAddFile = (event: ChangeEvent<HTMLInputElement>) => {\n    console.debug(\"onAddImage\");\n    const fileList = event.target.files;\n    if (fileList !== null) {\n      for (let i = 0; i < fileList.length; i++) {\n        this.convertImageToBase64(fileList[i]);\n      }\n    }\n  };\n\n  protected async convertImageToBase64(image: File) {\n    const fileReader: FileReader = new FileReader();\n    fileReader.onload = changeEvent => {\n      if (changeEvent.target && changeEvent.target.result) {\n        this.imageProcessor\n          .fixRotation(changeEvent.target.result.toString())\n          .then(fixedRotation => {\n            this.setState({\n              files: this.state.files.concat({\n                base64Value: fixedRotation,\n                name: image.name,\n                type: image.type\n              })\n            });\n          });\n      }\n    };\n    fileReader.readAsDataURL(image);\n  }\n\n  protected onChangeDescription = (description: string) => {\n    console.debug(\"onChangeDescription\");\n    this.setState({\n      description\n    });\n  };\n\n  protected onChangeTitle = (title: string) => {\n    console.debug(\"onChangeTitle\");\n    this.setState({\n      title\n    });\n  };\n\n  protected onClickAddress = (selectedAddress: Address) => {\n    console.debug(\"onClickAddress\");\n    this.setState({\n      selectedAddress\n    });\n  };\n\n  protected onClickRemoveSelectedAddress = () => {\n    console.debug(\"onClickRemoveSelectedAddress\");\n    this.setState({\n      selectedAddress: undefined\n    });\n  };\n\n  protected onClickSaveDraft = () => {\n    console.debug(\"onClickSaveDraft\");\n  };\n\n  protected onClickSubmit = async () => {\n    console.debug(\"onClickSubmit\");\n    if (this.verifyInput()) {\n      this.onSubmit();\n    }\n  };\n\n  protected onSubmit = async () => {\n    console.debug(\"start to submit a new deal\");\n    await this.appState.createDeal.setCreateDealUploading(true);\n    this.props.onClose();\n    const labels = this.appContext.labels.createDealPageV2;\n    await this.appState.createDeal.setCreateDealProgressMessage(\n      labels.uploadingImage\n    );\n    const imageUploadResult = await Promise.all(\n      this.state.files.map(async file => {\n        const imageBlob: File = await this.imageProcessor.imagePrecprocess(\n          file.base64Value\n        );\n        const fileUploadResponse: FileUploadResponse = await this.appContext.serviceExecutor.execute(\n          GET_PRESIGNED_URL(file.type, file.name)\n        );\n        await this.appContext.serviceExecutor.execute(\n          UPLOAD_IMAGE_SIGNED_URL(\n            imageBlob,\n            fileUploadResponse.preSignedUrl ?? \"\"\n          )\n        );\n        return fileUploadResponse.url;\n      })\n    ).then(url => url);\n\n    await this.appState.createDeal.setCreateDealProgressMessage(\n      labels.uploadingDeal\n    );\n    const createDeal: Deal = {\n      address: this.state.selectedAddress,\n      description: this.state.description,\n      filesUrl: imageUploadResult.map(url => url ?? \"\"),\n      serverIdentifierName: this.state.selectedAddress?.area,\n      timestamp: 0,\n      title: this.state.title\n    };\n    await this.appContext.serviceExecutor.execute(CREATE_DEAL(createDeal));\n    if (this.state.selectedAddress) {\n      await this.appContext.serviceExecutor\n        .execute(GET_DEALS(this.state.selectedAddress))\n        .then((result: GetDealResponse) => {\n          this.appState.deal.setDeals(result.deals);\n        })\n        .then(() => {\n          setTimeout(() => {\n            this.appState.createDeal.setCreateDealUploading(false);\n          }, 5000);\n        })\n        .catch(() => {\n          console.debug(\"something weng wrong while creating deal\");\n        });\n    }\n    await this.appState.createDeal.setCreateDealProgressMessage(\n      labels.uploadCompleted\n    );\n  };\n\n  protected verifyInput(): boolean {\n    const state = this.state;\n    let hasAddress = state.selectedAddress !== undefined;\n    let hasField: boolean =\n      state.title !== \"\" || state.description !== \"\" || state.files.length > 0;\n    this.setState({\n      hasAddress,\n      hasField\n    });\n    return hasAddress && hasField;\n  }\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"\n}), 'Room');\n\nexports.default = _default;"],"sourceRoot":""}