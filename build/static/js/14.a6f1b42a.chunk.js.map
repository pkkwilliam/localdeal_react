{"version":3,"sources":["../node_modules/@material-ui/core/esm/Collapse/Collapse.js","common/messageBoard.tsx","component/announcement/announcement.tsx","common/stylesheet.ts","common/localStorage.ts","common/middleware/serviceExecutor.ts","common/transformer.ts","common/appContext.ts","common/imageProcessor.ts","common/applicationComponent.tsx","common/middleware/service.ts","common/view.tsx","common/h1.tsx","common/feature/feature.ts","common/icon.tsx","common/h5.tsx"],"names":["Collapse","React","forwardRef","props","ref","children","classes","className","_props$collapsedHeigh","collapsedHeight","collapsedHeightProp","_props$component","component","Component","inProp","in","onEnter","onEntered","onEntering","onExit","onExiting","style","_props$timeout","timeout","duration","standard","other","_objectWithoutProperties","theme","useTheme","timer","useRef","wrapperRef","autoTransitionDuration","concat","useEffect","clearTimeout","current","createElement","Transition","_extends","node","isAppearing","height","wrapperHeight","clientHeight","transitionDuration","getTransitionProps","mode","duration2","transitions","getAutoHeightDuration","addEndListener","_","next","setTimeout","state","childProps","clsx","container","entered","exited","hidden","minHeight","wrapper","wrapperInner","muiSupportAuto","withStyles","overflow","transition","create","visibility","display","width","name","MessageBoard","messages","this","map","message","generateMessages","hide","styles","collapseContainer","rootContainer","closeIconContainer","onClick","onClose","type","getStyle","color","content","boldText","list","text","ApplicationComponent","backgroundColor","styleSchema","greyLight","alignItems","dimension","FILL_ALL_WIDTH","blueTransparentSemi","borderRadius","justifyContent","margin","marginBottom","padding","fontSize","fontWeight","defaultText","Announcement","onCloseAnnouncement","console","debug","setState","hideAnnouncement","localStorage","getHideAnnouncement","generateAnnouncements","appContext","labels","announcement","ORANGE_GRADIENT","button","black","blueTransparent","green","greenMedium","greyDark","greyTransparent","orange","orangeGradient","orangeTransparent","primaryColor","primaryGradient","primaryColorTransparent","red","redDark","secondaryColor","secondaryColorTransparent","systemError","systemInform","systemSuccess","systemWarn","white","common","borderColor","FILL_ALL_HEIGHT","font","primaryFont","remind","textField","borderWidth","StorageType","ServiceExecutor","isMock","serviceUrl","headers","generateHeaders","endpoint","isMultipartFileRequest","hasMock","Promise","resolve","getResponse","serviceName","requestParam","optionalRequestParam","requestUrl","externalService","url","fetch","body","credentials","customHeader","method","then","result","isJsonResponse","get","match","status","json","reject","catch","exception","warn","response","JSON","parse","ex","ServiceName","GET_DEALS","GET_DEALS_RESPONSE","GET_CURRENT_ADDRESS","GET_POSITION_RESPONSE","GET_SERVER_HEALTH","GET_SERVICE_HEALTH","GET_USER_PROFILE","deals","id","address","attendCount","createdBy","dealCreated","likedSum","imageUrl","oAuthProvider","OAuthProvider","GOOGLE","description","filesUrl","serverIdentifierName","title","timestamp","likedCount","verifiedLikedUserCount","liked","area","formattedAddress","country","city","up","Transformer","_lables","currentDate","Date","dateCreated","timeDifference","getTime","getLabelAccrodingToTimeDifference","date","unknown","dayDifferent","Math","round","HOUR","day","today","callBack","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","AppContext","ALLOW_DEAL_REFRESH","DEAL_REFRESH_TIME","APIKEY","X_MADT_APPID","X_MADT_APP_VERSION","_serviceExecutor","_transformer","isAllowDealRefresh","Feature","CREATE_DEAL_DRAFT","CONTACT_SHOW_EMAIL","HEADER_MENU","LOGIN_GOOGLE_OAUTH","LOGIN_WECHAT_OAUTH","XMADTAPPID","XMADTAPPVERSION","chineseTraditionalLabel","isProd","ImageProcessor","file","imageType","quality","Resizer","imageFileResizer","processedImage","image","Image","src","URL","createObjectURL","onload","size","transferToBlob","blob","getImageInfo","imageCompressQuality","imageNameSplit","split","imageCompress","length","originalImage","loadImage","img","toDataURL","guessImageMime","orientation","data","charAt","LocalStorage","value","getItem","setItem","toString","_localStorage","_appContext","_imageProcessor","executeGetDeals","appState","selectedAddress","serviceExecutor","execute","getDealResponse","deal","setDeals","search","window","location","params","URLSearchParams","code","NONE","authorizationCode","history","pushState","document","all","getServerStatus","setCurrentPosition","checkOAuthFromUrl","getUserProfile","setCurrentAddress","checkOAuth","LOGIN_OAUTH_GOOGLE","oAuthRedirectUrl","onOAuthLoginComplete","transformer","getCurrentLocation","coordinate","setGeolocation","addresses","setPredicteAddresses","setLoadingPosition","setSelectedAddress","service","setServiceUp","user","setUserProfile","context","contextType","AppState","CREATE_DEAL","stringify","currentArea","generateCurrentAreaRequestParameter","generateParameter","GET_PRESIGNED_URL","fileType","fileName","redirectUrl","generateMultipleUrlParameters","LOGOUT_OAUTH","UPDATE_NICKNAME","nickname","UPLOAD_IMAGE_SIGNED_URL","signedUrl","VOTE_CHANGE","dealId","parameters","undefined","push","areaName","keyAndValue","parameter","i","key","View","flexDirection","isFlexDirectionRow","H1","getColor","getDefaultStyle","getDefaultColor","defaultStyle","fontFamily","Icon","CloseIcon","close","AddIcon","add","ExpandLessIcon","expand","ExpandMoreIcon","FavoriteBorderIcon","favorite","FavoriteIcon","LocationIcon","MenuIcon","menu","PostIcon","post","VerifiedIcon","verified","icon","getIcon","toolTipsMessage","disableTouchListener","startIcon","buttonStyle","marginLeft","H5"],"mappings":"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","file":"static/js/14.a6f1b42a.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { Transition } from 'react-transition-group';\nimport withStyles from '../styles/withStyles';\nimport { duration } from '../styles/transitions';\nimport { getTransitionProps } from '../transitions/utils';\nimport useTheme from '../styles/useTheme';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the container element. */\n    container: {\n      height: 0,\n      overflow: 'hidden',\n      transition: theme.transitions.create('height')\n    },\n\n    /* Styles applied to the container element when the transition has entered. */\n    entered: {\n      height: 'auto',\n      overflow: 'visible'\n    },\n\n    /* Styles applied to the container element when the transition has exited and `collapsedHeight` != 0px. */\n    hidden: {\n      visibility: 'hidden'\n    },\n\n    /* Styles applied to the outer wrapper element. */\n    wrapper: {\n      // Hack to get children with a negative margin to not falsify the height computation.\n      display: 'flex'\n    },\n\n    /* Styles applied to the inner wrapper element. */\n    wrapperInner: {\n      width: '100%'\n    }\n  };\n};\n/**\n * The Collapse transition is used by the\n * [Vertical Stepper](/components/steppers/#vertical-stepper) StepContent component.\n * It uses [react-transition-group](https://github.com/reactjs/react-transition-group) internally.\n */\n\nvar Collapse = React.forwardRef(function Collapse(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$collapsedHeigh = props.collapsedHeight,\n      collapsedHeightProp = _props$collapsedHeigh === void 0 ? '0px' : _props$collapsedHeigh,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      inProp = props.in,\n      onEnter = props.onEnter,\n      onEntered = props.onEntered,\n      onEntering = props.onEntering,\n      onExit = props.onExit,\n      onExiting = props.onExiting,\n      style = props.style,\n      _props$timeout = props.timeout,\n      timeout = _props$timeout === void 0 ? duration.standard : _props$timeout,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"collapsedHeight\", \"component\", \"in\", \"onEnter\", \"onEntered\", \"onEntering\", \"onExit\", \"onExiting\", \"style\", \"timeout\"]);\n\n  var theme = useTheme();\n  var timer = React.useRef();\n  var wrapperRef = React.useRef(null);\n  var autoTransitionDuration = React.useRef();\n  var collapsedHeight = typeof collapsedHeightProp === 'number' ? \"\".concat(collapsedHeightProp, \"px\") : collapsedHeightProp;\n  React.useEffect(function () {\n    return function () {\n      clearTimeout(timer.current);\n    };\n  }, []);\n\n  var handleEnter = function handleEnter(node, isAppearing) {\n    node.style.height = collapsedHeight;\n\n    if (onEnter) {\n      onEnter(node, isAppearing);\n    }\n  };\n\n  var handleEntering = function handleEntering(node, isAppearing) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'enter'\n    }),\n        transitionDuration = _getTransitionProps.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onEntering) {\n      onEntering(node, isAppearing);\n    }\n  };\n\n  var handleEntered = function handleEntered(node, isAppearing) {\n    node.style.height = 'auto';\n\n    if (onEntered) {\n      onEntered(node, isAppearing);\n    }\n  };\n\n  var handleExit = function handleExit(node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n    node.style.height = \"\".concat(wrapperHeight, \"px\");\n\n    if (onExit) {\n      onExit(node);\n    }\n  };\n\n  var handleExiting = function handleExiting(node) {\n    var wrapperHeight = wrapperRef.current ? wrapperRef.current.clientHeight : 0;\n\n    var _getTransitionProps2 = getTransitionProps({\n      style: style,\n      timeout: timeout\n    }, {\n      mode: 'exit'\n    }),\n        transitionDuration = _getTransitionProps2.duration;\n\n    if (timeout === 'auto') {\n      var duration2 = theme.transitions.getAutoHeightDuration(wrapperHeight);\n      node.style.transitionDuration = \"\".concat(duration2, \"ms\");\n      autoTransitionDuration.current = duration2;\n    } else {\n      node.style.transitionDuration = typeof transitionDuration === 'string' ? transitionDuration : \"\".concat(transitionDuration, \"ms\");\n    }\n\n    node.style.height = collapsedHeight;\n\n    if (onExiting) {\n      onExiting(node);\n    }\n  };\n\n  var addEndListener = function addEndListener(_, next) {\n    if (timeout === 'auto') {\n      timer.current = setTimeout(next, autoTransitionDuration.current || 0);\n    }\n  };\n\n  return React.createElement(Transition, _extends({\n    in: inProp,\n    onEnter: handleEnter,\n    onEntered: handleEntered,\n    onEntering: handleEntering,\n    onExit: handleExit,\n    onExiting: handleExiting,\n    addEndListener: addEndListener,\n    timeout: timeout === 'auto' ? null : timeout\n  }, other), function (state, childProps) {\n    return React.createElement(Component, _extends({\n      className: clsx(classes.container, className, {\n        entered: classes.entered,\n        exited: !inProp && collapsedHeight === '0px' && classes.hidden\n      }[state]),\n      style: _extends({\n        minHeight: collapsedHeight\n      }, style),\n      ref: ref\n    }, childProps), React.createElement(\"div\", {\n      className: classes.wrapper,\n      ref: wrapperRef\n    }, React.createElement(\"div\", {\n      className: classes.wrapperInner\n    }, children)));\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Collapse.propTypes = {\n  /**\n   * The content node to be collapsed.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The height of the container when collapsed.\n   */\n  collapsedHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the component will transition in.\n   */\n  in: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The duration for the transition, in milliseconds.\n   * You may specify a single timeout for all transitions, or individually with an object.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   */\n  timeout: PropTypes.oneOfType([PropTypes.number, PropTypes.shape({\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  }), PropTypes.oneOf(['auto'])])\n} : void 0;\nCollapse.muiSupportAuto = true;\nexport default withStyles(styles, {\n  name: 'MuiCollapse'\n})(Collapse);","import React from \"react\";\nimport View from \"./view\";\nimport H5 from \"./h5\";\nimport { Message } from \"../modal/message\";\nimport { styleSchema } from \"./stylesheet\";\nimport Icon from \"./icon\";\nimport { Collapse } from \"@material-ui/core\";\nimport ApplicationComponent from \"./applicationComponent\";\n\ninterface Props {\n  hide: boolean;\n  messages: Message[];\n  onClose: () => void;\n}\n\nexport default class MessageBoard extends ApplicationComponent<Props> {\n  render() {\n    const messages = this.props.messages.map((message) =>\n      this.generateMessages(message)\n    );\n    return (\n      <Collapse in={!this.props.hide} style={styles.collapseContainer}>\n        <View style={styles.rootContainer}>\n          <View style={styles.closeIconContainer}>\n            <Icon onClick={this.props.onClose} type=\"close\" />\n          </View>\n          {messages}\n        </View>\n      </Collapse>\n    );\n  }\n\n  protected generateMessages(message: Message) {\n    let style = this.getStyle(message.type);\n    return (\n      <H5 color=\"white\" style={{ ...style }}>\n        {message.content}\n      </H5>\n    );\n  }\n\n  protected getStyle(type: string) {\n    switch (type) {\n      case \"boldText\":\n        return styles.boldText;\n      case \"list\":\n        return styles.list;\n      case \"text\":\n        return styles.text;\n      default:\n        return styles.text;\n    }\n  }\n}\n\nconst styles = {\n  collapseContainer: { backgroundColor: styleSchema.color.greyLight },\n  closeIconContainer: {\n    alignItems: \"flex-end\",\n    width: styleSchema.dimension.FILL_ALL_WIDTH,\n  },\n  rootContainer: {\n    backgroundColor: styleSchema.color.blueTransparentSemi,\n    borderRadius: 5,\n    justifyContent: \"center\",\n    margin: 15,\n    marginBottom: 0,\n    padding: 15,\n  },\n  boldText: {\n    fontSize: 16,\n    fontWeight: 600,\n    marginBottom: 3,\n  },\n  defaultText: {},\n  list: {},\n  text: {},\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport MessageBoard from \"../../common/messageBoard\";\n\ninterface State {\n  hideAnnouncement: boolean;\n}\n\nexport default class Announcement extends ApplicationComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      hideAnnouncement: this.localStorage.getHideAnnouncement(),\n    };\n  }\n\n  render() {\n    return (\n      <MessageBoard\n        hide={this.state.hideAnnouncement}\n        messages={this.generateAnnouncements()}\n        onClose={this.onCloseAnnouncement}\n      />\n    );\n  }\n\n  protected generateAnnouncements() {\n    return this.appContext.labels.announcement.messages.map((message: any) => ({\n      content: message.content,\n      type: message.type,\n    }));\n  }\n\n  protected onCloseAnnouncement = () => {\n    console.debug(\"onCloseAnnouncement\");\n    this.setState({\n      hideAnnouncement: true,\n    });\n  };\n}\n","// button\nconst borderRadius = 15;\n\n// color\nconst BLACK = \"black\"; // TODO replace this with HEX code\nconst BLUE = \"#007AFF\";\nconst BLUE_TRANSPARENT = \"rgba(0,132,255,.1)\";\nconst BLUE_TRANSPARENT_SEMI = \"rgba(16, 137, 254,1)\";\nconst GREY_DARK = \"#7D7D7D\";\nconst GREY_LIGHT = \"#f6f6f6\";\nconst GREY_TRANSPARENT = \"rgba(12, 12, 12, .1)\";\nconst GREEN = \"#5CC928\";\nconst GREEN_MDEIUM = \"#1EA362\";\nconst ORANGE = \"#FF4F00\";\nconst ORANGE_GRADIENT = \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\";\nconst ORANGE_TRANSPARENT = \"rgb(255, 168, 128, .1)\";\nconst RED = \"EA4335\";\nconst RED_DARK = \"#DA4B3C\";\nconst WHITE = \"#FFFFFF\";\nconst SYSTEM_ERROR = \"#F44436\";\nconst SYSTEM_INFORM = \"#2196F3\";\nconst SYSTEM_SUCCESS = \"#4CAF51\";\nconst SYSTEM_WARN = \"#FF9800\";\n\n// dimension\nconst FILL_ALL_HEIGHT = \"-webkit-fill-available\";\nconst FILL_ALL_WIDTH = \"-webkit-fill-available\";\n\n// font\nconst PRIMARY_FONT = \"sans-serif\";\nconst FONT_SIZE = 16;\n\nexport interface StyleSheet {\n  button: {\n    borderRadius: number;\n  };\n  color: {\n    black: string;\n    blueTransparent: string;\n    blueTransparentSemi: string;\n    green: string;\n    greenMedium: string;\n    greyDark: string;\n    greyLight: string;\n    greyTransparent: string;\n    orange: string;\n    orangeGradient: string;\n    orangeTransparent: string;\n    primaryColor: string;\n    primaryGradient: string;\n    primaryColorTransparent: string;\n    red: string;\n    redDark: string;\n    secondaryColor: string;\n    secondaryColorTransparent: string;\n    systemError: string;\n    systemInform: string;\n    systemSuccess: string;\n    systemWarn: string;\n    white: string;\n  };\n  common: {\n    borderColor: string;\n  };\n  dimension: {\n    FILL_ALL_HEIGHT: string;\n    FILL_ALL_WIDTH: string;\n  };\n  font: {\n    fontSize: number;\n    primaryFont: string;\n  };\n  remind: {\n    primaryColor: string;\n    secondaryColor: string;\n  };\n  textField: {\n    borderColor: string;\n    borderRadius: number;\n    borderWidth: number;\n  };\n}\n\nexport const styleSchema: StyleSheet = {\n  button: {\n    borderRadius,\n  },\n  color: {\n    black: BLACK,\n    blueTransparent: BLUE_TRANSPARENT,\n    blueTransparentSemi: BLUE_TRANSPARENT_SEMI,\n    green: GREEN,\n    greenMedium: GREEN_MDEIUM,\n    greyDark: GREY_DARK,\n    greyLight: GREY_LIGHT,\n    greyTransparent: GREY_TRANSPARENT,\n    orange: ORANGE,\n    orangeGradient: ORANGE_GRADIENT,\n    orangeTransparent: ORANGE_TRANSPARENT,\n    primaryColor: ORANGE,\n    primaryGradient: ORANGE_GRADIENT,\n    primaryColorTransparent: ORANGE_TRANSPARENT,\n    red: RED,\n    redDark: RED_DARK,\n    secondaryColor: GREY_DARK,\n    secondaryColorTransparent: GREY_TRANSPARENT,\n    systemError: SYSTEM_ERROR,\n    systemInform: SYSTEM_INFORM,\n    systemSuccess: SYSTEM_SUCCESS,\n    systemWarn: SYSTEM_WARN,\n    white: WHITE,\n  },\n  common: {\n    borderColor: GREY_LIGHT,\n  },\n  dimension: {\n    FILL_ALL_HEIGHT,\n    FILL_ALL_WIDTH,\n  },\n  font: {\n    fontSize: FONT_SIZE,\n    primaryFont: PRIMARY_FONT,\n  },\n  remind: {\n    primaryColor: GREEN,\n    secondaryColor: BLUE,\n  },\n  textField: {\n    borderColor: BLUE,\n    borderRadius,\n    borderWidth: 2,\n  },\n};\n","enum StorageType {\n  hideAnnouncement = \"hideAnnouncement\",\n}\n\nexport default class LocalStorage {\n  getHideAnnouncement(): boolean {\n    const value = localStorage.getItem(StorageType.hideAnnouncement);\n    return value !== null && value === \"true\";\n  }\n\n  setHideAnnouncement(hide: boolean) {\n    localStorage.setItem(StorageType.hideAnnouncement, hide.toString());\n  }\n}\n","import { Endpoint, ServiceName } from \"./service\";\nimport { GetDealResponse, Address } from \"../../modal/deal\";\nimport { OAuthProvider } from \"../../modal/oAuthProvider\";\n\nexport default class ServiceExecutor {\n  constructor(\n    private readonly isMock: boolean,\n    private readonly serviceUrl: string,\n    private readonly headers: any\n  ) {}\n\n  public async execute(endpoint: Endpoint): Promise<any> {\n    if (this.isMock && endpoint.hasMock) {\n      return Promise.resolve(getResponse(endpoint.serviceName));\n    } else {\n      let headers = this.generateHeaders(endpoint);\n      let requestParam: string = endpoint.optionalRequestParam\n        ? endpoint.optionalRequestParam()\n        : \"\";\n      let requestUrl = endpoint.externalService\n        ? endpoint.url\n        : this.serviceUrl + endpoint.url + requestParam;\n      return (\n        fetch(requestUrl, {\n          body: endpoint.body,\n          credentials: endpoint.externalService ? \"omit\" : \"include\", // this is for CORS sending cookies\n          headers: endpoint.externalService ? endpoint.customHeader : headers,\n          method: endpoint.method,\n          mode: \"cors\",\n        })\n          .then((result) => {\n            const isJsonResponse = result.headers\n              .get(\"content-type\")\n              ?.match(\"application/json\");\n            const status = result.status;\n            if (status < 400) {\n              if (status === 204 || !isJsonResponse) {\n                return Promise.resolve();\n              } else {\n                return Promise.resolve(result.json());\n              }\n            } else if (result.status > 400) {\n              return Promise.reject();\n            }\n          })\n          // .then(result => Promise.resolve(result))\n          .catch((exception) => {\n            console.warn(\n              \"Something is wrong while fetch: \",\n              requestUrl,\n              exception\n            );\n            return Promise.reject(exception);\n          })\n      );\n    }\n  }\n\n  protected isJsonResponse(response: string): boolean {\n    try {\n      JSON.parse(response);\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  }\n\n  protected generateHeaders = (endpoint: Endpoint) => {\n    return !endpoint.isMultipartFileRequest\n      ? {\n          ...this.headers,\n          \"Content-Type\": \"application/json\",\n        }\n      : { ...this.headers };\n  };\n}\n\nconst getResponse = (serviceName: ServiceName): any => {\n  console.debug(\"get mock response:\", serviceName);\n  switch (serviceName) {\n    case ServiceName.GET_DEALS:\n      return GET_DEALS_RESPONSE;\n    case ServiceName.GET_CURRENT_ADDRESS:\n      return GET_POSITION_RESPONSE;\n    case ServiceName.GET_SERVER_HEALTH:\n      return GET_SERVICE_HEALTH;\n    case ServiceName.GET_USER_PROFILE:\n      return GET_USER_PROFILE;\n    default:\n      return Promise.reject();\n  }\n};\n\nconst GET_DEALS_RESPONSE: GetDealResponse = {\n  deals: [\n    {\n      id: 1,\n      address: \"Mock Address 2\",\n      attendCount: 5,\n      createdBy: {\n        id: 0,\n        dealCreated: [9, 8, 2],\n        likedSum: 0,\n        name: \"Mock User\",\n        imageUrl:\n          \"https://www.picclickimg.com/d/l400/pict/163647152800_/Cubd-Collectibles-Disney-Frozen-Elsa-Small-Soft-Stuffed.jpg\",\n        oAuthProvider: OAuthProvider.GOOGLE,\n      },\n      description:\n        '<p><img src=\"https://storage.cloud.google.com/deal_image/1577871875967\"></p>',\n      filesUrl: [\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n      ],\n      serverIdentifierName: \"MACAU\",\n      title: \"澳門 蛋逹王子\",\n      timestamp: 1577872077582,\n      likedCount: 1378,\n      verifiedLikedUserCount: 521,\n      liked: false,\n    },\n    {\n      id: 1,\n      address: \"Mock Address 2\",\n      attendCount: 5,\n      description:\n        \"The content of ExpansionPanels is mounted by default even if the panel is not expanded. This default behavior has server-side rendering and SEO in mind. If you render expensive component trees inside your panels or simply render many panels it might be a good idea to change this default behavior by enabling the unmountOnExit in TransitionProps:\",\n      filesUrl: [\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n      ],\n      serverIdentifierName: \"MACAU\",\n      title: \"澳門 CRAZY 蛋逹王子\",\n      timestamp: 1576871229332,\n      likedCount: 0,\n      verifiedLikedUserCount: 0,\n      liked: false,\n    },\n    {\n      id: 2,\n      address: \"Mock Address 2\",\n      attendCount: 0,\n      description:\n        \"STTSTSDFounted by default even if the panel is not expanded. This default behavior has server-side rendering and SEO in mind. If you render expensive component trees inside your panels or simply render many panels it might be a good idea to change this default behavior by enabling the unmountOnExit in TransitionProps:\",\n      filesUrl: [\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n      ],\n      serverIdentifierName: \"MACAU\",\n      title: \"澳門 CRAZY 蛋逹王子\",\n      timestamp: 1576871229332,\n      likedCount: 0,\n      verifiedLikedUserCount: 0,\n      liked: false,\n    },\n  ],\n};\n\nconst GET_POSITION_RESPONSE: Address[] = [\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街166號\",\n    country: \"澳門\",\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街166號\",\n    country: \"澳門\",\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街148號\",\n    country: \"澳門\",\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街90號\",\n    country: \"澳門\",\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門花地瑪堂區\",\n    city: \"花地瑪堂區\",\n    country: \"澳門\",\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門\",\n    country: \"澳門\",\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門\",\n    country: \"澳門\",\n  },\n];\n\nconst GET_SERVICE_HEALTH = {\n  up: true,\n};\n\nconst GET_USER_PROFILE = {\n  id: 0,\n  dealCreated: [1, 3, 4],\n  likedSum: 1923,\n  name: \"Mock User\",\n  imageUrl:\n    \"https://www.picclickimg.com/d/l400/pict/163647152800_/Cubd-Collectibles-Disney-Frozen-Elsa-Small-Soft-Stuffed.jpg\",\n  oAuthProvider: \"GOOGLE\",\n};\n","import AppContext from \"./appContext\";\nimport { Coordinate } from \"../modal/deal\";\n\nconst HOUR = 1000 * 60 * 60;\nconst DAY = HOUR * 24;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\n\nexport default class Transformer {\n  constructor(private readonly _lables: any) {}\n  timeDifferentCalcualtor(timestamp: number): string {\n    if (timestamp) {\n      let currentDate: Date = new Date();\n      let dateCreated: Date = new Date(timestamp);\n      let timeDifference: number =\n        currentDate.getTime() - dateCreated.getTime();\n      return this.getLabelAccrodingToTimeDifference(timeDifference);\n    } else {\n      console.warn(\"timestamp error: \", timestamp);\n      return this._lables.date.unknown;\n    }\n  }\n\n  getLabelAccrodingToTimeDifference(timeDifference: number): string {\n    // Determine if display detail days needed.\n    const dayDifferent = Math.round(timeDifference / DAY);\n    return dayDifferent > 0\n      ? `${dayDifferent}${this._lables.date.day}`\n      : this._lables.date.today;\n  }\n\n  getCurrentLocation(callBack: any): void {\n    navigator.geolocation.getCurrentPosition((position: Position) => {\n      let { latitude, longitude } = position.coords;\n      let currentPosition: Coordinate = {\n        latitude,\n        longitude\n      };\n      callBack(currentPosition);\n    });\n  }\n}\n","import ServiceExecutor from \"./middleware/serviceExecutor\";\nimport Transformer from \"./transformer\";\nimport chineseTraditionalLabel from \"../content/labels/chinese.traditional.json\";\nimport { Feature } from \"./feature/feature\";\n\nexport default class AppContext {\n  // Deal Refresh\n  private ALLOW_DEAL_REFRESH: boolean = false;\n  private readonly DEAL_REFRESH_TIME: number = 5 * 1000;\n\n  // API Headers\n  private readonly APIKEY = \"vKZywb959gExXaEHSwdzdq7MfZu3Nb\";\n  private readonly X_MADT_APPID: string = \"localdeal\";\n  private readonly X_MADT_APP_VERSION: string = \"0.0.1\";\n\n  private readonly _serviceExecutor: ServiceExecutor = new ServiceExecutor(\n    this.isMock,\n    this.serviceUrl,\n    this.headers\n  );\n\n  private readonly _transformer: Transformer = new Transformer(this.labels);\n\n  get allowDealRefresh(): boolean {\n    return this.ALLOW_DEAL_REFRESH;\n  }\n\n  set allowDealRefresh(isAllowDealRefresh: boolean) {\n    this.ALLOW_DEAL_REFRESH = isAllowDealRefresh;\n  }\n\n  get dealRefreshTime(): number {\n    return this.DEAL_REFRESH_TIME;\n  }\n\n  get features(): Feature[] {\n    return [\n      Feature.CREATE_DEAL_DRAFT,\n      Feature.CONTACT_SHOW_EMAIL,\n      Feature.HEADER_MENU,\n      Feature.LOGIN_GOOGLE_OAUTH,\n      Feature.LOGIN_WECHAT_OAUTH,\n    ];\n  }\n\n  get headers() {\n    let { APIKEY, X_MADT_APPID, X_MADT_APP_VERSION } = this;\n    return {\n      APIKEY: APIKEY,\n      XMADTAPPID: X_MADT_APPID,\n      XMADTAPPVERSION: X_MADT_APP_VERSION,\n    };\n  }\n\n  get labels() {\n    return chineseTraditionalLabel;\n  }\n\n  get isMock(): boolean {\n    return false;\n  }\n\n  get isProd(): boolean {\n    return true;\n  }\n\n  get oAuthRedirectUrl(): string {\n    return this.isProd ? \"https://liuda.site\" : \"http://127.0.0.1:3000\";\n  }\n\n  get serviceExecutor(): ServiceExecutor {\n    return this._serviceExecutor;\n  }\n\n  get serviceUrl(): string {\n    // TODO need prod url\n    return this.isProd ? \"https://liuda.site:8082\" : \"http://127.0.0.1:8081\";\n  }\n\n  get transformer(): Transformer {\n    return this._transformer;\n  }\n}\n","import Resizer from \"react-image-file-resizer\";\nimport loadImage from \"blueimp-load-image\";\n\nexport default class ImageProcessor {\n  public imageCompress(\n    file: File,\n    imageType: string,\n    height: number,\n    width: number,\n    quality: number\n  ): Promise<File> {\n    return new Promise((resolve, reject) => {\n      const callBackFunction = (processedImage: File) => {\n        resolve(processedImage);\n      };\n      Resizer.imageFileResizer(\n        file,\n        width / 5,\n        height,\n        imageType,\n        quality,\n        0,\n        callBackFunction,\n        \"blob\"\n      );\n    });\n  }\n\n  public async getImageInfo(\n    file: File\n  ): Promise<{ height: number; size: number; type: string; width: number }> {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = URL.createObjectURL(file);\n      image.onload = () => {\n        return resolve({\n          height: image.height,\n          size: file.size,\n          type: file.type,\n          width: image.width,\n        });\n      };\n    });\n  }\n\n  public async imagePrecprocess(file: any): Promise<File> {\n    let blob = await this.transferToBlob(file);\n    const { height, size, type, width } = await this.getImageInfo(blob);\n    console.debug(\"original image size:\", size);\n    const imageCompressQuality = size > 100000 ? 10 : 100;\n    const imageNameSplit = type.split(\"/\");\n    const processedImage = await this.imageCompress(\n      blob,\n      imageNameSplit[imageNameSplit.length - 1],\n      height,\n      width,\n      imageCompressQuality\n    );\n    await this.getImageInfo(processedImage);\n    return Promise.resolve(processedImage);\n  }\n\n  protected transferToBlob(file: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      return fetch(file)\n        .then((originalImage) => originalImage.blob())\n        .then((result) => resolve(result));\n    });\n  }\n\n  public fixRotation(file: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      loadImage(\n        file,\n        (img: any) => {\n          return resolve(img.toDataURL(this.guessImageMime(file)));\n        },\n        { orientation: true }\n      );\n    });\n  }\n\n  guessImageMime(data: string): string {\n    if (data.charAt(0) === \"/\") {\n      return \"image/jpeg\";\n    } else if (data.charAt(0) === \"R\") {\n      return \"image/gif\";\n    } else if (data.charAt(0) === \"i\") {\n      return \"image/png\";\n    } else {\n      return \"\";\n    }\n  }\n}\n","import { Component } from \"react\";\nimport AppContext from \"./appContext\";\nimport { OAuthProvider } from \"../modal/oAuthProvider\";\nimport ImageProcessor from \"./imageProcessor\";\nimport AppState from \"../common/context/appState\";\nimport AppStateInterface from \"./context/appStateInterface\";\nimport {\n  LOGIN_OAUTH_GOOGLE,\n  GET_CURRENT_ADDRESS,\n  GET_DEALS,\n  GET_SERVER_HEALTH,\n  GET_USER_PROFILE,\n} from \"./middleware/service\";\nimport LocalStorage from \"../common/localStorage\";\nimport { Coordinate, GetDealResponse, Address } from \"../modal/deal\";\n\nexport default class ApplicationComponent<\n  ChildProps = {},\n  ChildState = {}\n> extends Component<ChildProps, ChildState> {\n  static contextType = AppState;\n  private readonly _localStorage = new LocalStorage();\n  private readonly _appContext: AppContext = new AppContext();\n  private readonly _imageProcessor: ImageProcessor = new ImageProcessor();\n\n  get appContext(): AppContext {\n    return this._appContext;\n  }\n\n  get appState(): AppStateInterface {\n    return this.context;\n  }\n\n  get imageProcessor(): ImageProcessor {\n    return this._imageProcessor;\n  }\n\n  get localStorage(): LocalStorage {\n    return this._localStorage;\n  }\n\n  public checkOAuth(): {\n    authorizationCode: string;\n    oAuthProvider: OAuthProvider;\n  } {\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const state = params.get(\"state\");\n    const code = params.get(\"code\");\n    let oAuthProvider: OAuthProvider = OAuthProvider.NONE;\n    let authorizationCode: string = \"\";\n    if (state === OAuthProvider.GOOGLE) {\n      oAuthProvider = OAuthProvider.GOOGLE;\n      authorizationCode = code ?? \"\";\n    }\n    return {\n      authorizationCode,\n      oAuthProvider,\n    };\n  }\n\n  public onOAuthLoginComplete() {\n    window.history.pushState(null, document.title, \"/\");\n  }\n\n  async executeInit() {\n    let value = await Promise.all([\n      this.getServerStatus().then((result) => result),\n      this.setCurrentPosition(),\n    ]);\n    if (value[0]) {\n      this.checkOAuthFromUrl();\n      this.getUserProfile();\n      await this.setCurrentAddress();\n      await this.executeGetDeals();\n    }\n    return value[0];\n  }\n\n  protected checkOAuthFromUrl() {\n    const { authorizationCode, oAuthProvider } = this.checkOAuth();\n    if (oAuthProvider === OAuthProvider.GOOGLE) {\n      this.appContext.serviceExecutor\n        .execute(\n          LOGIN_OAUTH_GOOGLE(\n            authorizationCode,\n            this.appContext.oAuthRedirectUrl\n          )\n        )\n        .then(() => {\n          this.onOAuthLoginComplete();\n          this.getUserProfile();\n        });\n    }\n  }\n\n  protected async setCurrentPosition() {\n    if (this.appContext.isMock) {\n      return Promise.resolve();\n    }\n    return new Promise((resolve, reject) => {\n      this.appContext.transformer.getCurrentLocation(\n        (coordinate: Coordinate) => {\n          this.appState.position.setGeolocation(coordinate);\n          return resolve();\n        }\n      );\n    });\n  }\n\n  protected async setCurrentAddress() {\n    return new Promise((resolve, reject) => {\n      this.appContext.serviceExecutor\n        .execute(\n          GET_CURRENT_ADDRESS({\n            coordinate: this.appState.position.coordinate,\n          })\n        )\n        .then((addresses: Address[]) => {\n          this.appState.address.setPredicteAddresses(addresses);\n          this.appState.position.setLoadingPosition(false);\n          this.appState.address.setSelectedAddress(addresses[0]);\n          return resolve();\n        });\n    });\n  }\n\n  protected executeGetDeals = () => {\n    if (this.appState.address.selectedAddress?.area) {\n      this.appContext.serviceExecutor\n        .execute(GET_DEALS(this.appState.address.selectedAddress))\n        .then((getDealResponse: GetDealResponse) => {\n          this.appState.deal.setDeals(getDealResponse.deals);\n        });\n    }\n  };\n\n  protected async getServerStatus() {\n    return this.appContext.serviceExecutor\n      .execute(GET_SERVER_HEALTH())\n      .then((result) => {\n        this.appState.service.setServiceUp(result.up);\n        return Promise.resolve(result.up);\n      })\n      .catch((ex) => {\n        this.appState.service.setServiceUp(false);\n        return Promise.reject(false);\n      });\n  }\n\n  protected getUserProfile() {\n    this.appContext.serviceExecutor\n      .execute(GET_USER_PROFILE())\n      .then((result) => {\n        return this.appState.user.setUserProfile(result);\n      });\n  }\n}\n","import CurrentArea from \"../../modal/currentArea\";\nimport Deal, { Address } from \"../../modal/deal\";\n\nconst AREA_NAME_URL_PARAMETER: string = \"areaName\";\nconst AUTHORIZATION_CODE_PARAMETER: string = \"authorizationCode\";\nconst LATITUDE_URL_PARAMETER: string = \"latitude\";\nconst LONGITUDE_URL_PARAMETER: string = \"longitude\";\nconst REDIRECT_URL_PARAMETER: string = \"redirectUrl\";\n\nexport enum ServiceName {\n  CREATE_DEAL = \"CREATE_DEAL\",\n  GET_CURRENT_ADDRESS = \"GET_CURRENT_ADDRESS\",\n  GET_DEALS = \"GET_DEALS\",\n  GET_PRESIGNED_URL = \"GET_PRESIGNED_URL\",\n  GET_SERVER_HEALTH = \"GET_SERVER_HEALTH\",\n  GET_USER_PROFILE = \"GET_USER_PROFILE\",\n  LOGIN_OAUTH_GOOGLE = \"LOGIN_OAUTH_GOOGLE\",\n  LOGOUT_OAUTH = \"LOGOUT_OAUTH\",\n  UPDATE_NICKNAME = \"UPDATE_NICKNAME\",\n  UPLOAD_IMAGE = \"UPLOAD_IMAGE\",\n  UPLOAD_IMAGE_SIGNED_URL = \"UPLOAD_IMAGE_SIGNED_URL\",\n  VOTE_CHANGE = \"VOTE_CHANGE\",\n}\n\nexport const CREATE_DEAL = (deal: Deal): Endpoint => {\n  return {\n    body: JSON.stringify(deal),\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"POST\",\n    url: \"/deals\",\n    serviceName: ServiceName.CREATE_DEAL,\n  };\n};\n\nexport const GET_CURRENT_ADDRESS = (currentArea: CurrentArea) => {\n  return {\n    externalService: false,\n    method: \"GET\",\n    hasMock: true,\n    isMultipartFileRequest: false,\n    url: \"/position\",\n    optionalRequestParam: () =>\n      generateCurrentAreaRequestParameter(currentArea),\n    serviceName: ServiceName.GET_CURRENT_ADDRESS,\n  };\n};\n\nexport const GET_DEALS = (address: Address): Endpoint => {\n  return {\n    externalService: false,\n    hasMock: true,\n    isMultipartFileRequest: false,\n    method: \"GET\",\n    url: \"/deals\",\n    optionalRequestParam: () =>\n      `?${generateParameter(AREA_NAME_URL_PARAMETER, address.area || \"\")}`,\n    serviceName: ServiceName.GET_DEALS,\n  };\n};\n\nexport const GET_PRESIGNED_URL = (\n  fileType: string,\n  fileName: string\n): Endpoint => {\n  return {\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"GET\",\n    url: \"/file\",\n    optionalRequestParam: () => `?contentType=${fileType}&fileName=${fileName}`,\n    serviceName: ServiceName.GET_PRESIGNED_URL,\n  };\n};\n\nexport const GET_SERVER_HEALTH = (): Endpoint => ({\n  externalService: false,\n  hasMock: true,\n  isMultipartFileRequest: false,\n  method: \"GET\",\n  url: \"/health\",\n  serviceName: ServiceName.GET_SERVER_HEALTH,\n});\n\nexport const GET_USER_PROFILE = (): Endpoint => ({\n  externalService: false,\n  hasMock: true,\n  isMultipartFileRequest: false,\n  method: \"GET\",\n  url: \"/userProfile\",\n  serviceName: ServiceName.GET_USER_PROFILE,\n});\n\nexport const LOGIN_OAUTH_GOOGLE = (\n  authorizationCode: string,\n  redirectUrl: string\n): Endpoint => {\n  return {\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"POST\",\n    url: \"/oauth/google\",\n    optionalRequestParam: () =>\n      generateMultipleUrlParameters([\n        AUTHORIZATION_CODE_PARAMETER,\n        authorizationCode,\n        REDIRECT_URL_PARAMETER,\n        redirectUrl,\n      ]),\n    serviceName: ServiceName.LOGIN_OAUTH_GOOGLE,\n  };\n};\n\nexport const LOGOUT_OAUTH = (): Endpoint => ({\n  externalService: false,\n  hasMock: false,\n  isMultipartFileRequest: false,\n  method: \"DELETE\",\n  url: \"/oauth\",\n  serviceName: ServiceName.LOGOUT_OAUTH,\n});\n\nexport const UPDATE_NICKNAME = (nickname: string): Endpoint => ({\n  externalService: false,\n  hasMock: false,\n  isMultipartFileRequest: false,\n  method: \"PUT\",\n  optionalRequestParam: () =>\n    generateMultipleUrlParameters([\"nickname\", nickname]),\n  url: \"/userProfile/nickname\",\n  serviceName: ServiceName.UPDATE_NICKNAME,\n});\n\nexport const UPLOAD_IMAGE = (image: any): Endpoint => {\n  return {\n    body: image,\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: true,\n    method: \"POST\",\n    url: \"/file/multipart\",\n    serviceName: ServiceName.UPLOAD_IMAGE,\n  };\n};\n\nexport const UPLOAD_IMAGE_SIGNED_URL = (\n  image: File,\n  signedUrl: string\n): Endpoint => {\n  return {\n    body: image,\n    customHeader: { \"Content-Type\": image.type },\n    externalService: true,\n    hasMock: false,\n    isMultipartFileRequest: true,\n    method: \"PUT\",\n    url: signedUrl,\n    serviceName: ServiceName.UPLOAD_IMAGE_SIGNED_URL,\n  };\n};\n\nexport const VOTE_CHANGE = (dealId: number, liked?: boolean) => {\n  return {\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"PUT\",\n    optionalRequestParam: () => {\n      let parameters = [\"dealId\", dealId.toString()];\n      if (liked !== undefined) {\n        parameters.push(\"liked\");\n        parameters.push(liked.toString());\n      }\n      return generateMultipleUrlParameters(parameters);\n    },\n    url: \"/deals\",\n    serviceName: ServiceName.VOTE_CHANGE,\n  };\n};\n\nconst generateCurrentAreaRequestParameter = (\n  currentArea: CurrentArea\n): string => {\n  console.debug(\n    \"service.ts: generateCurrentAreaRequestParameter -\",\n    currentArea\n  );\n  if (currentArea.areaName) {\n    return `?${generateParameter(\n      AREA_NAME_URL_PARAMETER,\n      currentArea.areaName\n    )}`;\n  } else if (currentArea.coordinate) {\n    return `?${LATITUDE_URL_PARAMETER}=${currentArea.coordinate.latitude}&${LONGITUDE_URL_PARAMETER}=${currentArea.coordinate.longitude}`;\n  } else {\n    console.warn(\"CurrentArea input might be invalid\");\n    return \"\";\n  }\n};\n\nconst generateMultipleUrlParameters = (keyAndValue: string[]): string => {\n  let parameter: string = \"?\";\n  if (keyAndValue.length % 2 === 0) {\n    for (let i = 0; i < keyAndValue.length; i += 2) {\n      if (i !== 0) {\n        parameter += \"&\";\n      }\n      parameter += `${keyAndValue[i]}=${keyAndValue[i + 1]}`;\n    }\n  }\n  console.debug(\"generateUrlParameter:\", parameter);\n  return parameter;\n};\n\nconst generateParameter = (key: string, value: string) => {\n  return `${key}=${value}`;\n};\n\nexport interface Endpoint {\n  body?: any;\n  customHeader?: {};\n  errorReturn?: any;\n  externalService: boolean;\n  hasMock: boolean;\n  isMultipartFileRequest: boolean;\n  method: string;\n  url: string;\n  optionalRequestParam?: () => string;\n  serviceName: ServiceName;\n}\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport Box, { BoxProps } from \"@material-ui/core/Box\";\n\ninterface Props extends BoxProps {\n  alignItems?: string;\n  chindren?: React.ReactNode;\n  isFlexDirectionRow?: boolean;\n  justifyContent?: string;\n  onClick?: (any?: any) => void;\n}\n\nexport default class View extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection={this.props.isFlexDirectionRow ? \"row\" : \"column\"}\n        alignItems={this.props.alignItems ? this.props.alignItems : \"start\"}\n        justifyContent={\n          this.props.justifyContent ? this.props.justifyContent : \"start\"\n        }\n        onClick={() => (this.props.onClick ? this.props.onClick() : {})}\n        {...this.props}\n      >\n        {this.props.children}\n      </Box>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { styleSchema } from \"./stylesheet\";\n\nexport interface Props {\n  color?: \"primary\" | \"secondary\" | \"black\" | \"white\";\n  style?: any;\n}\n\nexport default class H1<ChildProps extends Props = Props> extends Component<\n  ChildProps\n> {\n  render() {\n    return (\n      <span\n        style={{\n          color: this.getColor(),\n          ...this.getDefaultStyle(),\n          ...this.props.style,\n        }}\n      >\n        {this.props.children}\n      </span>\n    );\n  }\n\n  protected getColor(): string {\n    switch (this.props.color) {\n      case \"primary\":\n        return styles.primaryColor.color;\n      case \"secondary\":\n        return styles.secondaryColor.color;\n      case \"black\":\n        return styles.black.color;\n      case \"white\":\n        return styles.white.color;\n      default:\n        return this.getDefaultColor();\n    }\n  }\n\n  protected getDefaultColor() {\n    return styles.black.color;\n  }\n\n  protected getDefaultStyle() {\n    return { ...styles.defaultStyle, ...this.getStyle() };\n  }\n\n  protected getStyle(): any {\n    return styles.text;\n  }\n}\n\nconst styles = {\n  defaultStyle: {\n    margin: 0,\n  },\n  text: {\n    fontFamily: styleSchema.font.primaryFont,\n    fontSize: 18,\n    fontWeight: 600,\n  },\n  primaryColor: {\n    color: styleSchema.color.primaryColor,\n  },\n  secondaryColor: {\n    color: styleSchema.color.secondaryColor,\n  },\n  black: {\n    color: styleSchema.color.black,\n  },\n  white: {\n    color: styleSchema.color.white,\n  },\n};\n","export enum Feature {\n  CONTACT_SHOW_EMAIL = \"CONTACT_SHOW_EMAIL\",\n  HEADER_MENU = \"HEADER_MENU\",\n  CREATE_DEAL_DRAFT = \"CREATE_DEAL_DRAFT\",\n  LOGIN_GOOGLE_OAUTH = \"LOGIN_GOOGLE_OAUTH\",\n  LOGIN_WECHAT_OAUTH = \"LOGIN_WECHAT_OAUTH\",\n  USER_PROFILE_IN_HEADER = \"USER_PROFILE_IN_HEADER\",\n  USER_PROFILE_IN_HEADER_MENU = \"USER_PROFILE_IN_HEADER_MENU\",\n}\n","import React, { Component } from \"react\";\nimport Add from \"@material-ui/icons/Add\";\nimport Close from \"@material-ui/icons/Close\";\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\nimport Menu from \"@material-ui/icons/Menu\";\nimport PhotoLibraryIcon from \"@material-ui/icons/PhotoLibrary\";\nimport Room from \"@material-ui/icons/Room\";\nimport VerifiedUserIcon from \"@material-ui/icons/VerifiedUser\";\nimport { styleSchema } from \"./stylesheet\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Button } from \"@material-ui/core\";\n\ninterface Props {\n  onClick?: () => void;\n  style?: any;\n  toolTipsMessage?: string;\n  type:\n    | \"add\"\n    | \"close\"\n    | \"expandMore\"\n    | \"expandLess\"\n    | \"favroite\"\n    | \"favroiteBorder\"\n    | \"location\"\n    | \"menu\"\n    | \"post\"\n    | \"verified\";\n}\n\nexport default class Icon extends Component<Props> {\n  render() {\n    const icon = this.getIcon(this.props.type);\n    if (this.props.toolTipsMessage && this.props.children) {\n      return (\n        <Tooltip disableTouchListener title={this.props.toolTipsMessage}>\n          <Button startIcon={icon} style={styles.buttonStyle}>\n            {this.props.children}\n          </Button>\n        </Tooltip>\n      );\n    } else if (this.props.toolTipsMessage) {\n      return (\n        <Tooltip disableTouchListener title={this.props.toolTipsMessage}>\n          <Button style={styles.buttonStyle}>{icon}</Button>\n        </Tooltip>\n      );\n    } else {\n      return icon;\n    }\n  }\n\n  CloseIcon = () => {\n    return <Close onClick={this.props.onClick} style={styles.close} />;\n  };\n\n  AddIcon = () => {\n    return <Add onClick={this.props.onClick} style={styles.add} />;\n  };\n\n  ExpandLessIcon = () => {\n    return <ExpandLess onClick={this.props.onClick} style={styles.expand} />;\n  };\n\n  ExpandMoreIcon = () => {\n    return <ExpandMore onClick={this.props.onClick} style={styles.expand} />;\n  };\n\n  FavoriteBorderIcon = () => {\n    return (\n      <FavoriteBorderIcon\n        onClick={this.props.onClick}\n        style={styles.favorite}\n      />\n    );\n  };\n\n  FavoriteIcon = () => {\n    return (\n      <FavoriteIcon onClick={this.props.onClick} style={styles.favorite} />\n    );\n  };\n\n  LocationIcon = () => {\n    return <Room style={styles.location} />;\n  };\n\n  MenuIcon = () => {\n    return (\n      <Menu\n        onClick={this.props.onClick}\n        style={{ ...styles.menu, ...this.props.style }}\n      />\n    );\n  };\n\n  PostIcon = () => {\n    return <PhotoLibraryIcon style={styles.post} />;\n  };\n\n  VerifiedIcon = () => {\n    return <VerifiedUserIcon style={styles.verified} />;\n  };\n\n  public getIcon(type: string) {\n    switch (type) {\n      case \"add\":\n        return <this.AddIcon />;\n      case \"close\":\n        return <this.CloseIcon />;\n      case \"expandLess\":\n        return <this.ExpandLessIcon />;\n      case \"expandMore\":\n        return <this.ExpandMoreIcon />;\n      case \"favroite\":\n        return <this.FavoriteIcon />;\n      case \"favroiteBorder\":\n        return <this.FavoriteBorderIcon />;\n      case \"location\":\n        return <this.LocationIcon />;\n      case \"menu\":\n        return <this.MenuIcon />;\n      case \"post\":\n        return <this.PostIcon />;\n      case \"verified\":\n        return <this.VerifiedIcon />;\n    }\n  }\n}\n\nconst styles = {\n  add: {\n    color: styleSchema.color.primaryColor,\n    fontSize: 38,\n  },\n  buttonStyle: {\n    padding: 0,\n  },\n  close: {\n    color: styleSchema.color.greyDark,\n  },\n  expand: {\n    color: styleSchema.color.primaryColor,\n    marginLeft: 10,\n  },\n  favorite: {\n    color: styleSchema.color.red,\n    fontSize: 20,\n  },\n  location: {\n    color: styleSchema.color.greenMedium,\n    fontSize: 38,\n  },\n  menu: {\n    color: styleSchema.color.greyDark,\n    fontSize: 38,\n  },\n  post: {\n    color: styleSchema.color.blueTransparentSemi,\n  },\n  verified: {\n    color: styleSchema.color.green,\n    fontSize: 20,\n  },\n};\n","import H1 from \"./h1\";\nimport { styleSchema } from \"./stylesheet\";\n\nexport default class H5 extends H1 {\n  protected getStyle() {\n    return {\n      fontSize: 15,\n      fontWeight: 500,\n    };\n  }\n\n  public getDefaultColor() {\n    return styleSchema.color.secondaryColor;\n  }\n}\n"],"sourceRoot":""}