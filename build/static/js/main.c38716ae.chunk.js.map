{"version":3,"sources":["resouces/logo_icon_character-min.png","common/middleware/service.ts","common/feature/feature.ts","common/middleware/serviceExecutor.ts","common/transformer.ts","common/feature/oAuthProvider.ts","common/appContext.ts","common/imageProcessor.ts","common/context/appState.ts","common/applicationComponent.tsx","component/header/header.tsx","common/addressDisplay.tsx","common/stylesheet.ts","common/backgroundTheme.tsx","common/cardBottomVote.tsx","common/collapseCard.tsx","common/drawerMenu.tsx","common/h1.tsx","common/h4.tsx","common/h5.tsx","common/image.tsx","common/localDealCard.tsx","common/localDealTextField.tsx","common/miniText.tsx","common/primaryButton.tsx","common/paragraph.tsx","common/richTextEditor.tsx","common/slide/slide.tsx","common/textButton.tsx","common/textField.tsx","common/twinButton.tsx","common/toast.tsx","common/view.tsx","component/createDealLandingPage/createDealLandingPage.v2.tsx","component/createDealLandingPage/createDealLandingPage.v2.view.tsx","component/createDealLandingPage/createDealLandingPage.tsx","component/createDealLandingPage/createDealLandingPage.view.tsx","component/createDealLandingPage/legacyCreateDeal.view.tsx","component/addressPrediction/addressPrediction.tsx","common/ToolTips.tsx","component/menu/headerMenu.tsx","component/login/login.tsx","component/login/login.view.tsx","component/oAuth/oAuth.tsx","component/oAuth/oAuth.view.tsx","component/menu/headerMenu.view.tsx","component/header/header.view.tsx","component/landingPage/dealSection/dealSection.view.tsx","component/landingPage/dealSection/dealSectionV2/dealCardV2.tsx","component/landingPage/dealSection/dealSectionV2/dealSection.v2.view.tsx","component/landingPage/landingPage.view.tsx","component/landingPage/landingPage.tsx","component/init/init.tsx","common/context/globalStateComponent.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","ServiceName","Feature","CREATE_DEAL","deal","body","JSON","stringify","hasMock","isMultipartFileRequest","method","url","serviceName","CREATE_VOTE","voteRequest","GET_DEALS","address","optionalRequestParam","generateParameter","area","LOGOUT_OAUTH","UPLOAD_IMAGE","image","generateCurrentAreaRequestParameter","currentArea","console","debug","areaName","coordinate","latitude","longitude","warn","generateMultipleUrlParameters","keyAndValue","parameter","length","i","key","value","ServiceExecutor","isMock","serviceUrl","headers","generateHeaders","endpoint","this","Promise","resolve","getResponse","requestParam","requestUrl","fetch","credentials","mode","then","result","status","json","catch","exception","reject","response","parse","ex","log","GET_DEALS_RESPONSE","GET_CURRENT_ADDRESS","GET_POSITION_RESPONSE","GET_USER_PROFILE","deals","id","street1","street2","city","formattedAddress","state","zipCode","country","description","filesUrl","serverIdentifierName","title","timestamp","name","imageUrl","oAuthProvider","Transformer","_lables","currentDate","Date","dateCreated","timeDifference","getTime","getLabelAccrodingToTimeDifference","date","unknown","dayDifferent","Math","round","HOUR","day","today","callBack","navigator","geolocation","getCurrentPosition","position","coords","OAuthProvider","AppContext","ALLOW_DEAL_REFRESH","DEAL_REFRESH_TIME","APIKEY","X_MADT_APPID","X_MADT_APP_VERSION","_serviceExecutor","_transformer","labels","isAllowDealRefresh","CREATE_DEAL_DRAFT","CONTACT_SHOW_EMAIL","HEADER_MENU","LOGIN_GOOGLE_OAUTH","LOGIN_WECHAT_OAUTH","XMADTAPPID","XMADTAPPVERSION","chineseTraditionalLabel","isProd","ImageProcessor","file","imageType","height","width","quality","Resizer","imageFileResizer","processedImage","Image","src","URL","createObjectURL","onload","type","size","getImageInfo","imageResize","React","createContext","ApplicationComponent","_appContext","_imageProcessor","search","window","location","params","URLSearchParams","get","code","NONE","authorizationCode","GOOGLE","history","pushState","document","context","Component","contextType","AppState","Header","props","onClickCreateDeal","setState","isCreateDealDrawerOpen","onClickHamburgerMenu","isHamburgerMenuDrawerOpen","onCloseCreateDeal","onCloseHamburgerMenu","onClickLocationButton","useAutoLocation","selectedAddress","appState","userProfile","user","AddressDisplay","isFlexDirectionRow","generateAddressWithSpace","input","styleSchema","button","borderRadius","color","black","blueTransparent","green","greenMedium","greyDark","greyLight","greyTransparent","orange","orangeTransparent","primaryColor","primaryColorTransparent","red","redDark","secondaryColor","secondaryColorTransparent","white","common","borderColor","dimension","FILL_ALL_HEIGHT","FILL_ALL_WIDTH","font","fontSize","icon","marginLeft","remind","textField","borderWidth","BackgroundTheme","themeStyle","theme","styles","secondaryTheme","primaryTheme","style","rootContainer","children","alignItems","backgroundColor","CardBottomVote","VoteButton","voteCount","voteUpIcon","buttonContainerStyle","iconStyle","voted","VotedButtonContainer","mainIconStyle","votedIcon","VoteButtonContainer","voteIcon","voteFunction","onPressUpVote","onPressDownVote","buttonContainer","Button","disabled","onClick","iconButton","ThumbUp","ThumbDown","componentStyle","createVoteRequest","upVote","a","async","appContext","serviceExecutor","execute","getDealResponse","setDeals","vote","downVote","marginRight","paddingRight","paddingTop","paddingBottom","padding","marginTop","LocalDealCard","BottomToolBar","bottonToolBar","alignSelf","bottomToolBarContent","ExpandSign","ExpandLessSign","localDealCardPage","collapse","ExpandLess","expandSignIcon","ExpandMoreSign","expand","ExpandMore","onClickExpandSign","expandSignButton","expanded","textAlign","Collapse","in","collapsedContentContainer","justifyContent","paddingLeft","DrawerMenu","Drawer","H1","getDefaultStyle","getDefaultColor","getColor","defaultStyle","getStyle","text","margin","fontWeight","H4","H5","alt","getImageSizeStyle","bigImage","mediumImage","miniCircularImage","smallImage","contentRef","contentNeedCollapse","onClickedContent","isCollapsed","ContentBody","contentCollapsedStyle","contentOpenedStyle","contentContainer","ref","clientHeight","borderBottom","overflow","LocalDealTextField","RegularInputTextField","placeHolderValue","placeHolder","Input","error","isError","onChange","target","placeholder","textFieldStyle","NewStyleTextField","onBlurFunction","onBlur","onFocusFunction","onFocus","defaultValue","label","variant","withStyles","textFieldStyles","notchedOutline","overrideStyles","MiniText","additionalStyle","primaryStyle","secondaryStyle","default","PrimaryButton","buttonStyle","Paragraph","richTextEditorOptions","header","align","list","RichTextEditor","quillRef","imageHandler","removePreviousInput","fixRotation","guessImageMime","fixed","transferToBlob","iamgeBlob","originalImageInfo","formData","FormData","append","onImageSucceedUpload","modules","content","delta","source","editor","ops","forEach","line","isObject","insert","onChangeValue","createDealPage","descriptionPlaceHolder","quillStyle","fileName","newFormData","loadImage","img","toDataURL","orientation","getEditor","getSelection","index","currentIndex","getCurrentIndex","formatLine","createElement","setAttribute","insertText","originalImage","blob","data","charAt","toolbar","container","insertEmbed","setCursorAtNextIndex","centerAlignLine","createNewLine","leftAlignLine","deleteText","setSelection","MAXIMUM_IMAGE_HEIGHT","Slide","onLoadImage","getElementById","dealIndex","contentHeight","imageLoaded","sliderWrapper","dots","lazyLoad","infinite","focusOnSelect","slidesPerRow","slidesToShow","speed","generateImages","fileUrls","map","onLoad","getImageStlye","imageDefaultStyle","minHeight","minWidth","objectFit","TextButton","underline","textDecoration","root","borderBottomColor","TextField","MaterialTextField","multiline","event","rows","TwinButton","onClickPrimaryButton","onClickSecondaryButton","primaryButtonLabel","secondaryButtonLabel","primaryButton","primaryButtonText","View","Box","display","flexDirection","CreateDealLandingPageV2","onAddFile","fileList","files","convertImageToBase64","onChangeDescription","onChangeTitle","onClickSaveDraft","onClickSubmit","all","blobFiles","allowNumberOfFile","onClose","fileReader","FileReader","changeEvent","concat","toString","imageProcessor","compressImage","readAsDataURL","CreateDealLandingPageV2View","AddImageButton","Frame","accept","multiple","htmlFor","component","addIconButton","Add","scale","addIcon","AddressSelectionSection","BottomButtonSecton","bottomButtonSectionContainer","DraftButton","SubmitButton","CloseButton","closeIconContainer","Close","closeIcon","Description","createDealPageV2","draftButton","draftButtonContainer","FolderOpen","draftIcon","saveDraft","FileSection","images","ImageContainer","push","fileSectionContainer","imageStyle","border","frameContainer","submitPost","Title","titlePlaceHolder","marginBottom","descriptionTextField","maxHeight","maxWidth","titleTextField","CreateDealLandingPage","onChangeRichTextValue","richTextValue","onChangeTitleTextField","validateDescription","validateTitle","hasDescription","hasTitle","onClickClose","useAutoPosition","currentAddress","CreateDealLandingPageView","ButtonSection","create","cancel","buttonSection","ContentInput","HeaderSection","headerContainer","close","addressSectionContainer","missingContentText","descriptionContainer","richTextEditor","titleTextFiledContainer","AddressSection","AddressAutoPositionDisplay","AddressTextField","DescriptionTextField","DescriptionMissing","MissingContentText","descriptionMissing","HourOfOperationSection","TitleMissing","titleMissing","TitleTextField","textFieldTitle","AddressPrediction","onSelectAddress","addressesPrediction","setSelectedAddress","setDefaultSelectedAddress","ToolTips","Tooltip","disableTouchListener","HeaderMenu","onClickMenu","isMenuOpen","onClickLogout","removeUserProfile","onCloseMenu","isToastMessageOpen","Login","onChangePassword","password","onChangeUsername","username","LoginView","Container","UsernameTextField","PasswordTextField","login","formName","loginFeatures","features","includes","LOGIN_LOCALDEAL","submitButton","OAuth","OAuthView","child","UserProfileSection","OAuthLoginOptions","GoogleOAuthLoginIcon","Link","href","getGoogleOAuthRequestURL","LogoutButton","oAuth","logout","USER_PROFILE_IN_HEADER_MENU","userTextInfoContainer","getProviderLabel","oAuthRedirectUrl","google","WECHAT","weChat","undefined","logoutButtonContainer","HeaderMenuView","headerMenu","closeButton","ContactInfomation","emailAddress","contactUs","DevelopingFeatures","featues","currentDevelopingFeatuers","feature","developingFeatureContainer","moreFeatureIsComingDescription","developingFeature","LowerPortion","lowerPortionContainer","MenuContainer","menuContainer","UpperPortion","upperPortionContainer","UserProfileHeaderSection","bugReportDescription","oAuthContainer","boxShadow","userProfileHeaderSectionContainer","borderLeft","menuIconContainer","Menu","menuIcon","anchor","open","HeaderView","CreateDealDrawer","createDealSection","DEAL_LEGACY","CreateNewDealButton","createNewDealIcon","HeaderTextAndLogo","logo","LocationButton","areaLabel","loading","currentLocation","locationIcon","TopBarSection","UserProfileImage","USER_PROFILE_IN_HEADER","userProfileImageContainer","Avatar","circularProgress","createNewButton","locationButtonContainer","searchMethodLabel","LegacyDealSectionView","LegacyDealsSection","dealsCard","cardBottomVote","onClickCard","CardHeader","RichTextDescription","cardContainer","transformer","timeDifferentCalcualtor","detailSectionContainer","dangerouslySetInnerHTML","__html","DealCardV2","ImageSection","sliderContainer","coverImageHeight","onExpand","DealCard","DealSectionView","generatedDeals","LandingPageView","BodySection","dealSectionContainer","isLoadingDeals","LoadingDeals","NoDealInArea","noDealInAreaContainer","landingPage","loadingDeals","noDeal","TextFieldArea","textFieldValue","onBlurTextField","onChangeSearchTextField","onFocusTextField","searchButton","manual","slideImageContainer","alightItems","topBarContainer","LandingPage","onClickedCard","onClickedDealSection","showSearchButton","onClickSearch","onClickDownVote","onClickUpVote","executeGetDeals","isLoading","setCurrentPosition","setCurrentAddress","getCurrentLocation","setGeolocation","addresses","setPredicteAddresses","setLoadingPosition","inputDeals","sort","deal1","deal2","sortedDeal","sortDeals","onClickDealSection","Init","checkOAuthFromUrl","getUserProfile","checkOAuth","redirectUrl","LOGIN_OAUTH_GOOGLE","onOAuthLoginComplete","setUserProfile","GlobalStateComponent","loadingPosition","Provider","App","className","Boolean","hostname","match","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c38716ae.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_icon_character-min.f8d459b6.png\";","import CurrentArea from \"../../modal/currentArea\";\nimport Deal, { Address } from \"../../modal/deal\";\nimport VoteRequest from \"../../modal/voteRequest\";\n\nconst AREA_NAME_URL_PARAMETER: string = \"areaName\";\nconst AUTHORIZATION_CODE_PARAMETER: string = \"authorizationCode\";\nconst LATITUDE_URL_PARAMETER: string = \"latitude\";\nconst LONGITUDE_URL_PARAMETER: string = \"longitude\";\nconst REDIRECT_URL_PARAMETER: string = \"redirectUrl\";\n\nexport enum ServiceName {\n  CREATE_DEAL = \"CREATE_DEAL\",\n  CREATE_VOTE = \"CREATE_VOTE\",\n  GET_CURRENT_ADDRESS = \"GET_CURRENT_ADDRESS\",\n  GET_DEALS = \"GET_DEALS\",\n  GET_USER_PROFILE = \"GET_USER_PROFILE\",\n  LOGIN_OAUTH_GOOGLE = \"LOGIN_OAUTH_GOOGLE\",\n  LOGOUT_OAUTH = \"LOGOUT_OAUTH\",\n  TEST = \"TEST\",\n  UPLOAD_IMAGE = \"UPLOAD_IMAGE\"\n}\n\nexport const CREATE_DEAL = (deal: Deal): Endpoint => {\n  return {\n    body: JSON.stringify(deal),\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"POST\",\n    url: \"/deals\",\n    serviceName: ServiceName.CREATE_DEAL\n  };\n};\n\nexport const CREATE_VOTE = (voteRequest: VoteRequest) => {\n  return {\n    body: JSON.stringify(voteRequest),\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"POST\",\n    url: \"/vote\",\n    serviceName: ServiceName.CREATE_VOTE\n  };\n};\n\nexport const GET_CURRENT_ADDRESS = (currentArea: CurrentArea) => {\n  return {\n    method: \"GET\",\n    hasMock: true,\n    isMultipartFileRequest: false,\n    url: \"/position\",\n    optionalRequestParam: () =>\n      generateCurrentAreaRequestParameter(currentArea),\n    serviceName: ServiceName.GET_CURRENT_ADDRESS\n  };\n};\n\nexport const GET_DEALS = (address: Address): Endpoint => {\n  return {\n    hasMock: true,\n    isMultipartFileRequest: false,\n    method: \"GET\",\n    url: \"/deals\",\n    optionalRequestParam: () =>\n      `?${generateParameter(AREA_NAME_URL_PARAMETER, address.area || \"\")}`,\n    serviceName: ServiceName.GET_DEALS\n  };\n};\n\nexport const GET_USER_PROFILE = (): Endpoint => ({\n  hasMock: true,\n  isMultipartFileRequest: false,\n  method: \"GET\",\n  url: \"/userProfile\",\n  serviceName: ServiceName.GET_USER_PROFILE\n});\n\nexport const LOGIN_OAUTH_GOOGLE = (\n  authorizationCode: string,\n  redirectUrl: string\n): Endpoint => {\n  return {\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"POST\",\n    url: \"/oauth/google\",\n    optionalRequestParam: () =>\n      generateMultipleUrlParameters([\n        AUTHORIZATION_CODE_PARAMETER,\n        authorizationCode,\n        REDIRECT_URL_PARAMETER,\n        redirectUrl\n      ]),\n    serviceName: ServiceName.LOGIN_OAUTH_GOOGLE\n  };\n};\n\nexport const LOGOUT_OAUTH = (): Endpoint => ({\n  hasMock: false,\n  isMultipartFileRequest: false,\n  method: \"DELETE\",\n  url: \"/oauth\",\n  serviceName: ServiceName.LOGOUT_OAUTH\n});\n\nexport const UPLOAD_IMAGE = (image: any): Endpoint => {\n  return {\n    body: image,\n    hasMock: false,\n    isMultipartFileRequest: true,\n    method: \"POST\",\n    url: \"/file/multipart\",\n    serviceName: ServiceName.UPLOAD_IMAGE\n  };\n};\n\nconst generateCurrentAreaRequestParameter = (\n  currentArea: CurrentArea\n): string => {\n  console.debug(\n    \"service.ts: generateCurrentAreaRequestParameter -\",\n    currentArea\n  );\n  if (currentArea.areaName) {\n    return `?${generateParameter(\n      AREA_NAME_URL_PARAMETER,\n      currentArea.areaName\n    )}`;\n  } else if (currentArea.coordinate) {\n    return `?${LATITUDE_URL_PARAMETER}=${currentArea.coordinate.latitude}&${LONGITUDE_URL_PARAMETER}=${currentArea.coordinate.longitude}`;\n  } else {\n    console.warn(\"CurrentArea input might be invalid\");\n    return \"\";\n  }\n};\n\nconst generateMultipleUrlParameters = (keyAndValue: string[]): string => {\n  let parameter: string = \"?\";\n  if (keyAndValue.length % 2 === 0) {\n    for (let i = 0; i < keyAndValue.length; i += 2) {\n      if (i !== 0) {\n        parameter += \"&\";\n      }\n      parameter += `${keyAndValue[i]}=${keyAndValue[i + 1]}`;\n    }\n  }\n  console.debug(\"generateUrlParameter:\", parameter);\n  return parameter;\n};\n\nconst generateParameter = (key: string, value: string) => {\n  return `${key}=${value}`;\n};\n\nexport interface Endpoint {\n  body?: any;\n  errorReturn?: any;\n  hasMock: boolean;\n  isMultipartFileRequest: boolean;\n  method: string;\n  url: string;\n  optionalRequestParam?: () => string;\n  serviceName: ServiceName;\n}\n","export enum Feature {\n  CONTACT_SHOW_EMAIL = \"CONTACT_SHOW_EMAIL\",\n  HEADER_MENU = \"HEADER_MENU\",\n  DEAL_LEGACY = \"DEAL_LEGACY\",\n  CREATE_DEAL_DRAFT = \"CREATE_DEAL_DRAFT\",\n  LOGIN_LOCALDEAL = \"LOGIN_LOCALDEAL\",\n  LOGIN_GOOGLE_OAUTH = \"LOGIN_GOOGLE_OAUTH\",\n  LOGIN_WECHAT_OAUTH = \"LOGIN_WECHAT_OAUTH\",\n  USER_PROFILE_IN_HEADER = \"USER_PROFILE_IN_HEADER\",\n  USER_PROFILE_IN_HEADER_MENU = \"USER_PROFILE_IN_HEADER_MENU\"\n}\n","import { Endpoint, ServiceName } from \"./service\";\nimport { GetDealResponse, Address } from \"../../modal/deal\";\n\nexport default class ServiceExecutor {\n  constructor(\n    private readonly isMock: boolean,\n    private readonly serviceUrl: string,\n    private readonly headers: any\n  ) {}\n\n  public async execute(endpoint: Endpoint): Promise<any> {\n    if (this.isMock && endpoint.hasMock) {\n      return Promise.resolve(getResponse(endpoint.serviceName));\n    } else {\n      let headers = this.generateHeaders(endpoint.isMultipartFileRequest);\n      let requestParam: string = endpoint.optionalRequestParam\n        ? endpoint.optionalRequestParam()\n        : \"\";\n      let requestUrl = this.serviceUrl + endpoint.url + requestParam;\n      return fetch(requestUrl, {\n        body: endpoint.body,\n        credentials: \"include\", // this is for CORS sending cookies\n        headers,\n        method: endpoint.method,\n        mode: \"cors\"\n      })\n        .then(result => {\n          if (result.status === 204) {\n            return Promise.resolve();\n          } else {\n            return result.json();\n          }\n        })\n        .then(result => Promise.resolve(result))\n        .catch(exception => {\n          console.warn(\n            \"Something is wrong while fetch: \",\n            requestUrl,\n            exception\n          );\n          return Promise.reject(exception);\n        });\n    }\n  }\n\n  protected isJsonResponse(response: string): boolean {\n    try {\n      JSON.parse(response);\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  }\n\n  protected generateHeaders = (isMultipartFileRequest: boolean) => {\n    return !isMultipartFileRequest\n      ? {\n          ...this.headers,\n          \"Content-Type\": \"application/json\"\n        }\n      : { ...this.headers };\n  };\n}\n\nconst getResponse = (serviceName: ServiceName): any => {\n  console.log(\"get mock response:\", serviceName);\n  switch (serviceName) {\n    case ServiceName.GET_DEALS:\n      return GET_DEALS_RESPONSE;\n    case ServiceName.GET_CURRENT_ADDRESS:\n      return GET_POSITION_RESPONSE;\n    case ServiceName.GET_USER_PROFILE:\n      return GET_USER_PROFILE;\n    default:\n      return Promise.reject();\n  }\n};\n\nconst GET_DEALS_RESPONSE: GetDealResponse = {\n  deals: [\n    {\n      id: 0,\n      address: {\n        id: 0,\n        street1: \"街道1\",\n        street2: \"地下B座\",\n        city: \"澳門\",\n        formattedAddress: \"澳門漁翁街24號\",\n        state: \"\",\n        zipCode: \"\",\n        country: \"澳門\",\n        coordinate: {\n          latitude: 113,\n          longitude: 234\n        }\n      },\n      description:\n        '<p><img src=\"https://storage.cloud.google.com/deal_image/1577871875967\"></p>',\n      filesUrl: [\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\"\n      ],\n      serverIdentifierName: \"MACAU\",\n      title: \"澳門 蛋逹王子\",\n      timestamp: 1577872077582\n    },\n    {\n      id: 1,\n      address: {\n        id: 0,\n        street1: \"街道1\",\n        street2: \"地下B座\",\n        city: \"澳門\",\n        formattedAddress: \"澳門漁翁街24號\",\n        state: \"\",\n        zipCode: \"\",\n        country: \"澳門\",\n        coordinate: {\n          latitude: 113,\n          longitude: 234\n        }\n      },\n      description:\n        \"The content of ExpansionPanels is mounted by default even if the panel is not expanded. This default behavior has server-side rendering and SEO in mind. If you render expensive component trees inside your panels or simply render many panels it might be a good idea to change this default behavior by enabling the unmountOnExit in TransitionProps:\",\n      filesUrl: [\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\"\n      ],\n      serverIdentifierName: \"MACAU\",\n      title: \"澳門 CRAZY 蛋逹王子\",\n      timestamp: 1576871229332\n    }\n  ]\n};\n\nconst GET_POSITION_RESPONSE: Address[] = [\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街166號\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街166號\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街148號\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街90號\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門花地瑪堂區\",\n    city: \"花地瑪堂區\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門\",\n    country: \"澳門\"\n  }\n];\n\nconst GET_USER_PROFILE = {\n  id: 0,\n  name: \"Ka Kei Pun\",\n  imageUrl:\n    \"https://lh3.googleusercontent.com/a-/AOh14GgslmYMBYeO6hidzEhx83gMUrNHuN6M1nbOOFHhmg\",\n  oAuthProvider: \"GOOGLE\"\n};\n","import AppContext from \"./appContext\";\nimport { Coordinate } from \"../modal/deal\";\n\nconst HOUR = 1000 * 60 * 60;\nconst DAY = HOUR * 24;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\n\nexport default class Transformer {\n  constructor(private readonly _lables: any) {}\n  timeDifferentCalcualtor(timestamp: number): string {\n    if (timestamp) {\n      let currentDate: Date = new Date();\n      let dateCreated: Date = new Date(timestamp);\n      let timeDifference: number =\n        currentDate.getTime() - dateCreated.getTime();\n      return this.getLabelAccrodingToTimeDifference(timeDifference);\n    } else {\n      console.warn(\"timestamp error: \", timestamp);\n      return this._lables.date.unknown;\n    }\n  }\n\n  getLabelAccrodingToTimeDifference(timeDifference: number): string {\n    // Determine if display detail days needed.\n    const dayDifferent = Math.round(timeDifference / DAY);\n    return dayDifferent > 0\n      ? `${dayDifferent}${this._lables.date.day}`\n      : this._lables.date.today;\n  }\n\n  getCurrentLocation(callBack: any): void {\n    navigator.geolocation.getCurrentPosition((position: Position) => {\n      let { latitude, longitude } = position.coords;\n      let currentPosition: Coordinate = {\n        latitude,\n        longitude\n      };\n      callBack(currentPosition);\n    });\n  }\n}\n","export enum OAuthProvider {\n  GOOGLE = \"GOOGLE\",\n  WECHAT = \"WECHAT\",\n  NONE = \"NONE\"\n}\n","import ServiceExecutor from \"./middleware/serviceExecutor\";\nimport Transformer from \"./transformer\";\nimport chineseTraditionalLabel from \"../content/labels/chinese.traditional.json\";\nimport { Feature } from \"./feature/feature\";\n\nexport default class AppContext {\n  // Deal Refresh\n  private ALLOW_DEAL_REFRESH: boolean = false;\n  private readonly DEAL_REFRESH_TIME: number = 5 * 1000;\n\n  // API Headers\n  private readonly APIKEY = \"vKZywb959gExXaEHSwdzdq7MfZu3Nb\";\n  private readonly X_MADT_APPID: string = \"localdeal\";\n  private readonly X_MADT_APP_VERSION: string = \"0.0.1\";\n\n  private readonly _serviceExecutor: ServiceExecutor = new ServiceExecutor(\n    this.isMock,\n    this.serviceUrl,\n    this.headers\n  );\n\n  private readonly _transformer: Transformer = new Transformer(this.labels);\n\n  get allowDealRefresh(): boolean {\n    return this.ALLOW_DEAL_REFRESH;\n  }\n\n  set allowDealRefresh(isAllowDealRefresh: boolean) {\n    this.ALLOW_DEAL_REFRESH = isAllowDealRefresh;\n  }\n\n  get dealRefreshTime(): number {\n    return this.DEAL_REFRESH_TIME;\n  }\n\n  get features(): Feature[] {\n    return [\n      Feature.CREATE_DEAL_DRAFT,\n      Feature.CONTACT_SHOW_EMAIL,\n      Feature.HEADER_MENU,\n      Feature.LOGIN_GOOGLE_OAUTH,\n      Feature.LOGIN_WECHAT_OAUTH\n    ];\n  }\n\n  get headers() {\n    let { APIKEY, X_MADT_APPID, X_MADT_APP_VERSION } = this;\n    return {\n      APIKEY: APIKEY,\n      XMADTAPPID: X_MADT_APPID,\n      XMADTAPPVERSION: X_MADT_APP_VERSION\n    };\n  }\n\n  get labels() {\n    return chineseTraditionalLabel;\n  }\n\n  get isMock(): boolean {\n    return true;\n  }\n\n  get isProd(): boolean {\n    return false;\n  }\n\n  get oAuthRedirectUrl(): string {\n    return this.isProd ? \"https://liuda.site\" : \"http://127.0.0.1:3000\";\n  }\n\n  get serviceExecutor(): ServiceExecutor {\n    return this._serviceExecutor;\n  }\n\n  get serviceUrl(): string {\n    // TODO need prod url\n    return this.isProd ? \"https://liuda.site:8082\" : \"http://127.0.0.1:8081\";\n  }\n\n  get transformer(): Transformer {\n    return this._transformer;\n  }\n}\n","import Resizer from \"react-image-file-resizer\";\n\nexport default class ImageProcessor {\n  public imageResize(\n    file: File,\n    imageType: string,\n    height: number,\n    width: number,\n    quality: number\n  ): Promise<File> {\n    return new Promise((resolve, reject) => {\n      const callBackFunction = (processedImage: File) => {\n        resolve(processedImage);\n      };\n      Resizer.imageFileResizer(\n        file,\n        width,\n        height,\n        imageType,\n        quality,\n        0,\n        callBackFunction,\n        \"blob\"\n      );\n    });\n  }\n\n  public async getImageInfo(\n    file: File\n  ): Promise<{ height: number; size: number; type: string; width: number }> {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = URL.createObjectURL(file);\n      image.onload = () => {\n        console.debug(\n          `type:${file.type} size:${file.size} height:${image.height} width:${image.width}`\n        );\n        return resolve({\n          height: image.height,\n          size: file.size,\n          type: file.type,\n          width: image.width\n        });\n      };\n    });\n  }\n\n  public async compressImage(file: File) {\n    const { height, size, type, width } = await this.getImageInfo(file);\n    const processedImage = await this.imageResize(\n      file,\n      type,\n      height,\n      width,\n      10\n    );\n    return processedImage;\n  }\n}\n","import React from \"react\";\n\nexport default React.createContext({});\n","import { Component } from \"react\";\nimport AppContext from \"./appContext\";\nimport { OAuthProvider } from \"./feature/oAuthProvider\";\nimport ImageProcessor from \"./imageProcessor\";\nimport AppState from \"../common/context/appState\";\nimport AppStateInterface from \"./context/appStateInterface\";\n\nexport default class ApplicationComponent<\n  ChildProps = {},\n  ChildState = {}\n> extends Component<ChildProps, ChildState> {\n  static contextType = AppState;\n  private readonly _appContext: AppContext = new AppContext();\n  private readonly _imageProcessor: ImageProcessor = new ImageProcessor();\n\n  get appContext(): AppContext {\n    return this._appContext;\n  }\n\n  get appState(): AppStateInterface {\n    return this.context;\n  }\n\n  get imageProcessor(): ImageProcessor {\n    return this._imageProcessor;\n  }\n\n  public checkOAuth(): {\n    authorizationCode: string;\n    oAuthProvider: OAuthProvider;\n  } {\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const state = params.get(\"state\");\n    const code = params.get(\"code\");\n    let oAuthProvider: OAuthProvider = OAuthProvider.NONE;\n    let authorizationCode: string = \"\";\n    if (state === OAuthProvider.GOOGLE) {\n      oAuthProvider = OAuthProvider.GOOGLE;\n      authorizationCode = code ?? \"\";\n    }\n    return {\n      authorizationCode,\n      oAuthProvider\n    };\n  }\n\n  public onOAuthLoginComplete() {\n    window.history.pushState(null, document.title, \"/\");\n  }\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport \"../../App.css\";\nimport { HeaderView } from \".\";\n\ninterface State {\n  isCreateDealDrawerOpen: boolean;\n  isHamburgerMenuDrawerOpen: boolean;\n  useAutoLocation: boolean;\n}\n\nexport default class Header extends ApplicationComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      isCreateDealDrawerOpen: false,\n      isHamburgerMenuDrawerOpen: false,\n      useAutoLocation: true\n    };\n  }\n\n  render() {\n    return (\n      <HeaderView\n        isCreateDealDrawerOpen={this.state.isCreateDealDrawerOpen}\n        isHamburgerMenuDrawerOpen={this.state.isHamburgerMenuDrawerOpen}\n        onClickCreateDeal={this.onClickCreateDeal}\n        onClickHamburgerMenu={this.onClickHamburgerMenu}\n        onCloseCreateDeal={this.onCloseCreateDeal}\n        onCloseHamburgerMenu={this.onCloseHamburgerMenu}\n        onClickLocationButton={this.onClickLocationButton}\n        selectedAddress={this.appState.address.selectedAddress}\n        userProfile={this.appState.user.userProfile}\n      />\n    );\n  }\n\n  protected onClickCreateDeal = () => {\n    console.debug(\"onClickCreateDeal\");\n    this.setState({\n      isCreateDealDrawerOpen: true\n    });\n  };\n\n  protected onClickHamburgerMenu = () => {\n    console.debug(\"onClickHamburgerMenu\");\n    this.setState({\n      isHamburgerMenuDrawerOpen: true\n    });\n  };\n\n  protected onCloseCreateDeal = () => {\n    console.debug(\"onCloseCreateDeal\");\n    this.setState({\n      isCreateDealDrawerOpen: false\n    });\n  };\n\n  protected onCloseHamburgerMenu = () => {\n    console.debug(\"onCloseHamburgerMenu\");\n    this.setState({\n      isHamburgerMenuDrawerOpen: false\n    });\n  };\n\n  protected onClickLocationButton = () => {\n    // need to complete\n    console.debug(\"onClickLocationButton\");\n    this.setState({\n      useAutoLocation: true\n    });\n  };\n}\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport { Address } from \"../modal/deal\";\nimport { H5, View } from \".\";\n\nexport interface Props {\n  address: Address;\n}\n\nexport default class AddressDisplay extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <View isFlexDirectionRow={true}>\n        <H5>{this.generateAddressWithSpace(this.props.address)}</H5>\n      </View>\n    );\n  }\n\n  protected generateAddressWithSpace(address: Address): string {\n    let { street1, street2, city, state, zipCode, country } = address;\n    // return `\n    // ${this.removeNotValidAddress(street1 || \"\")}\n    // ${this.removeNotValidAddress(street2 || \"\")}\n    // ${this.removeNotValidAddress(city || \"\")}\n    // ${this.removeNotValidAddress(state || \"\")}\n    // ${this.removeNotValidAddress(zipCode || \"\")}\n    // ${this.removeNotValidAddress(country)}`;\n    return address.formattedAddress || \"\";\n  }\n\n  protected removeNotValidAddress(input: string): string {\n    return input ? `${input} ` : \"\";\n  }\n}\n","// button\nconst borderRadius = 15;\n\n// color\nconst BLACK = \"black\"; // TODO replace this with HEX code\nconst BLUE = \"#007AFF\";\nconst BLUE_TRANSPARENT = \"rgba(0,132,255,.1)\";\nconst GREY_DARK = \"#7D7D7D\";\nconst GREY_LIGHT = \"#f6f6f6\";\nconst GREY_TRANSPARENT = \"rgba(12, 12, 12, .1)\";\nconst GREEN = \"#5CC928\";\nconst GREEN_MDEIUM = \"#1EA362\";\nconst ORANGE = \"#FF4F00\";\nconst ORANGE_TRANSPARENT = \"rgb(255, 168, 128, .1)\";\nconst RED = \"red\";\nconst RED_DARK = \"#DA4B3C\";\nconst WHITE = \"#FFFFFF\";\n\n// dimension\nconst FILL_ALL_HEIGHT = \"-webkit-fill-available\";\nconst FILL_ALL_WIDTH = \"-webkit-fill-available\";\n\n// font\nconst FONT_SIZE = 16;\n\nexport interface StyleSheet {\n  button: {\n    borderRadius: number;\n  };\n  color: {\n    black: string;\n    blueTransparent: string;\n    green: string;\n    greenMedium: string;\n    greyDark: string;\n    greyLight: string;\n    greyTransparent: string;\n    orange: string;\n    orangeTransparent: string;\n    primaryColor: string;\n    primaryColorTransparent: string;\n    red: string;\n    redDark: string;\n    secondaryColor: string;\n    secondaryColorTransparent: string;\n    white: string;\n  };\n  common: {\n    borderColor: string;\n  };\n  dimension: {\n    FILL_ALL_HEIGHT: string;\n    FILL_ALL_WIDTH: string;\n  };\n  font: {\n    fontSize: number;\n    white: string;\n  };\n  icon: any;\n  remind: {\n    primaryColor: string;\n    secondaryColor: string;\n  };\n  textField: {\n    borderColor: string;\n    borderRadius: number;\n    borderWidth: number;\n  };\n}\n\nexport const styleSchema: StyleSheet = {\n  button: {\n    borderRadius\n  },\n  color: {\n    black: BLACK,\n    blueTransparent: BLUE_TRANSPARENT,\n    green: GREEN,\n    greenMedium: GREEN_MDEIUM,\n    greyDark: GREY_DARK,\n    greyLight: GREY_LIGHT,\n    greyTransparent: GREY_TRANSPARENT,\n    orange: ORANGE,\n    orangeTransparent: ORANGE_TRANSPARENT,\n    primaryColor: ORANGE,\n    primaryColorTransparent: ORANGE_TRANSPARENT,\n    red: RED,\n    redDark: RED_DARK,\n    secondaryColor: GREY_DARK,\n    secondaryColorTransparent: GREY_TRANSPARENT,\n    white: WHITE\n  },\n  common: {\n    borderColor: GREY_LIGHT\n  },\n  dimension: {\n    FILL_ALL_HEIGHT,\n    FILL_ALL_WIDTH\n  },\n  font: {\n    fontSize: FONT_SIZE,\n    white: WHITE\n  },\n  icon: {\n    fontSize: 38,\n    marginLeft: 18\n  },\n  remind: {\n    primaryColor: GREEN,\n    secondaryColor: BLUE\n  },\n  textField: {\n    borderColor: BLUE,\n    borderRadius,\n    borderWidth: 2\n  }\n};\n","import React, { Component } from \"react\";\nimport { View } from \".\";\nimport { styleSchema } from \"./stylesheet\";\n\ninterface Props {\n  styles?: any;\n  theme?: \"primary\" | \"secondary\";\n}\n\nexport default class BackgroundTheme extends Component<Props> {\n  render() {\n    const themeStyle =\n      this.props.theme === \"secondary\"\n        ? styles.secondaryTheme\n        : styles.primaryTheme;\n    return (\n      <View\n        style={{ ...styles.rootContainer, ...themeStyle, ...this.props.styles }}\n      >\n        {this.props.children}\n      </View>\n    );\n  }\n}\n\nconst styles = {\n  rootContainer: {\n    alignItems: \"center\",\n    backgroundColor: styleSchema.color.primaryColorTransparent,\n    borderRadius: 8,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  primaryTheme: {\n    backgroundColor: styleSchema.color.primaryColorTransparent\n  },\n  secondaryTheme: {\n    backgroundColor: styleSchema.color.secondaryColorTransparent\n  }\n};\n","import ApplicationComponent from \"./applicationComponent\";\nimport React from \"react\";\nimport { View, H5 } from \".\";\nimport { ThumbDown, ThumbUp } from \"@material-ui/icons\";\nimport { styleSchema } from \"./stylesheet\";\nimport { Button } from \"@material-ui/core\";\nimport Deal, { Address, GetDealResponse } from \"../modal/deal\";\nimport { CREATE_VOTE } from \"./middleware/service\";\n\nexport interface Props {\n  deal: Deal;\n  selectedAddress?: Address;\n}\n\nexport interface State {\n  voted: boolean;\n}\n\nexport default class CardBottomVote extends ApplicationComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      voted: false\n    };\n  }\n\n  render() {\n    const { downVote, upVote } = this.props.deal?.vote ?? {};\n    return (\n      <View isFlexDirectionRow style={styles.rootContainer}>\n        <this.VoteButton voteCount={upVote ?? 0} voteUpIcon={true} />\n        <this.VoteButton voteCount={downVote ?? 0} voteUpIcon={false} />\n      </View>\n    );\n  }\n\n  protected VoteButton = ({\n    voteCount,\n    voteUpIcon\n  }: {\n    voteCount: number;\n    voteUpIcon: boolean;\n  }) => {\n    let buttonContainerStyle = null;\n    let iconStyle = null;\n    if (this.state.voted) {\n      buttonContainerStyle = styles.VotedButtonContainer;\n      iconStyle = { ...styles.mainIconStyle, ...styles.votedIcon };\n    } else {\n      buttonContainerStyle = styles.VoteButtonContainer;\n      iconStyle = { ...styles.mainIconStyle, ...styles.voteIcon };\n    }\n    let voteFunction = voteUpIcon ? this.onPressUpVote : this.onPressDownVote;\n    return (\n      <View\n        isFlexDirectionRow\n        style={{ ...styles.buttonContainer, ...buttonContainerStyle }}\n      >\n        <Button\n          disabled={this.state.voted}\n          onClick={voteFunction}\n          style={styles.iconButton}\n        >\n          {voteUpIcon ? (\n            <ThumbUp style={iconStyle} />\n          ) : (\n            <ThumbDown style={iconStyle} />\n          )}\n        </Button>\n        <H5 style={styles.componentStyle}>{voteCount}</H5>\n      </View>\n    );\n  };\n\n  protected onPressDownVote = () => {\n    this.createVoteRequest(false);\n  };\n\n  protected onPressUpVote = () => {\n    this.createVoteRequest(true);\n  };\n\n  protected createVoteRequest = async (upVote: boolean) => {\n    const { id, serverIdentifierName } = this.props.deal;\n    if (!this.state.voted && id && serverIdentifierName) {\n      this.appContext.serviceExecutor\n        .execute(\n          CREATE_VOTE({\n            id,\n            upVote,\n            serverIdentifierName\n          })\n        )\n        .then((getDealResponse: GetDealResponse) => {\n          this.setState({ voted: true });\n          this.appState.deal.setDeals(getDealResponse.deals);\n        });\n    }\n  };\n}\n\nconst styles = {\n  buttonContainer: {\n    alignItems: \"center\",\n    borderRadius: 5,\n    marginRight: 5\n  },\n  componentStyle: {\n    paddingRight: 10\n  },\n  mainIconStyle: {\n    fontSize: 22,\n    paddingTop: 2,\n    paddingBottom: 2\n  },\n  iconButton: {\n    padding: 0\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    marginTop: 10\n  },\n  VotedButtonContainer: {\n    backgroundColor: styleSchema.color.secondaryColorTransparent\n  },\n  VoteButtonContainer: {\n    backgroundColor: styleSchema.color.primaryColorTransparent\n  },\n  votedIcon: {\n    color: styleSchema.color.secondaryColor\n  },\n  voteIcon: {\n    color: styleSchema.color.primaryColor\n  }\n};\n","import React from \"react\";\nimport { ExpandMore, ExpandLess } from \"@material-ui/icons\";\nimport { View, H4, H5 } from \".\";\nimport { styleSchema } from \"./stylesheet\";\nimport { Button, Collapse } from \"@material-ui/core\";\nimport ApplicationComponent from \"./applicationComponent\";\n\nexport interface Props {\n  children?: React.ReactNode;\n  bottomToolBarContent?: React.ReactNode;\n  expanded: boolean;\n  onClickExpandSign: () => void;\n}\n\nexport default class LocalDealCard extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <View style={{ ...styles.rootContainer, textAlign: \"start\" }}>\n        <Collapse in={this.props.expanded}>\n          <View style={styles.collapsedContentContainer}>\n            {this.props.children}\n          </View>\n        </Collapse>\n        <this.BottomToolBar />\n      </View>\n    );\n  }\n\n  protected BottomToolBar = () => {\n    return (\n      <View isFlexDirectionRow style={styles.bottonToolBar}>\n        <View style={{ alignSelf: \"flex-start\" }}>\n          {this.props.bottomToolBarContent}\n        </View>\n        <View style={{ alignSelf: \"flex-end\" }}>\n          <this.ExpandSign />\n        </View>\n      </View>\n    );\n  };\n\n  protected ExpandLessSign = () => {\n    return (\n      <>\n        <H5 style={{ color: styleSchema.color.primaryColor }}>\n          {this.appContext.labels.localDealCardPage.collapse}\n        </H5>\n        <ExpandLess style={styles.expandSignIcon} />\n      </>\n    );\n  };\n\n  protected ExpandMoreSign = () => {\n    return (\n      <>\n        <H4>{this.appContext.labels.localDealCardPage.expand}</H4>\n        <ExpandMore style={styles.expandSignIcon} />\n      </>\n    );\n  };\n\n  protected ExpandSign = () => {\n    return (\n      <Button\n        onClick={this.props.onClickExpandSign}\n        style={styles.expandSignButton}\n      >\n        {this.props.expanded ? (\n          <this.ExpandLessSign />\n        ) : (\n          <this.ExpandMoreSign />\n        )}\n      </Button>\n    );\n  };\n}\n\nconst styles = {\n  bottonToolBar: {\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  collapsedContentContainer: {\n    paddingBottom: 15,\n    paddingTop: 15\n  },\n  expandSignButton: {\n    backgroundColor: styleSchema.color.primaryColorTransparent,\n    padding: 0,\n    paddingLeft: 15,\n    paddingRight: 5\n  },\n  expandSignIcon: {\n    color: styleSchema.color.primaryColor\n  },\n  rootContainer: {\n    width: \"inherit\"\n  }\n};\n","import React, { Component, ReactNode } from \"react\";\nimport { Drawer, DrawerProps } from \"@material-ui/core\";\nimport { View } from \".\";\nimport { styleSchema } from \"./stylesheet\";\n\nexport default class DrawerMenu extends Component<DrawerProps> {\n  render() {\n    return (\n      <Drawer {...this.props}>\n        <View style={styles.rootContainer}>{this.props.children}</View>\n      </Drawer>\n    );\n  }\n}\n\nconst styles = {\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    height: \"inherit\",\n    paddingLeft: 15,\n    paddingRight: 15,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  }\n};\n","import React, { Component } from \"react\";\nimport { styleSchema } from \"./stylesheet\";\n\ninterface Props {\n  style?: any;\n}\n\nexport default class H1 extends Component<Props> {\n  render() {\n    return (\n      <p\n        style={{\n          ...this.getDefaultStyle(),\n          ...this.getDefaultColor(),\n          ...this.props.style\n        }}\n      >\n        {this.props.children}\n      </p>\n    );\n  }\n\n  protected getDefaultColor(): { color: string } {\n    return {\n      color: this.getColor()\n    };\n  }\n\n  protected getColor(): string {\n    return styleSchema.color.black;\n  }\n\n  protected getDefaultStyle() {\n    return { ...styles.defaultStyle, ...this.getStyle() };\n  }\n\n  protected getStyle(): any {\n    return styles.text;\n  }\n}\n\nconst styles = {\n  defaultStyle: {\n    margin: 0,\n    marginTop: 2\n  },\n  text: {\n    fontSize: 18,\n    fontWeight: 600\n  }\n};\n","import { H1, styleSchema } from \".\";\n\nexport default class H4 extends H1 {\n  protected getColor(): string {\n    return styleSchema.color.primaryColor;\n  }\n\n  protected getStyle(): any {\n    return styles.text;\n  }\n}\n\nconst styles = {\n  text: {\n    fontSize: 15,\n    fontWeight: 500\n  }\n};\n","import { styleSchema, H1 } from \"./\";\n\nexport default class H5 extends H1 {\n  protected getColor(): string {\n    return styleSchema.color.greyDark;\n  }\n\n  protected getStyle() {\n    return styles.text;\n  }\n}\n\nconst styles = {\n  text: {\n    fontSize: 15,\n    fontWeight: 500\n  }\n};\n","import React, { Component } from \"react\";\n\ninterface Props {\n  alt?: string;\n  src: string;\n  size?: \"big\" | \"medium\" | \"small\" | \"miniCircularImage\";\n}\n\nexport default class Image extends Component<Props> {\n  render() {\n    return (\n      <img\n        alt={this.props?.alt ?? \"image\"}\n        src={this.props.src}\n        style={{ ...styles.defaultStyle, ...this.getImageSizeStyle() }}\n      />\n    );\n  }\n\n  protected getImageSizeStyle() {\n    switch (this.props.size) {\n      case \"big\":\n        return styles.bigImage;\n      case \"medium\":\n        return styles.mediumImage;\n      case \"miniCircularImage\":\n        return styles.miniCircularImage;\n      default:\n        return styles.smallImage;\n    }\n  }\n}\n\nconst styles = {\n  bigImage: { width: 100 },\n  defaultStyle: {\n    borderRadius: 5\n  },\n  miniCircularImage: {\n    borderRadius: 30,\n    width: 35\n  },\n  mediumImage: { width: 75 },\n  smallImage: { width: 50 }\n};\n","import React, { ReactNode } from \"react\";\nimport { ExpandMore, ExpandLess } from \"@material-ui/icons\";\nimport { View, H4, H5 } from \".\";\nimport { styleSchema } from \"./stylesheet\";\nimport { Button } from \"@material-ui/core\";\nimport ApplicationComponent from \"./applicationComponent\";\n\nexport interface Props {\n  children?: React.ReactNode;\n  collapseBaseOnContent?: boolean;\n  collapsedHeight?: number;\n  bottomToolBarContent?: React.ReactNode;\n  onClick: (any?: any) => void;\n  title?: string;\n}\n\nexport interface State {\n  contentNeedCollapse: boolean;\n  isCollapsed: boolean;\n}\n\nexport default class LocalDealCard extends ApplicationComponent<Props, State> {\n  private contentRef: HTMLDivElement | null = null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      contentNeedCollapse: true,\n      isCollapsed: true\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      contentNeedCollapse: (this.contentRef?.clientHeight ?? 0) > 180\n    });\n  }\n\n  render() {\n    return (\n      <View borderBottom={1} style={styles.rootContainer}>\n        <this.ContentBody\n          contentNeedCollapse={this.state.contentNeedCollapse}\n          isCollapsed={this.state.isCollapsed}\n        />\n        <this.BottomToolBar />\n      </View>\n    );\n  }\n\n  protected BottomToolBar = () => {\n    return (\n      <View isFlexDirectionRow style={styles.bottonToolBar}>\n        <View style={{ alignSelf: \"flex-start\" }}>\n          {this.props.bottomToolBarContent}\n        </View>\n        <View style={{ alignSelf: \"flex-end\" }}>\n          <this.ExpandSign />\n        </View>\n      </View>\n    );\n  };\n\n  protected ExpandLessSign = () => {\n    return (\n      <>\n        <H5 style={{ color: styleSchema.color.primaryColor }}>\n          {this.appContext.labels.localDealCardPage.collapse}\n        </H5>\n        <ExpandLess style={styles.expandSignIcon} />\n      </>\n    );\n  };\n\n  protected ExpandMoreSign = () => {\n    return (\n      <>\n        <H4>{this.appContext.labels.localDealCardPage.expand}</H4>\n        <ExpandMore style={styles.expandSignIcon} />\n      </>\n    );\n  };\n\n  protected ExpandSign = () => {\n    if (this.state.contentNeedCollapse) {\n      return (\n        <Button onClick={this.onClickedContent} style={styles.expandSignButton}>\n          {this.state.isCollapsed ? (\n            <this.ExpandMoreSign />\n          ) : (\n            <this.ExpandLessSign />\n          )}\n        </Button>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  protected ContentBody = ({\n    contentNeedCollapse,\n    isCollapsed\n  }: {\n    contentNeedCollapse: boolean;\n    isCollapsed: boolean;\n  }) => {\n    const style =\n      contentNeedCollapse && isCollapsed\n        ? styles.contentCollapsedStyle\n        : styles.contentOpenedStyle;\n    return (\n      <View\n        style={{ ...styles.contentContainer, ...style }}\n        onClick={this.onClickedContent}\n      >\n        <div\n          // TODO not sure if this is correct\n          style={{ width: \"inherit\" }}\n          ref={contentRef => {\n            this.contentRef = contentRef;\n          }}\n        >\n          {this.props.children}\n        </div>\n      </View>\n    );\n  };\n\n  protected onClickedContent = () => {\n    this.setState({\n      isCollapsed: !this.state.isCollapsed\n    });\n  };\n}\n\nconst styles = {\n  bottonToolBar: {\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  contentCollapsedStyle: {\n    height: \"150px\",\n    overflow: \"hidden\"\n  },\n  contentContainer: {\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  contentOpenedStyle: {},\n  expandSignButton: {\n    backgroundColor: styleSchema.color.primaryColorTransparent,\n    padding: 0,\n    paddingLeft: 15,\n    paddingRight: 5\n  },\n  expandSignIcon: {\n    color: styleSchema.color.primaryColor\n  },\n  rootContainer: {\n    backgroundColor: styleSchema.color.white,\n    borderColor: styleSchema.common.borderColor,\n    padding: 20,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { withStyles, Input } from \"@material-ui/core\";\nimport { styleSchema } from \"./\";\nimport { StyleSheet } from \"./stylesheet\";\n\nconst overrideStyles = (style: StyleSheet) => {\n  let textFieldStyles = style.textField;\n  return {\n    notchedOutline: {\n      borderColor: textFieldStyles.borderColor,\n      borderRadius: textFieldStyles.borderRadius,\n      borderWidth: textFieldStyles.borderWidth\n    }\n  };\n};\n\nexport interface Props {\n  classes?: any;\n  children?: React.ReactNode;\n  defaultValue?: string;\n  isError?: boolean;\n  onBlur?: () => void;\n  onChange: (textInput: any) => void;\n  onFocus?: () => void;\n  placeHolder?: string;\n  text?: string;\n  style?: any;\n}\n\nclass LocalDealTextField extends ApplicationComponent<Props> {\n  render() {\n    return <this.RegularInputTextField />;\n  }\n\n  protected RegularInputTextField = () => {\n    const placeHolderValue: string =\n      (this.props.text ? this.props.text : this.props.placeHolder) ?? \"\";\n    return (\n      <Input\n        error={this.props.isError}\n        onChange={text => this.props.onChange(text.target.value)}\n        placeholder={placeHolderValue}\n        style={{ ...styles.textFieldStyle, ...this.props.style }}\n      />\n    );\n  };\n\n  protected NewStyleTextField = () => {\n    const onBlurFunction = this.props.onBlur ? this.props.onBlur : () => {};\n    const onFocusFunction = this.props.onFocus ? this.props.onFocus : () => {};\n    return (\n      <TextField\n        color=\"secondary\"\n        defaultValue={this.props.defaultValue}\n        // InputProps={{\n        //   classes: {\n        //     notchedOutline: this.props.classes.notchedOutline\n        //   }\n        // }}\n        label={this.props.text}\n        onBlur={() => onBlurFunction()}\n        onChange={text => this.props.onChange(text.target.value)}\n        onFocus={() => onFocusFunction()}\n        style={{ ...styles.textFieldStyle, ...this.props.style }}\n        variant=\"outlined\"\n      >\n        {this.props.children}\n      </TextField>\n    );\n  };\n}\n\nconst styles = {\n  textFieldStyle: {\n    paddingTop: 15,\n    width: \"inherit\"\n  }\n};\n\nexport default withStyles(overrideStyles(styleSchema))(LocalDealTextField);\n","import React, { Component } from \"react\";\nimport { styleSchema } from \"./stylesheet\";\n\ninterface Props {\n  color: \"primary\" | \"secondary\";\n}\n\nexport default class MiniText extends Component<Props> {\n  additionalStyle =\n    this.props.color === \"primary\"\n      ? styles.primaryStyle\n      : styles.secondaryStyle;\n  render() {\n    return (\n      <p style={{ ...styles.default, ...this.additionalStyle }}>\n        {this.props.children}\n      </p>\n    );\n  }\n}\n\nconst styles = {\n  default: {\n    fontSize: 9,\n    margin: 0\n  },\n  primaryStyle: {\n    color: styleSchema.color.primaryColor\n  },\n  secondaryStyle: {\n    color: styleSchema.color.secondaryColor\n  }\n};\n","import React, { Component } from \"react\";\nimport { Button, ButtonProps } from \"@material-ui/core\";\nimport { styleSchema } from \"./stylesheet\";\n\nexport default class PrimaryButton extends Component<ButtonProps> {\n  render() {\n    const color: any = {\n      backgroundColor: this.props.disabled\n        ? styleSchema.color.greyDark\n        : styleSchema.color.primaryColor\n    };\n    return (\n      <Button style={{ ...color, ...styles.buttonStyle }} {...this.props}>\n        <p style={styles.text}>{this.props.children}</p>\n      </Button>\n    );\n  }\n}\n\nconst styles = {\n  buttonStyle: {\n    borderRadius: 25,\n    marginLeft: 20,\n    marginRight: 20,\n    width: \"inherit\"\n  },\n  text: {\n    color: styleSchema.color.white,\n    fontSize: 15,\n    fontWeight: 600,\n    margin: 0\n  }\n};\n","import { H1, styleSchema } from \".\";\n\nexport default class Paragraph extends H1 {\n  protected getColor(): string {\n    return styleSchema.color.primaryColor;\n  }\n\n  protected getStyle(): any {\n    return styles.text;\n  }\n}\n\nconst styles = {\n  text: {\n    fontSize: \"0.875rem\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport ReactQuill, { Quill } from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { UPLOAD_IMAGE } from \"./middleware/service\";\nimport Resizer from \"react-image-file-resizer\";\nimport { isObject } from \"util\";\nimport loadImage from \"blueimp-load-image\";\n\nconst richTextEditorOptions = [\n  [{ color: [] }], // dropdown with defaults from theme\n  [\"bold\", \"italic\", \"strike\", { header: [1, false] }, { align: [] }], // toggled buttons\n  //   [\"blockquote\", \"code-block\"],\n  [\"image\"],\n  [\"link\"],\n  //   [{ header: 1 }, { header: 2 }], // custom button values\n  [{ list: \"ordered\" }, { list: \"bullet\" }],\n  //   [{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\n  //   [{ indent: \"-1\" }, { indent: \"+1\" }], // outdent/indent\n  //   [{ direction: \"rtl\" }], // text direction\n\n  //   [{ size: [\"small\", \"medium\", \"large\", \"huge\"] }], // custom dropdown\n  //   [{ font: [] }],\n  [\"clean\"] // remove formatting button,\n];\n\nexport interface Props {\n  onChangeValue: (value: string) => void;\n  style?: any;\n}\n\nexport default class RichTextEditor extends ApplicationComponent<Props> {\n  private quillRef: any;\n\n  render() {\n    return (\n      <ReactQuill\n        ref={ref => (this.quillRef = ref)}\n        modules={this.modules()}\n        onChange={(content, delta, source, editor) => {\n          if (source === \"user\") {\n            if (delta.ops?.length) {\n              delta.ops.forEach(line => {\n                if (isObject(line.insert) && line.insert.image) {\n                  console.debug(\"got image\");\n                  this.imageHandler(line.insert.image);\n                }\n              });\n            }\n          }\n          this.props.onChangeValue(content);\n        }}\n        placeholder={\n          this.appContext.labels.createDealPage.descriptionPlaceHolder\n        }\n        style={{ ...styles.quillStyle, ...this.props.style }}\n      ></ReactQuill>\n    );\n  }\n\n  protected createNewFormData(\n    content: any,\n    name: string = \"content\",\n    fileName: string = \"newFile\"\n  ): FormData {\n    console.debug(\"create new FormData object\");\n    const newFormData: FormData = new FormData();\n    newFormData.append(name, content, fileName);\n    return newFormData;\n  }\n\n  protected fixRotation(file: any, imageType: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      loadImage(\n        file,\n        (img: any) => {\n          return resolve(img.toDataURL(imageType));\n        },\n        { orientation: true }\n      );\n    });\n  }\n\n  protected getCurrentIndex(): number {\n    const currentIndex: number = this.quillRef.getEditor().getSelection().index;\n    return currentIndex;\n  }\n\n  protected async getImageInfo(\n    file: File\n  ): Promise<{ height: number; size: number; type: string; width: number }> {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = URL.createObjectURL(file);\n      image.onload = () => {\n        console.debug(\n          `type:${file.type} size:${file.size} height:${image.height} width:${image.width}`\n        );\n        return resolve({\n          height: image.height,\n          size: file.size,\n          type: file.type,\n          width: image.width\n        });\n      };\n    });\n  }\n\n  protected imageResize(\n    file: File,\n    imageType: string,\n    height: number,\n    width: number,\n    quality: number\n  ): Promise<File> {\n    return new Promise((resolve, reject) => {\n      const callBackFunction = (processedImage: File) => {\n        resolve(processedImage);\n      };\n      Resizer.imageFileResizer(\n        file,\n        width,\n        height,\n        imageType,\n        quality,\n        0,\n        callBackFunction,\n        \"blob\"\n      );\n    });\n  }\n\n  protected centerAlignLine(): void {\n    const currentIndex: number = this.getCurrentIndex();\n    this.quillRef\n      .getEditor()\n      .formatLine(currentIndex, currentIndex + 1, \"align\", \"center\");\n  }\n\n  protected leftAlignLine(): void {\n    const currentIndex: number = this.getCurrentIndex();\n    this.quillRef\n      .getEditor()\n      .formatLine(currentIndex, currentIndex + 1, \"align\", \"\");\n  }\n\n  protected createImageElement(imageUrl: string): HTMLImageElement {\n    const image: HTMLImageElement = document.createElement(\"img\");\n    image.src = imageUrl;\n    image.setAttribute(\"style\", \"width:10px\");\n    return image;\n  }\n\n  protected createNewLine() {\n    this.quillRef.getEditor().insertText(this.getCurrentIndex(), \"\\n\");\n  }\n\n  protected transferToBlob(file: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      return fetch(file)\n        .then(originalImage => originalImage.blob())\n        .then(result => resolve(result));\n    });\n  }\n\n  guessImageMime(data: string): string {\n    if (data.charAt(0) === \"/\") {\n      return \"image/jpeg\";\n    } else if (data.charAt(0) === \"R\") {\n      return \"image/gif\";\n    } else if (data.charAt(0) === \"i\") {\n      return \"image/png\";\n    } else {\n      return \"\";\n    }\n  }\n\n  imageHandler = async (file: any) => {\n    console.debug(\"enter image handler function\");\n    console.debug(\"original\");\n\n    this.removePreviousInput();\n\n    let fixed = await this.fixRotation(file, this.guessImageMime(file));\n\n    let iamgeBlob = await this.transferToBlob(fixed);\n\n    const originalImageInfo = await this.getImageInfo(iamgeBlob);\n\n    // resize image according to height, width and quality\n    const processedImage = await this.imageResize(\n      iamgeBlob,\n      originalImageInfo.type,\n      originalImageInfo.height,\n      originalImageInfo.width / 5,\n      10\n    );\n    // just print file detail in log, no functionality\n    console.debug(\"processed\");\n    this.getImageInfo(processedImage);\n    // create a FormData object inorder to submit it as Multipart file for REST controller\n    const formData: FormData = new FormData();\n    formData.append(\"image\", processedImage, \"image\");\n    // upload image\n    this.appContext.serviceExecutor\n      .execute(UPLOAD_IMAGE(formData))\n      .then(response => {\n        this.onImageSucceedUpload(response.url);\n      });\n  };\n\n  protected modules() {\n    return {\n      toolbar: {\n        container: richTextEditorOptions\n      }\n    };\n  }\n\n  protected async onImageSucceedUpload(imageUrl: string) {\n    // this.removePreviousInput();\n    this.quillRef\n      .getEditor()\n      .insertEmbed(this.getCurrentIndex(), \"image\", imageUrl);\n    this.setCursorAtNextIndex();\n    this.centerAlignLine();\n    this.createNewLine();\n    this.leftAlignLine();\n  }\n\n  protected removePreviousInput(): void {\n    const currentIndex: number = this.getCurrentIndex();\n    console.debug(\"remove content at index:\", currentIndex);\n    this.quillRef.getEditor().deleteText(currentIndex, currentIndex + 1);\n  }\n\n  protected setCursorAtNextIndex(): void {\n    const currentIndex: number = this.getCurrentIndex();\n    this.quillRef.getEditor().setSelection(currentIndex + 1, currentIndex + 1);\n  }\n}\n\nconst styles = {\n  quillStyle: {\n    borderRadius: 5,\n    width: \"inherit\"\n  }\n};\n","import React, { Component } from \"react\";\nimport Slider from \"react-slick\";\nimport \"./slide.css\";\n\ninterface Props {\n  dealIndex: number;\n  height: number;\n  fileUrls: string[];\n}\n\ninterface State {\n  contentHeight: number;\n  imageLoaded: boolean;\n}\n\nconst MAXIMUM_IMAGE_HEIGHT = 500;\n\nexport default class Slide extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      contentHeight: 100,\n      imageLoaded: false\n    };\n  }\n\n  render() {\n    return (\n      <div style={styles.sliderWrapper}>\n        <Slider\n          dots\n          lazyLoad=\"progressive\"\n          infinite={false}\n          focusOnSelect={false}\n          slidesPerRow={1}\n          slidesToShow={1}\n          speed={100}\n        >\n          {this.generateImages()}\n        </Slider>\n      </div>\n    );\n  }\n\n  protected generateImages() {\n    return this.props.fileUrls.map((content, index) => {\n      return (\n        <div>\n          <img\n            alt=\"post\"\n            onLoad={() => this.onLoadImage(index)}\n            id={`deal-${this.props.dealIndex} image-${index}`}\n            src={content}\n            style={this.getImageStlye()}\n          />\n        </div>\n      );\n    });\n  }\n\n  protected getImageStlye(): any {\n    // return this.state.imageLoaded\n    //   ? { ...styles.imageDefaultStyle, height: this.state.contentHeight }\n    //   : styles.imageDefaultStyle;\n    return { ...styles.imageDefaultStyle, height: this.props.height };\n  }\n\n  protected onLoadImage = (index: number) => {\n    if (index === 0) {\n      let height = document.getElementById(\n        `deal-${this.props.dealIndex} image-0`\n      )?.clientHeight;\n      if (height && height > MAXIMUM_IMAGE_HEIGHT) {\n        console.debug(\"exceed maximum height:\", height);\n        height = MAXIMUM_IMAGE_HEIGHT;\n      }\n      if (height) {\n        this.setState({\n          contentHeight: height,\n          imageLoaded: true\n        });\n      }\n    }\n  };\n}\n\nconst styles = {\n  imageDefaultStyle: {\n    minHeight: \"100%\",\n    minWidth: \"100%\",\n    objectFit: \"cover\"\n  },\n  sliderWrapper: {\n    width: \"100%\"\n  }\n};\n","import React, { Component } from \"react\";\nimport { Button, ButtonProps } from \"@material-ui/core\";\nimport { styleSchema } from \"./stylesheet\";\n\ninterface Props extends ButtonProps {\n  onClick: () => void;\n  underline?: boolean;\n}\n\nexport default class TextButton extends Component<Props> {\n  render() {\n    const additionalStyle = this.props.underline ? styles.underline : \"\";\n    return (\n      <Button\n        onClick={this.props.onClick}\n        style={{ ...styles.buttonStyle, ...additionalStyle }}\n        variant=\"text\"\n        {...this.props}\n      >\n        {this.props.children}\n      </Button>\n    );\n  }\n}\n\nconst styles = {\n  buttonStyle: {\n    color: styleSchema.color.primaryColor,\n    paddingBottom: 2,\n    paddingTop: 2\n  },\n  underline: {\n    textDecoration: \"underline\"\n  }\n};\n","import React, { Component } from \"react\";\nimport { TextField as MaterialTextField, withStyles } from \"@material-ui/core\";\n\nconst overrideStyles = {\n  root: {\n    \"& label.Mui-focused\": {\n      color: \"yellow\"\n    },\n    \"& .MuiInput-underline:after\": {\n      borderBottomColor: \"yellow\",\n      borderWidth: \"0px\"\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"& fieldset\": {\n        borderColor: \"red\"\n      },\n      \"&:hover fieldset\": {\n        borderColor: \"yellow\"\n      },\n      \"&.Mui-focused fieldset\": {\n        borderColor: \"yellow\",\n        borderWidth: \"0px\"\n      }\n    }\n  }\n};\n\ninterface Props {\n  multiline?: boolean;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  rows?: number;\n}\n\nexport default class TextField extends Component<Props> {\n  render() {\n    const StyledTextField = withStyles(overrideStyles)(MaterialTextField);\n    return (\n      <MaterialTextField\n        multiline={this.props.multiline}\n        onChange={event => this.props.onChange(event.target.value)}\n        placeholder={this.props.placeholder}\n        rows={this.props.rows}\n        style={styles.textField}\n      />\n    );\n  }\n}\n\nconst styles = {\n  textField: {\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport { Button } from \"@material-ui/core\";\nimport { H5, View } from \".\";\nimport { styleSchema } from \"./stylesheet\";\n\nexport interface Props {\n  onClickPrimaryButton: () => void;\n  onClickSecondaryButton: () => void;\n  primaryButtonLabel: string;\n  secondaryButtonLabel: string;\n  style?: any;\n}\n\nexport default class TwinButton extends ApplicationComponent<Props> {\n  render() {\n    let {\n      onClickPrimaryButton,\n      onClickSecondaryButton,\n      primaryButtonLabel,\n      secondaryButtonLabel\n    } = this.props;\n    return (\n      <View\n        isFlexDirectionRow={true}\n        style={{ ...styles.rootContainer, ...this.props.style }}\n      >\n        <Button\n          onClick={() => onClickPrimaryButton()}\n          style={styles.primaryButton}\n          variant={\"outlined\"}\n        >\n          <H5 style={styles.primaryButtonText}>{primaryButtonLabel}</H5>\n        </Button>\n        <Button onClick={() => onClickSecondaryButton()} variant={\"outlined\"}>\n          <H5>{secondaryButtonLabel}</H5>\n        </Button>\n      </View>\n    );\n  }\n}\n\nconst styles = {\n  rootContainer: {\n    justifyContent: \"space-around\",\n    marginLeft: 20,\n    marginRight: 20,\n    width: \"inherit\"\n  },\n  primaryButton: {\n    backgroundColor: styleSchema.color.primaryColor\n  },\n  primaryButtonText: {\n    color: styleSchema.color.white\n  }\n};\n","import React, { Component } from \"react\";\nimport { SnackbarProps, Snackbar } from \"@material-ui/core\";\n\nexport default class Toast extends Component<SnackbarProps> {\n  render() {\n    const autoHideDuraction = this.props.autoHideDuration ? null : 6000;\n    return (\n      <Snackbar open={this.props.open} autoHideDuration={autoHideDuraction}>\n        {this.props.children}\n      </Snackbar>\n    );\n  }\n}\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport { Box, BoxProps } from \"@material-ui/core\";\n\ninterface Props extends BoxProps {\n  alignItems?: string;\n  chindren?: React.ReactNode;\n  isFlexDirectionRow?: boolean;\n  justifyContent?: string;\n  onClick?: () => void;\n}\n\nexport default class View extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection={this.props.isFlexDirectionRow ? \"row\" : \"column\"}\n        alignItems={this.props.alignItems ? this.props.alignItems : \"start\"}\n        justifyContent={\n          this.props.justifyContent ? this.props.justifyContent : \"start\"\n        }\n        onClick={() => (this.props.onClick ? this.props.onClick() : {})}\n        {...this.props}\n      >\n        {this.props.children}\n      </Box>\n    );\n  }\n}\n","import React, { ChangeEvent } from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { CreateDealLandingPageV2View } from \"./\";\nimport Deal from \"../../modal/deal\";\nimport { UPLOAD_IMAGE, CREATE_DEAL } from \"../../common/middleware/service\";\n\nconst ALLOWED_NUMBER_OF_FILE = 9;\n\ninterface Props {\n  onClose: () => void;\n}\n\ninterface State {\n  files: string[];\n  blobFiles: any[];\n  description: string;\n  title: string;\n}\n\nexport default class CreateDealLandingPageV2 extends ApplicationComponent<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      files: [],\n      blobFiles: [],\n      description: \"\",\n      title: \"\"\n    };\n  }\n\n  render() {\n    return (\n      <CreateDealLandingPageV2View\n        allowNumberOfFile={ALLOWED_NUMBER_OF_FILE}\n        files={this.state.files}\n        onAddFile={this.onAddFile}\n        onChangeDescription={this.onChangeDescription}\n        onChangeTitle={this.onChangeTitle}\n        onClickSaveDraft={this.onClickSaveDraft}\n        onClickSubmit={this.onClickSubmit}\n        onClose={this.props.onClose}\n      />\n    );\n  }\n\n  protected onAddFile = (event: ChangeEvent<HTMLInputElement>) => {\n    console.log(\"onAddImage\");\n    const fileList = event.target.files;\n    if (fileList !== null) {\n      for (let i = 0; i < fileList.length; i++) {\n        this.convertImageToBase64(fileList[i]);\n      }\n    }\n  };\n\n  protected convertImageToBase64(image: File) {\n    const fileReader: FileReader = new FileReader();\n    fileReader.onload = changeEvent => {\n      if (changeEvent.target && changeEvent.target.result) {\n        this.setState({\n          files: this.state.files.concat(changeEvent.target.result.toString())\n        });\n      }\n      this.imageProcessor.compressImage(image).then(result => {\n        console.debug(\"finish pushing into state\");\n        this.setState({\n          blobFiles: this.state.blobFiles.concat(result)\n        });\n      });\n    };\n\n    fileReader.readAsDataURL(image);\n  }\n\n  protected onChangeDescription = (description: string) => {\n    console.debug(\"onChangeDescription\");\n    this.setState({\n      description\n    });\n  };\n\n  protected onChangeTitle = (title: string) => {\n    console.debug(\"onChangeTitle\");\n    this.setState({\n      title\n    });\n  };\n\n  protected onClickSaveDraft = () => {\n    console.debug(\"onClickSaveDraft\");\n  };\n\n  protected onClickSubmit = async () => {\n    console.log(this.appState.deal.deals);\n    console.debug(\"onClickSubmit\");\n    // upload all images in the state\n    const result = await Promise.all(\n      this.state.blobFiles.map(file => {\n        const formData: FormData = new FormData();\n        formData.append(\"image\", file, \"image\");\n        return this.appContext.serviceExecutor.execute(UPLOAD_IMAGE(formData));\n      })\n    );\n    // check fields!!!!\n    if (result) {\n      console.log();\n      const deal: Deal = {\n        address: {\n          area: \"澳門\",\n          country: \"\"\n        },\n        description: this.state.description,\n        filesUrl: result.map(url => url.url),\n        serverIdentifierName: \"MACAU\", // TODO - this might not be correct!!!\n        timestamp: 0,\n        title: this.state.title\n      };\n      this.appContext.serviceExecutor.execute(CREATE_DEAL(deal));\n    }\n  };\n}\n","import ApplicationComponent from \"../../common/applicationComponent\";\nimport React, { ReactNode, ChangeEvent } from \"react\";\nimport { View, styleSchema, PrimaryButton, MiniText, H5 } from \"../../common\";\nimport {\n  Add as AddIcon,\n  Close as CloseIcon,\n  FolderOpen as FolderOpenIcon\n} from \"@material-ui/icons\";\nimport { Button } from \"@material-ui/core\";\nimport TextField from \"../../common/textField\";\n\ninterface Props {\n  allowNumberOfFile: number;\n  files: string[];\n  onAddFile: (event: ChangeEvent<HTMLInputElement>) => void;\n  onChangeDescription: (description: string) => void;\n  onChangeTitle: (title: string) => void;\n  onClickSaveDraft: () => void;\n  onClickSubmit: () => void;\n  onClose: () => void;\n}\n\nexport default class CreateDealLandingPageV2View extends ApplicationComponent<\n  Props\n> {\n  render() {\n    return (\n      <View style={styles.rootContainer}>\n        <this.CloseButton />\n        <this.FileSection />\n        <this.Title />\n        <this.Description />\n        <this.BottomButtonSecton />\n      </View>\n    );\n  }\n\n  protected AddImageButton = () => {\n    return (\n      <this.Frame>\n        <input\n          accept=\"image/*\"\n          onChange={event => this.props.onAddFile(event)}\n          style={{ display: \"none\" }}\n          id=\"raised-button-file\"\n          multiple\n          type=\"file\"\n        />\n        <label htmlFor=\"raised-button-file\">\n          <Button component=\"span\" style={styles.addIconButton}>\n            <AddIcon scale=\"big\" style={styles.addIcon} />\n          </Button>\n        </label>\n      </this.Frame>\n    );\n  };\n\n  protected AddressSelectionSection = () => {};\n\n  protected BottomButtonSecton = () => {\n    return (\n      <View isFlexDirectionRow style={styles.bottomButtonSectionContainer}>\n        <this.DraftButton />\n        <this.SubmitButton />\n      </View>\n    );\n  };\n\n  protected CloseButton = () => {\n    return (\n      <View style={styles.closeIconContainer}>\n        <CloseIcon onClick={this.props.onClose} style={styles.closeIcon} />\n      </View>\n    );\n  };\n\n  protected Description = () => {\n    return (\n      <TextField\n        multiline\n        onChange={this.props.onChangeDescription}\n        placeholder={\n          this.appContext.labels.createDealPageV2.descriptionPlaceHolder\n        }\n        rows={6}\n      />\n    );\n  };\n\n  protected DraftButton = () => {\n    return (\n      <Button onClick={this.props.onClickSaveDraft} style={styles.draftButton}>\n        <View style={styles.draftButtonContainer}>\n          <FolderOpenIcon style={styles.draftIcon} />\n          <MiniText color=\"secondary\">\n            {this.appContext.labels.createDealPageV2.saveDraft}\n          </MiniText>\n        </View>\n      </Button>\n    );\n  };\n\n  protected FileSection = () => {\n    const images: ReactNode[] = this.props.files.map(image => (\n      <this.ImageContainer image={image} />\n    ));\n    if (this.props.files.length < this.props.allowNumberOfFile) {\n      images.push(<this.AddImageButton />);\n    }\n    return (\n      <>\n        <H5>Need Label - 比例相同的圖片會獲得更好的觀賞體驗</H5>\n        <View isFlexDirectionRow style={styles.fileSectionContainer}>\n          {images}\n        </View>\n      </>\n    );\n  };\n\n  protected ImageContainer = ({ image }: { image: string }) => {\n    return (\n      <this.Frame>\n        <img\n          alt={\"user-input\"}\n          src={image}\n          style={{ ...styles.imageStyle, objectFit: \"cover\" }}\n        />\n      </this.Frame>\n    );\n  };\n\n  protected Frame = ({ children }: { children: ReactNode }) => {\n    return (\n      <View border={1} style={styles.frameContainer}>\n        {children}\n      </View>\n    );\n  };\n\n  protected SubmitButton = () => {\n    return (\n      <PrimaryButton onClick={this.props.onClickSubmit}>\n        {this.appContext.labels.createDealPageV2.submitPost}\n      </PrimaryButton>\n    );\n  };\n\n  protected Title = () => {\n    return (\n      <TextField\n        onChange={this.props.onChangeTitle}\n        placeholder={this.appContext.labels.createDealPageV2.titlePlaceHolder}\n      />\n    );\n  };\n}\n\nconst styles = {\n  addIcon: {\n    color: styleSchema.color.greyTransparent,\n    fontSize: \"80\"\n  },\n  addIconButton: {\n    borderRadius: 10\n  },\n  bottomButtonSectionContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: 20,\n    marginTop: 20,\n    width: \"inherit\"\n  },\n  closeIcon: {\n    color: styleSchema.color.greyDark\n  },\n  closeIconContainer: {\n    alignItems: \"flex-end\",\n    justifyContent: \"center\",\n    marginTop: 15,\n    width: \"inherit\"\n  },\n  descriptionTextField: {\n    marginTop: 10,\n    width: \"inherit\"\n  },\n  draftButton: {\n    padding: 0\n  },\n  draftButtonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  draftIcon: {\n    backgroundColor: styleSchema.color.secondaryColorTransparent,\n    borderRadius: 25,\n    color: styleSchema.color.secondaryColor,\n    fontSize: 16,\n    marginBottom: 1,\n    padding: 3\n  },\n  fileSectionContainer: {\n    alignItems: \"start\",\n    overflow: \"scroll\",\n    paddingBottom: 10,\n    paddingTop: 10,\n    width: \"inherit\"\n  },\n  frameContainer: {\n    alignItems: \"center\",\n    borderColor: styleSchema.color.greyTransparent,\n    borderRadius: 10,\n    justifyContent: \"center\",\n    margin: 5,\n    maxHeight: 80,\n    maxWidth: 80,\n    minHeight: 80,\n    minWidth: 80\n  },\n  imageStyle: {\n    borderRadius: 10,\n    minHeight: \"inherit\",\n    minWidth: \"inherit\"\n  },\n  rootContainer: {\n    width: \"inherit\"\n  },\n  titleTextField: {\n    marginTop: 10,\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { CreateDealLandingPageView } from \".\";\nimport Deal, { Address, GetDealResponse } from \"../../modal/deal\";\nimport { CREATE_DEAL, GET_DEALS } from \"../../common/middleware/service\";\n\ninterface Props {\n  onClickClose: () => void;\n}\n\nexport interface State {\n  hasTitle: boolean;\n  hasDescription: boolean;\n  richTextValue: string;\n  title: string;\n  useAutoPosition: boolean;\n}\n\nexport default class CreateDealLandingPage extends ApplicationComponent<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasTitle: true,\n      hasDescription: true,\n      richTextValue: \"\",\n      title: \"\",\n      useAutoPosition: true\n    };\n  }\n\n  render() {\n    return (\n      <CreateDealLandingPageView\n        currentAddress={this.appState.address.selectedAddress}\n        hasDescription={this.state.hasDescription}\n        hasTitle={this.state.hasTitle}\n        onChangeRichTextValue={this.onChangeRichTextValue}\n        onChangeTitleTextField={this.onChangeTitleTextField}\n        onClickClose={() => this.props.onClickClose()}\n        onClickSubmit={this.onClickSubmit}\n        useAutoPosition={this.state.useAutoPosition}\n      />\n    );\n  }\n\n  protected onChangeRichTextValue = (richTextValue: string) => {\n    this.setState({\n      richTextValue\n    });\n  };\n\n  protected onChangeTitleTextField = (title: string) => {\n    this.setState({\n      title\n    });\n  };\n\n  protected onClickSubmit = async () => {\n    await this.validateDescription();\n    await this.validateTitle();\n    if (\n      this.state.hasDescription &&\n      this.state.hasTitle &&\n      this.appState.address.selectedAddress\n    ) {\n      await this.appContext.serviceExecutor.execute(\n        CREATE_DEAL({\n          address: this.appState.address.selectedAddress,\n          description: this.state.richTextValue,\n          serverIdentifierName: \"\", // TODO - this might not be correct!!!\n          timestamp: 0,\n          title: this.state.title\n        })\n      );\n      this.props.onClickClose();\n      await this.appContext.serviceExecutor\n        .execute(GET_DEALS(this.appState.address.selectedAddress))\n        .then((getDealResponse: GetDealResponse) =>\n          this.appState.deal.setDeals(getDealResponse.deals)\n        );\n    }\n  };\n\n  protected validateDescription() {\n    this.setState({\n      hasDescription: this.state.richTextValue.length > 0\n    });\n  }\n\n  protected validateTitle() {\n    this.setState({\n      hasTitle: this.state.title.length > 0\n    });\n  }\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { H1, H5, View, TwinButton, styleSchema } from \"../../common\";\nimport { Address } from \"../../modal/deal\";\nimport { Button } from \"@material-ui/core\";\nimport { LegacyCreateDealView } from \".\";\n\nexport interface Props {\n  currentAddress?: Address;\n  hasTitle: boolean;\n  hasDescription: boolean;\n  onChangeRichTextValue: (value: string) => void;\n  onChangeTitleTextField: (value: string) => void;\n  onClickClose: () => void;\n  onClickSubmit: () => void;\n  useAutoPosition: boolean;\n}\n\nexport default class CreateDealLandingPageView extends ApplicationComponent<\n  Props\n> {\n  render() {\n    return (\n      <View style={styles.rootContainer}>\n        <this.HeaderSection />\n        <this.ContentInput />\n        <this.ButtonSection />\n      </View>\n    );\n  }\n\n  ButtonSection = () => {\n    let label = this.appContext.labels.createDealPage;\n    return (\n      <TwinButton\n        onClickPrimaryButton={() => this.props.onClickSubmit()}\n        onClickSecondaryButton={() => this.props.onClickClose()}\n        primaryButtonLabel={label.create}\n        secondaryButtonLabel={label.cancel}\n        style={styles.buttonSection}\n      />\n    );\n  };\n\n  ContentInput = () => {\n    const {\n      currentAddress,\n      hasTitle,\n      hasDescription,\n      onChangeRichTextValue,\n      onChangeTitleTextField,\n      useAutoPosition\n    } = this.props;\n    return (\n      <LegacyCreateDealView\n        currentAddress={currentAddress}\n        hasTitle={hasTitle}\n        hasDescription={hasDescription}\n        onChangeRichTextValue={onChangeRichTextValue}\n        onChangeTitleTextField={onChangeTitleTextField}\n        useAutoPosition={useAutoPosition}\n      />\n    );\n  };\n\n  HeaderSection = () => {\n    let label = this.appContext.labels.createDealPage;\n    return (\n      <View style={styles.headerContainer} isFlexDirectionRow={true}>\n        <H1>{label.header}</H1>\n        <Button onClick={() => this.props.onClickClose()}>\n          <H5>{label.close}</H5>\n        </Button>\n      </View>\n    );\n  };\n}\n\nconst styles = {\n  addressSectionContainer: {\n    marginTop: 5,\n    width: \"inherit\"\n  },\n  buttonSection: {\n    margin: 10\n  },\n  headerContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 10,\n    width: \"100%\"\n  },\n  missingContentText: {\n    color: styleSchema.color.red,\n    marginTop: 5\n  },\n  descriptionContainer: {\n    marginTop: 10,\n    width: \"inherit\"\n  },\n  richTextEditor: {\n    marginTop: 5\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    overflow: \"hidden\",\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  titleTextField: {\n    marginTop: 5\n  },\n  titleTextFiledContainer: {\n    justifyContent: \"center\",\n    marginTop: 10,\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport {\n  H5,\n  LocalDealTextField,\n  AddressDisplay,\n  View,\n  RichTextEditor,\n  styleSchema\n} from \"../../common\";\nimport { Address } from \"../../modal/deal\";\n\nexport interface Props {\n  currentAddress?: Address;\n  hasTitle: boolean;\n  hasDescription: boolean;\n  onChangeRichTextValue: (value: string) => void;\n  onChangeTitleTextField: (value: string) => void;\n  useAutoPosition: boolean;\n}\n\nexport default class CreateDealLandingPageView extends ApplicationComponent<\n  Props\n> {\n  render() {\n    return (\n      <>\n        <this.AddressSection />\n        <this.TitleTextField />\n        <this.HourOfOperationSection />\n        <this.DescriptionTextField />\n      </>\n    );\n  }\n\n  AddressSection = () => {\n    return (\n      <View style={styles.addressSectionContainer}>\n        {this.props.useAutoPosition ? (\n          <this.AddressAutoPositionDisplay />\n        ) : (\n          <this.AddressTextField />\n        )}\n      </View>\n    );\n  };\n\n  AddressAutoPositionDisplay = () => {\n    if (this.props.currentAddress) {\n      return <AddressDisplay address={this.props.currentAddress} />;\n    }\n    return null;\n  };\n\n  AddressTextField = () => {\n    return null;\n  };\n\n  DescriptionTextField = () => {\n    return (\n      <View style={styles.descriptionContainer}>\n        <this.DescriptionMissing />\n        <RichTextEditor\n          onChangeValue={this.props.onChangeRichTextValue}\n          style={styles.richTextEditor}\n        />\n      </View>\n    );\n  };\n\n  DescriptionMissing = () => {\n    return this.props.hasDescription ? null : (\n      <this.MissingContentText\n        label={this.appContext.labels.createDealPage.descriptionMissing}\n      />\n    );\n  };\n\n  HourOfOperationSection = () => {\n    return null;\n  };\n\n  MissingContentText = ({ label }: { label: string }) => {\n    return <H5 style={styles.missingContentText}>{label}</H5>;\n  };\n\n  TitleMissing = () => {\n    return this.props.hasTitle ? null : (\n      <this.MissingContentText\n        label={this.appContext.labels.createDealPage.titleMissing}\n      />\n    );\n  };\n\n  TitleTextField = () => {\n    return (\n      <View style={styles.titleTextFiledContainer}>\n        <this.TitleMissing />\n        <LocalDealTextField\n          onChange={this.props.onChangeTitleTextField}\n          text={this.appContext.labels.createDealPage.textFieldTitle}\n          style={styles.titleTextField}\n        />\n      </View>\n    );\n  };\n}\n\nconst styles = {\n  addressSectionContainer: {\n    marginTop: 5,\n    width: \"inherit\"\n  },\n  buttonSection: {\n    margin: 10\n  },\n  headerContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 10,\n    width: \"100%\"\n  },\n  missingContentText: {\n    color: styleSchema.color.red,\n    marginTop: 5\n  },\n  descriptionContainer: {\n    marginTop: 10,\n    width: \"inherit\"\n  },\n  richTextEditor: {\n    marginTop: 5\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  titleTextField: {\n    marginTop: 5\n  },\n  titleTextFiledContainer: {\n    justifyContent: \"center\",\n    marginTop: 10,\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { Address } from \"../../modal/deal\";\n\nexport default class AddressPrediction extends ApplicationComponent {\n  render() {\n    this.setDefaultSelectedAddress();\n    return null;\n  }\n\n  protected setDefaultSelectedAddress() {\n    if (\n      this.appState.address.addressesPrediction.length > 0 &&\n      !this.appState.address.selectedAddress?.area\n    ) {\n      this.onSelectAddress();\n    }\n  }\n\n  protected onSelectAddress = (index: number = 0) => {\n    if (this.appState.address.addressesPrediction) {\n      const selectedAddress: Address = this.appState.address\n        .addressesPrediction[index];\n      this.appState.address.setSelectedAddress(selectedAddress);\n    }\n  };\n}\n","import React, { Component } from \"react\";\nimport { Tooltip, Button } from \"@material-ui/core\";\n\ninterface Props {\n  children: React.ReactNode;\n  title: string;\n}\n\nexport default class ToolTips extends Component<Props> {\n  render() {\n    return (\n      <Tooltip disableTouchListener title={this.props.title}>\n        <Button style={{ padding: 0, minWidth: 0 }}>\n          {this.props.children}\n        </Button>\n      </Tooltip>\n    );\n  }\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { HeaderMenuView } from \".\";\nimport { LOGOUT_OAUTH } from \"../../common/middleware/service\";\n\ninterface State {\n  isMenuOpen: boolean;\n  isToastMessageOpen: boolean;\n}\n\nexport default class HeaderMenu extends ApplicationComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      isMenuOpen: false,\n      isToastMessageOpen: false\n    };\n  }\n\n  render() {\n    return (\n      <HeaderMenuView\n        isMenuOpen={this.state.isMenuOpen}\n        onClickMenu={this.onClickMenu}\n        onClickLogout={this.onClickLogout}\n        onCloseMenu={this.onCloseMenu}\n        userProfile={this.appState.user.userProfile}\n      />\n    );\n  }\n\n  onClickMenu = () => {\n    this.setState({\n      isMenuOpen: true\n    });\n  };\n\n  onClickLogout = () => {\n    console.log(\"onClickLogout\");\n    this.appContext.serviceExecutor.execute(LOGOUT_OAUTH()).then(() => {\n      this.appState.user.removeUserProfile();\n    });\n  };\n\n  onCloseMenu = () => {\n    this.setState({\n      isMenuOpen: false\n    });\n  };\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { LoginView } from \".\";\n\ninterface State {\n  password: string;\n  username: string;\n}\n\nexport default class Login extends ApplicationComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      password: \"\",\n      username: \"\"\n    };\n  }\n\n  render() {\n    return (\n      <LoginView\n        onChangePassword={this.onChangePassword}\n        onChangeUsername={this.onChangeUsername}\n        onClickSubmit={this.onClickSubmit}\n        password={this.state.password}\n        username={this.state.username}\n      />\n    );\n  }\n\n  protected onChangePassword = (password: string) => {\n    console.debug(\"onChangePassword\");\n  };\n\n  protected onChangeUsername = (username: string) => {\n    console.debug(\"onChangeUsername\");\n  };\n\n  protected onClickSubmit = () => {\n    console.debug(\"onClickSubmit\");\n  };\n}\n","import React, { ReactNode } from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport {\n  View,\n  LocalDealTextField,\n  styleSchema,\n  PrimaryButton,\n  BackgroundTheme,\n  H4\n} from \"../../common\";\nimport { Feature } from \"../../common/feature/feature\";\n\ninterface Props {\n  onClickSubmit: () => void;\n  onChangePassword: (password: string) => void;\n  onChangeUsername: (username: string) => void;\n  password: string;\n  username: string;\n}\n\nexport default class LoginView extends ApplicationComponent<Props> {\n  render() {\n    const loginFeatures: ReactNode[] = [];\n    if (this.appContext.features.includes(Feature.LOGIN_LOCALDEAL)) {\n      loginFeatures.push(<this.Container />);\n    }\n    return loginFeatures;\n  }\n\n  protected Container = () => {\n    return (\n      <>\n        <BackgroundTheme>\n          <this.Header />\n          <this.UsernameTextField />\n          <this.PasswordTextField />\n          <this.SubmitButton />\n        </BackgroundTheme>\n      </>\n    );\n  };\n\n  protected Header = () => {\n    return (\n      <View style={styles.headerContainer}>\n        <H4>{this.appContext.labels.login.formName}</H4>\n      </View>\n    );\n  };\n\n  protected PasswordTextField = () => {\n    return (\n      <LocalDealTextField\n        onChange={this.props.onChangePassword}\n        text={this.appContext.labels.login.password}\n      />\n    );\n  };\n\n  protected SubmitButton = () => {\n    // this need to be fix if use!!!\n    return <PrimaryButton disabled />;\n  };\n\n  protected UsernameTextField = () => {\n    return (\n      <LocalDealTextField\n        onChange={this.props.onChangeUsername}\n        text={this.appContext.labels.login.username}\n      />\n    );\n  };\n}\n\nconst styles = {\n  headerContainer: {\n    width: \"inherit\"\n  },\n  submitButton: {\n    marginTop: 15\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    backgroundColor: styleSchema.color.primaryColorTransparent,\n    borderRadius: 5,\n    padding: 10,\n    marginTop: 20,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { OAuthView } from \".\";\nimport { LOGOUT_OAUTH } from \"../../common/middleware/service\";\n\nexport default class OAuth extends ApplicationComponent<{}> {\n  render() {\n    return (\n      <OAuthView\n        onClickLogout={this.onClickLogout}\n        userProfile={this.appState.user.userProfile}\n      />\n    );\n  }\n\n  protected onClickLogout = () => {\n    console.log(\"onClickLogout\");\n    this.appContext.serviceExecutor.execute(LOGOUT_OAUTH()).then(() => {\n      this.appState.user.removeUserProfile();\n    });\n  };\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { Button, Link } from \"@material-ui/core\";\nimport { OAuthProvider } from \"../../common/feature/oAuthProvider\";\nimport { BackgroundTheme, View, H4, Image, TextButton, H1 } from \"../../common\";\nimport { UserProfile } from \"../../modal/userProfile\";\nimport Modal from \"../../common/modal\";\nimport { Feature } from \"../../common/feature/feature\";\n\ninterface Props {\n  onClickLogout: () => void;\n  userProfile: UserProfile;\n}\n\nexport default class OAuthView extends ApplicationComponent<Props> {\n  render() {\n    return <this.Container />;\n  }\n\n  protected getGoogleOAuthRequestURL(): string {\n    const requestUrl = `https://accounts.google.com/o/oauth2/v2/auth?scope=profile&access_type=offline&include_granted_scopes=true&response_type=code&state=GOOGLE&redirect_uri=${this.appContext.oAuthRedirectUrl}&client_id=965687889406-d0pqe0hr6i3c4uo18rr5j0spqq73phth.apps.googleusercontent.com`;\n    console.log(requestUrl);\n    return requestUrl;\n  }\n\n  protected Container = () => {\n    const child =\n      this.props.userProfile.oAuthProvider !== OAuthProvider.NONE ? (\n        <this.UserProfileSection />\n      ) : (\n        <this.OAuthLoginOptions />\n      );\n    return <BackgroundTheme theme=\"primary\">{child}</BackgroundTheme>;\n  };\n\n  protected GoogleOAuthLoginIcon = () => {\n    if (this.appContext.features.includes(Feature.LOGIN_GOOGLE_OAUTH)) {\n      return (\n        <Button>\n          <Link href={this.getGoogleOAuthRequestURL()}>Google</Link>\n        </Button>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  protected LogoutButton = () => {\n    return (\n      <TextButton onClick={this.props.onClickLogout} underline>\n        {this.appContext.labels.oAuth.logout}\n      </TextButton>\n    );\n  };\n\n  protected OAuthLoginOptions = () => {\n    return <this.GoogleOAuthLoginIcon />;\n  };\n\n  protected UserProfileSection = () => {\n    if (\n      this.appContext.features.includes(Feature.USER_PROFILE_IN_HEADER_MENU)\n    ) {\n      const userProfile: UserProfile = this.props.userProfile;\n      return (\n        <View isFlexDirectionRow style={styles.rootContainer}>\n          <Image src={userProfile.imageUrl} />\n          <View style={styles.userTextInfoContainer}>\n            <H4>{this.getProviderLabel(userProfile.oAuthProvider)}</H4>\n            <H4>{userProfile.name}</H4>\n          </View>\n        </View>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  protected getProviderLabel(oAuthProvider: OAuthProvider): string {\n    const label = this.appContext.labels.oAuth;\n    switch (oAuthProvider) {\n      case OAuthProvider.GOOGLE:\n        return label.google;\n      case OAuthProvider.WECHAT:\n        return label.weChat;\n      default:\n        return label.undefined;\n    }\n  }\n}\n\nconst styles = {\n  logoutButtonContainer: {\n    height: \"inherit\",\n    alignItems: \"right\",\n    justifyContent: \"right\"\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n    padding: 10,\n    width: \"inherit\"\n  },\n  userTextInfoContainer: {\n    marginLeft: 15,\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport {\n  Image,\n  View,\n  styleSchema,\n  TextButton,\n  H4,\n  H5,\n  DrawerMenu,\n  P,\n  Toast\n} from \"../../common\";\nimport { Menu as MenuIcon } from \"@material-ui/icons\";\nimport Link from \"@material-ui/core/Link\";\nimport { Login } from \"../login\";\nimport { Feature } from \"../../common/feature/feature\";\nimport { OAuth } from \"../oAuth\";\nimport { UserProfile } from \"../../modal/userProfile\";\nimport { OAuthProvider } from \"../../common/feature/oAuthProvider\";\n\nexport interface Props {\n  isMenuOpen: boolean;\n  onClickMenu: () => void;\n  onClickLogout: () => void;\n  onCloseMenu: () => void;\n  userProfile: UserProfile;\n}\n\nexport default class HeaderMenuView extends ApplicationComponent<Props> {\n  render() {\n    if (this.appContext.features.includes(Feature.HEADER_MENU)) {\n      return (\n        <View borderLeft={1} style={styles.menuIconContainer}>\n          <MenuIcon style={styles.menuIcon} onClick={this.props.onClickMenu} />\n          <DrawerMenu\n            anchor={\"right\"}\n            onClose={this.props.onCloseMenu}\n            open={this.props.isMenuOpen}\n          >\n            <this.MenuContainer />\n          </DrawerMenu>\n        </View>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  CloseButton = () => {\n    return (\n      <TextButton onClick={this.props.onCloseMenu}>\n        {this.appContext.labels.headerMenu.closeButton}\n      </TextButton>\n    );\n  };\n\n  ContactInfomation = () => {\n    const label = this.appContext.labels.headerMenu;\n    if (this.appContext.features.includes(Feature.CONTACT_SHOW_EMAIL)) {\n      return (\n        <Link href={`mailto:${label.emailAddress}`} underline={\"none\"}>\n          <P>{label.contactUs}</P>\n        </Link>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  DevelopingFeatures = () => {\n    const featues: any = this.appContext.labels.headerMenu.currentDevelopingFeatuers.map(\n      (feature: string, index: number) => {\n        return <H5>{`${index + 1}) ${feature}`}</H5>;\n      }\n    );\n    const label = this.appContext.labels.headerMenu;\n    return (\n      <View style={styles.developingFeatureContainer}>\n        <H5>{label.moreFeatureIsComingDescription}</H5>\n        <H5>{label.developingFeature}</H5>\n        {featues}\n      </View>\n    );\n  };\n\n  LowerPortion = () => {\n    return (\n      <View style={styles.lowerPortionContainer}>\n        <this.ContactInfomation />\n        <this.CloseButton />\n      </View>\n    );\n  };\n\n  MenuContainer = () => {\n    return (\n      <View style={styles.menuContainer}>\n        <this.UpperPortion />\n        <this.LowerPortion />\n      </View>\n    );\n  };\n\n  UpperPortion = () => {\n    const label = this.appContext.labels.headerMenu;\n    return (\n      <View style={styles.upperPortionContainer}>\n        <this.UserProfileHeaderSection />\n        <this.DevelopingFeatures />\n        <H5>{label.bugReportDescription}</H5>\n        <Login />\n        <View style={styles.oAuthContainer}>\n          <OAuth />\n        </View>\n      </View>\n    );\n  };\n\n  UserProfileHeaderSection = () => {\n    const userProfile = this.props.userProfile;\n    if (userProfile.oAuthProvider !== OAuthProvider.NONE) {\n      return (\n        <View\n          boxShadow={1}\n          isFlexDirectionRow\n          style={styles.userProfileHeaderSectionContainer}\n        >\n          <Image size=\"miniCircularImage\" src={userProfile.imageUrl} />\n          <H4>{userProfile.name}</H4>\n          <TextButton onClick={this.props.onClickLogout} underline>\n            {this.appContext.labels.headerMenu.logout}\n          </TextButton>\n        </View>\n      );\n    }\n    return null;\n  };\n}\nconst styles = {\n  developingFeatureContainer: {\n    padding: 15\n  },\n  lowerPortionContainer: {\n    alignItems: \"center\",\n    paddingTop: 20,\n    paddingBottom: 20\n  },\n  menuIconContainer: {\n    borderColor: styleSchema.color.greyTransparent,\n    marginLeft: 18\n  },\n  menuIcon: {\n    color: styleSchema.color.greyDark,\n    ...styleSchema.icon\n  },\n  menuContainer: {\n    alignItems: \"center\",\n    height: \"inherit\",\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  oAuthContainer: {\n    marginTop: 20,\n    width: \"inherit\"\n  },\n  upperPortionContainer: {\n    alignItems: \"center\",\n    paddingTop: 20,\n    width: \"inherit\"\n  },\n  userProfileHeaderSectionContainer: {\n    alignItems: \"center\",\n    // backgroundColor: styleSchema.color.greyTransparent,\n    borderRadius: 5,\n    justifyContent: \"space-between\",\n    padding: 5,\n    width: \"inherit\"\n  }\n};\n","import React, { ReactNode, ReactElement } from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport \"../../App.css\";\n\nimport { Address } from \"../../modal/deal\";\nimport { styleSchema, View, DrawerMenu, Image } from \"../../common\";\nimport {\n  CreateDealLandingPage,\n  CreateDealLandingPageV2\n} from \"../createDealLandingPage\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { AddressPrediction } from \"../addressPrediction\";\nimport logo from \"../../resouces/logo_icon_character-min.png\";\nimport { Add as AddIcon, Room as LocationIcon } from \"@material-ui/icons\";\nimport ToolTips from \"../../common/ToolTips\";\nimport { HeaderMenu } from \"../menu\";\nimport { UserProfile } from \"../../modal/userProfile\";\nimport { OAuthProvider } from \"../../common/feature/oAuthProvider\";\nimport { Feature } from \"../../common/feature/feature\";\nimport { Avatar } from \"@material-ui/core\";\n\nexport interface Props {\n  isCreateDealDrawerOpen: boolean;\n  isHamburgerMenuDrawerOpen: boolean;\n  onClickCreateDeal: () => void;\n  onClickHamburgerMenu: () => void;\n  onCloseCreateDeal: () => void;\n  onCloseHamburgerMenu: () => void;\n  onClickLocationButton: () => void;\n  selectedAddress?: Address;\n  userProfile: UserProfile;\n}\n\nexport default class HeaderView extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <View\n        boxShadow={1}\n        isFlexDirectionRow={true}\n        style={styles.rootContainer}\n      >\n        <AddressPrediction />\n        <this.CreateDealDrawer />\n        <this.HeaderTextAndLogo />\n        <this.TopBarSection />\n      </View>\n      // <div className=\"App-header\">\n      // </div>\n    );\n  }\n\n  CreateDealDrawer = () => {\n    const createDealSection = !this.appContext.features.includes(\n      Feature.DEAL_LEGACY\n    ) ? (\n      <CreateDealLandingPageV2 onClose={this.props.onCloseCreateDeal} />\n    ) : (\n      <CreateDealLandingPage onClickClose={this.props.onCloseCreateDeal} />\n    );\n\n    return (\n      <DrawerMenu\n        anchor={\"top\"}\n        onClose={this.props.onCloseCreateDeal}\n        open={this.props.isCreateDealDrawerOpen}\n      >\n        {createDealSection}\n      </DrawerMenu>\n    );\n  };\n\n  CreateNewDealButton = () => {\n    return (\n      <AddIcon\n        onClick={this.props.onClickCreateDeal}\n        style={styles.createNewDealIcon}\n      />\n    );\n    // return (\n    //   <Button\n    //     style={styles.createNewButton}\n    //     onClick={this.props.onClickCreateDeal}\n    //     variant=\"text\"\n    //   >\n    //     <H4>{this.appContext.labels.landingPage.createDealButton}</H4>\n    //   </Button>\n    // );\n  };\n\n  // HamburgerMenu = () => {\n  //   if (this.appContext.showHamburgerMenu) {\n  //     return (\n  //       <View borderLeft={1} style={styles.hamburgerMenuIconContainer}>\n  //         <HamburgerMenuIcon\n  //           style={styles.hamburgerMenuIcon}\n  //           onClick={this.props.onClickHamburgerMenu}\n  //         />\n  //       </View>\n  //     );\n  //   } else {\n  //     return null;\n  //   }\n  // };\n\n  // HamburgerMenuDrawer = () => {\n  //   return (\n  //     <Drawer\n  //       anchor={\"right\"}\n  //       onClose={this.props.onCloseHamburgerMenu}\n  //       open={this.props.isHamburgerMenuDrawerOpen}\n  //     >\n  //       <View></View>\n  //     </Drawer>\n  //   );\n  // };\n\n  HeaderTextAndLogo = () => {\n    return (\n      <View>\n        <img alt={\"app-logo\"} src={logo} style={{ width: 100 }} />\n      </View>\n    );\n  };\n\n  LocationButton = () => {\n    const label = this.appContext.labels.header;\n    let areaLabel;\n    if (this.props.selectedAddress && this.props.selectedAddress.area) {\n      areaLabel = this.props.selectedAddress.area;\n    } else {\n      areaLabel = label.loading;\n    }\n    return (\n      <ToolTips title={`${label.currentLocation} ${areaLabel}`}>\n        <LocationIcon style={styles.locationIcon} />\n      </ToolTips>\n    );\n  };\n\n  TopBarSection = () => {\n    return (\n      <View isFlexDirectionRow={true} style={styles.buttonContainer}>\n        <this.CreateNewDealButton />\n        <this.LocationButton />\n        <HeaderMenu />\n        <this.UserProfileImage />\n      </View>\n    );\n  };\n\n  UserProfileImage = () => {\n    if (\n      this.appContext.features.includes(Feature.USER_PROFILE_IN_HEADER) &&\n      this.props.userProfile.oAuthProvider !== OAuthProvider.NONE\n    ) {\n      return (\n        <View style={styles.userProfileImageContainer}>\n          {/* <Image\n            size=\"miniCircularImage\"\n            src={this.props.userProfile.imageUrl}\n          /> */}\n          <Avatar src={this.props.userProfile.imageUrl} />\n        </View>\n      );\n    }\n    return null;\n  };\n}\n\nconst styles = {\n  buttonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  circularProgress: {\n    marginLeft: 5\n  },\n  createNewDealIcon: {\n    color: styleSchema.color.primaryColor,\n    ...styleSchema.icon\n  },\n  createNewButton: {\n    borderColor: styleSchema.color.secondaryColor,\n    borderRadius: styleSchema.button.borderRadius,\n    borderWidth: 3\n  },\n  locationButtonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  locationIcon: {\n    color: styleSchema.color.greenMedium,\n    ...styleSchema.icon\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    backgroundColor: styleSchema.color.white,\n    borderColor: styleSchema.color.greyDark,\n    justifyContent: \"space-between\",\n    padding: 15\n  },\n  searchMethodLabel: {\n    backgroundColor: styleSchema.remind.primaryColor,\n    borderColor: styleSchema.remind.primaryColor,\n    borderRadius: styleSchema.button.borderRadius,\n    marginRight: 10,\n    borderWidth: 3,\n    paddingBottom: 5,\n    paddingTop: 5\n  },\n  userProfileImageContainer: {\n    marginLeft: 15\n  }\n};\n","import React from \"react\";\nimport {\n  LocalDealCard,\n  CardBottomVote,\n  View,\n  H1,\n  H5,\n  AddressDisplay\n} from \"../../../common\";\nimport Deal, { Address } from \"../../../modal/deal\";\nimport ApplicationComponent from \"../../../common/applicationComponent\";\n\ninterface Props {\n  deals: Deal[];\n  onClickCard: () => void;\n}\n\nexport default class LegacyDealSectionView<\n  ChildProps extends Props\n> extends ApplicationComponent<Props> {\n  render() {\n    return <this.LegacyDealsSection />;\n  }\n\n  LegacyDealsSection = () => {\n    const dealsContent = this.props.deals ? this.props.deals : [];\n    const dealsCard = dealsContent.map(deal => {\n      const cardBottomVote = <CardBottomVote deal={deal} />;\n      // const content: React.ReactNode = this.generateLegacyCardContent(deal);\n      return (\n        <LocalDealCard\n          bottomToolBarContent={cardBottomVote}\n          onClick={() => this.props.onClickCard()}\n          title={deal.title}\n        >\n          <this.CardHeader\n            address={deal.address}\n            timestamp={deal.timestamp}\n            title={deal.title}\n          />\n          <this.RichTextDescription description={deal.description} />\n        </LocalDealCard>\n      );\n    });\n    return <>{dealsCard}</>;\n  };\n\n  protected CardHeader = ({\n    address,\n    timestamp,\n    title\n  }: {\n    address: Address;\n    timestamp: number;\n    title: string;\n  }) => {\n    return (\n      <>\n        <View isFlexDirectionRow={true} style={styles.cardContainer}>\n          <H1>{title}</H1>\n          <H5>\n            {timestamp\n              ? this.appContext.transformer.timeDifferentCalcualtor(timestamp)\n              : this.appContext.labels.date.unknown}\n          </H5>\n        </View>\n\n        <AddressDisplay address={address} />\n      </>\n    );\n  };\n\n  protected RichTextDescription = ({\n    description\n  }: {\n    description: string;\n  }) => {\n    return (\n      <View style={{ ...styles.detailSectionContainer, textAlign: \"justify\" }}>\n        <div\n          style={{ width: \"inherit\" }}\n          dangerouslySetInnerHTML={{ __html: description }}\n        />\n      </View>\n    );\n  };\n}\n\nconst styles = {\n  cardContainer: {\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  detailSectionContainer: {\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport Deal, { Address } from \"../../../../modal/deal\";\nimport {\n  Slider,\n  CardBottomVote,\n  CollapseCard,\n  View,\n  styleSchema,\n  H1,\n  H5,\n  AddressDisplay\n} from \"../../../../common\";\nimport ApplicationComponent from \"../../../../common/applicationComponent\";\n\ninterface Props {\n  deal: Deal;\n}\n\ninterface State {\n  coverImageHeight: number;\n  expanded: boolean;\n}\n\nexport default class DealCardV2 extends ApplicationComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      coverImageHeight: 150\n    };\n  }\n\n  render() {\n    return <>{this.DealCard()}</>;\n  }\n\n  protected DealCard() {\n    const deal = this.props.deal;\n    const bottomToolBarContent = <CardBottomVote deal={this.props.deal} />;\n    return (\n      <View\n        borderBottom={1}\n        style={styles.rootContainer}\n        onClick={this.onExpand}\n      >\n        <this.CardHeader\n          address={deal.address}\n          timestamp={deal.timestamp}\n          title={deal.title}\n        />\n        <this.ImageSection />\n        <CollapseCard\n          bottomToolBarContent={bottomToolBarContent}\n          expanded={this.state.expanded}\n          onClickExpandSign={this.onExpand}\n        >\n          {deal.description}\n        </CollapseCard>\n      </View>\n    );\n  }\n\n  protected CardHeader = ({\n    address,\n    timestamp,\n    title\n  }: {\n    address: Address;\n    timestamp: number;\n    title: string;\n  }) => {\n    return (\n      <>\n        <View isFlexDirectionRow={true} style={styles.cardContainer}>\n          <H1>{title}</H1>\n          <H5>\n            {timestamp\n              ? this.appContext.transformer.timeDifferentCalcualtor(timestamp)\n              : this.appContext.labels.date.unknown}\n          </H5>\n        </View>\n\n        <AddressDisplay address={address} />\n      </>\n    );\n  };\n\n  protected ImageSection = () => {\n    const deal = this.props.deal;\n    if (this.state.expanded) {\n      return (\n        <View style={styles.sliderContainer}>\n          <Slider\n            dealIndex={deal.id ?? 0}\n            fileUrls={deal.filesUrl ?? []}\n            height={this.state.coverImageHeight}\n          />\n        </View>\n      );\n    } else {\n      return deal.filesUrl?.length ? (\n        <img\n          alt={\"cover\"}\n          id={\"crazy\"}\n          onLoad={this.onLoadImage}\n          src={deal.filesUrl[0]}\n        />\n      ) : null;\n    }\n  };\n\n  protected onExpand = () => {\n    this.setState({\n      expanded: !this.state.expanded\n    });\n  };\n\n  protected onLoadImage = () => {\n    const height = document.getElementById(\"crazy\")?.clientHeight;\n    if (height) {\n      console.log(height);\n      this.setState({\n        coverImageHeight: height\n      });\n    }\n  };\n}\n\nconst styles = {\n  cardContainer: {\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  rootContainer: {\n    backgroundColor: styleSchema.color.white,\n    borderColor: styleSchema.color.greyTransparent,\n    padding: 15,\n    width: \"inherit\"\n  },\n  sliderContainer: {\n    marginTop: 10,\n    width: \"inherit\"\n  }\n};\n","import React, { Component } from \"react\";\nimport Deal from \"../../../../modal/deal\";\nimport DealCardV2 from \"./dealCardV2\";\n\ninterface Props {\n  deals: Deal[];\n}\n\nexport default class DealSectionView extends Component<Props> {\n  render() {\n    const generatedDeals = this.props.deals.map((deal: Deal) => (\n      <DealCardV2 deal={deal}></DealCardV2>\n    ));\n    return <>{generatedDeals}</>;\n  }\n}\n","import React from \"react\";\nimport Deal, { Address } from \"../../modal/deal\";\nimport { H5, LocalDealTextField, styleSchema, View } from \"../../common\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { Feature } from \"../../common/feature/feature\";\nimport { DealSectionView, DealSectionV2View } from \"./dealSection\";\n\nexport interface Props {\n  deals: Deal[];\n  executeGetDeals: () => void;\n  isLoadingDeals: boolean;\n  onBlurTextField: () => void;\n  onClickCard: () => void;\n  onClickDealSection: () => void;\n  onClickSearch: () => void;\n  onChangeSearchTextField: (text: string) => void;\n  onFocusTextField: () => void;\n  selectedAddress?: Address;\n  showSearchButton: boolean;\n  textFieldValue: string;\n}\n\nexport default class LandingPageView extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <View style={styles.rootContainer}>\n        <this.BodySection />\n      </View>\n    );\n  }\n\n  BodySection = () => {\n    const displayBody = () => {\n      if (this.props.deals.length) {\n        return !this.appContext.features.includes(Feature.DEAL_LEGACY) ? (\n          <DealSectionV2View deals={this.props.deals} />\n        ) : (\n          <DealSectionView {...this.props} />\n        );\n      } else if (this.props.isLoadingDeals) {\n        return <this.LoadingDeals />;\n      } else {\n        return <this.NoDealInArea />;\n      }\n    };\n    return (\n      <View\n        boxShadow={this.props.deals.length ? 1 : 0}\n        style={styles.dealSectionContainer}\n      >\n        {displayBody}\n      </View>\n    );\n  };\n\n  LoadingDeals = () => {\n    return (\n      <View style={styles.noDealInAreaContainer}>\n        <H5>{this.appContext.labels.landingPage.loadingDeals}</H5>\n      </View>\n    );\n  };\n\n  NoDealInArea = () => {\n    return (\n      <View style={styles.noDealInAreaContainer}>\n        <H5>{this.appContext.labels.landingPage.noDeal}</H5>\n      </View>\n    );\n  };\n\n  TextFieldArea = () => {\n    return (\n      <LocalDealTextField\n        defaultValue={this.props.textFieldValue}\n        onBlur={() => this.props.onBlurTextField()}\n        onChange={text => this.props.onChangeSearchTextField(text)}\n        onFocus={() => this.props.onFocusTextField()}\n        text={this.appContext.labels.landingPage.area}\n      />\n    );\n  };\n}\n\nconst styles = {\n  circularProgress: {\n    marginLeft: 5\n  },\n  createNewButton: {\n    borderColor: styleSchema.color.secondaryColor,\n    borderRadius: styleSchema.button.borderRadius,\n    borderWidth: 3\n  },\n  dealSectionContainer: {\n    alignItems: \"center\",\n    width: \"100%\"\n  },\n\n  locationButtonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  noDealInAreaContainer: {},\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 15,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  searchButton: {\n    borderColor: styleSchema.remind.secondaryColor,\n    borderRadius: styleSchema.button.borderRadius,\n    backgroundColor: styleSchema.remind.secondaryColor,\n    borderWidth: 3\n  },\n  searchMethodLabel: {\n    coordinate: {\n      borderColor: styleSchema.remind.primaryColor,\n      borderRadius: styleSchema.button.borderRadius,\n      backgroundColor: styleSchema.remind.primaryColor,\n      borderWidth: 3,\n      paddingBottom: 5,\n      paddingTop: 5\n    },\n    manual: {\n      borderColor: styleSchema.remind.secondaryColor,\n      borderRadius: styleSchema.button.borderRadius,\n      backgroundColor: styleSchema.remind.secondaryColor,\n      borderWidth: 3,\n      paddingBottom: 5,\n      paddingTop: 5\n    }\n  },\n  slideImageContainer: {\n    alightItems: \"center\",\n    backgroundColor: \"blue\",\n    justifyContent: \"center\"\n  },\n  topBarContainer: {\n    justifyContent: \"space-between\",\n    paddingTop: 15,\n    width: \"100%\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport Deal, { Coordinate, Address, GetDealResponse } from \"../../modal/deal\";\nimport { LandingPageView } from \".\";\nimport {\n  GET_CURRENT_ADDRESS,\n  GET_DEALS\n} from \"../../common/middleware/service\";\nimport \"../../App.css\";\n\nexport interface State {\n  isCreateDealDrawerOpen: boolean;\n  isLoading: boolean;\n  showSearchButton: boolean;\n  textFieldValue: string;\n  useAutoLocation: boolean;\n}\n\nexport default class LandingPage extends ApplicationComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      isCreateDealDrawerOpen: false,\n      isLoading: true,\n      showSearchButton: false,\n      textFieldValue: \"\",\n      useAutoLocation: true\n    };\n  }\n\n  async componentDidMount() {\n    await this.setCurrentPosition();\n    await this.setCurrentAddress();\n    await this.executeGetDeals();\n  }\n\n  protected async setCurrentPosition() {\n    if (this.appContext.isMock) {\n      return Promise.resolve();\n    }\n    return new Promise((resolve, reject) => {\n      this.appContext.transformer.getCurrentLocation(\n        (coordinate: Coordinate) => {\n          console.debug(\"Current Coordinate: \", coordinate);\n          // this.props.setGeolocation(coordinate);\n          this.appState.position.setGeolocation(coordinate);\n          return resolve();\n        }\n      );\n    });\n  }\n\n  protected async setCurrentAddress() {\n    return new Promise((resolve, reject) => {\n      this.appContext.serviceExecutor\n        .execute(\n          GET_CURRENT_ADDRESS({\n            coordinate: this.appState.position.coordinate\n          })\n        )\n        .then((addresses: Address[]) => {\n          this.appState.address.setPredicteAddresses(addresses);\n          this.appState.position.setLoadingPosition(false);\n          return resolve();\n        });\n    });\n  }\n\n  protected onBlurTextField = () => {\n    // need to complete\n    console.log(\"onBlurTextField\");\n  };\n\n  protected onClickedCard = () => {\n    // need to complete\n    console.log(\"Card Clicked\");\n  };\n\n  protected onClickedDealSection = () => {\n    // need to complete\n    console.log(\"onClickedDealSection\");\n    this.setState({\n      showSearchButton: false\n    });\n  };\n\n  protected onClickSearch = () => {\n    // need to complete\n    console.log(\"onClickSearch\");\n    // this.setState({\n    //   showSearchButton: false\n    //   Disable this for now, user need internet to access the service anyway\n    //   useAutoLocation: false\n    // });\n    // this.getDeals();\n  };\n\n  protected onClickDownVote = () => {\n    console.log(\"onClickDownVote\");\n  };\n\n  protected onClickUpVote = () => {\n    console.log(\"onClickUpVote\");\n  };\n\n  protected onChangeSearchTextField = (textFieldValue: string) => {\n    // TODO need to think about if we need to allow user to search by area. because user will have coordinate by their location.\n    // search can be only for item!!!!!!!\n    // need to complete\n    console.log(\"onChangeSearchTextField\");\n    this.setState({\n      // currentSearchArea: { areaName: textFieldValue }\n    });\n  };\n\n  protected onFocusTextField = () => {\n    // need to complete\n    console.log(\"onFocusTextField\");\n    this.setState({\n      showSearchButton: true\n    });\n  };\n\n  protected executeGetDeals = () => {\n    if (this.appState.address.selectedAddress?.area) {\n      this.appContext.serviceExecutor\n        .execute(GET_DEALS(this.appState.address.selectedAddress))\n        .then((getDealResponse: GetDealResponse) => {\n          this.setState({\n            isLoading: false\n          });\n          this.appState.deal.setDeals(getDealResponse.deals);\n        });\n    }\n  };\n\n  protected sortDeals(inputDeals: Deal[]): Deal[] {\n    return inputDeals.sort((deal1, deal2) => {\n      return deal2.timestamp - deal1.timestamp;\n    });\n  }\n\n  render() {\n    let {\n      isCreateDealDrawerOpen,\n      showSearchButton,\n      textFieldValue,\n      useAutoLocation\n    } = this.state;\n    // sort deal\n    const sortedDeal: Deal[] = this.sortDeals(\n      this.appState.deal.deals ? this.appState.deal.deals : []\n    );\n    return (\n      <LandingPageView\n        deals={sortedDeal}\n        executeGetDeals={this.executeGetDeals}\n        isLoadingDeals={this.state.isLoading}\n        onBlurTextField={this.onBlurTextField}\n        onClickCard={this.onClickedCard}\n        onClickDealSection={this.onClickedDealSection}\n        onClickSearch={this.onClickSearch}\n        onChangeSearchTextField={this.onChangeSearchTextField}\n        onFocusTextField={this.onFocusTextField}\n        selectedAddress={this.appState.address.selectedAddress}\n        showSearchButton={showSearchButton}\n        textFieldValue={textFieldValue}\n      />\n    );\n  }\n}\n","import ApplicationComponent from \"../../common/applicationComponent\";\nimport { OAuthProvider } from \"../../common/feature/oAuthProvider\";\nimport {\n  LOGIN_OAUTH_GOOGLE,\n  GET_USER_PROFILE\n} from \"../../common/middleware/service\";\n\nexport default class Init extends ApplicationComponent {\n  render() {\n    return null;\n  }\n\n  componentDidMount() {\n    this.checkOAuthFromUrl();\n    this.getUserProfile();\n  }\n\n  protected checkOAuthFromUrl() {\n    const { authorizationCode, oAuthProvider } = this.checkOAuth();\n    if (oAuthProvider === OAuthProvider.GOOGLE) {\n      this.appContext.serviceExecutor\n        .execute(\n          LOGIN_OAUTH_GOOGLE(\n            authorizationCode,\n            this.appContext.oAuthRedirectUrl\n          )\n        )\n        .then(() => {\n          this.onOAuthLoginComplete();\n          this.getUserProfile();\n        });\n    }\n  }\n\n  protected getUserProfile() {\n    this.appContext.serviceExecutor\n      .execute(GET_USER_PROFILE())\n      .then(result => this.appState.user.setUserProfile(result));\n  }\n}\n","import React, { Component } from \"react\";\nimport AppState from \"./appState\";\nimport Deal, { Address, Coordinate } from \"../../modal/deal\";\nimport CurrentArea from \"../../modal/currentArea\";\nimport { UserProfile } from \"../../modal/userProfile\";\nimport { OAuthProvider } from \"../feature/oAuthProvider\";\n\nexport interface State {\n  address: {\n    addressesPrediction: Address[];\n    selectedAddress: Address;\n  };\n  deal: {\n    dealDraft?: Deal;\n    deals: Deal[];\n  };\n  position: {\n    loadingPosition: boolean;\n    coordinate?: Coordinate;\n  };\n  user: {\n    userProfile?: UserProfile;\n  };\n}\n\nexport default class GlobalStateComponent extends Component<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      address: {\n        addressesPrediction: [],\n        selectedAddress: {\n          area: \"\",\n          street1: \"\",\n          street2: \"\",\n          city: \"\",\n          state: \"\",\n          country: \"\",\n          zipCode: \"\"\n        }\n      },\n      deal: {\n        deals: []\n      },\n      position: {\n        loadingPosition: true,\n        coordinate: {\n          latitude: 0,\n          longitude: 0\n        }\n      },\n      user: {\n        userProfile: {\n          id: 0,\n          name: \"\",\n          imageUrl: \"\",\n          oAuthProvider: OAuthProvider.NONE\n        }\n      }\n    };\n  }\n\n  render() {\n    const { address, deal, position, user } = this.state;\n    return (\n      <AppState.Provider\n        value={{\n          address: {\n            ...address,\n            setSelectedAddress: this.setSelectedAddress,\n            setPredicteAddresses: this.setPredicteAddresses\n          },\n          deal: { ...deal, setDeals: this.setDeals },\n          position: {\n            ...position,\n            setGeolocation: this.setGeolocation,\n            setLoadingPosition: this.setLoadingPosition\n          },\n          user: {\n            ...user,\n            removeUserProfile: this.removeUserProfile,\n            setUserProfile: this.setUserProfile\n          }\n        }}\n      >\n        {this.props.children}\n      </AppState.Provider>\n    );\n  }\n\n  protected removeUserProfile = () => {\n    const userProfile: UserProfile = {\n      id: 0,\n      imageUrl: \"\",\n      name: \"\",\n      oAuthProvider: OAuthProvider.NONE\n    };\n    this.setState({\n      user: {\n        ...this.state.user,\n        userProfile\n      }\n    });\n  };\n\n  protected setDeals = (deals: Deal[]) => {\n    this.setState({\n      deal: { ...this.state.deal, deals }\n    });\n  };\n\n  protected setGeolocation = (coordinate: Coordinate) => {\n    this.setState({\n      position: { ...this.state.position, coordinate }\n    });\n  };\n\n  protected setLoadingPosition = (loadingPosition: boolean) => {\n    this.setState({\n      position: { ...this.state.position, loadingPosition }\n    });\n  };\n\n  protected setPredicteAddresses = (addressesPrediction: Address[]) => {\n    this.setState({\n      address: { ...this.state.address, addressesPrediction }\n    });\n  };\n\n  protected setSelectedAddress = (selectedAddress: Address) => {\n    this.setState({\n      address: { ...this.state.address, selectedAddress }\n    });\n  };\n\n  protected setUserProfile = (userProfile: UserProfile) => {\n    this.setState({\n      user: { ...this.state.user, userProfile }\n    });\n  };\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Header } from \"./component/header\";\nimport { LandingPage } from \"./component/landingPage\";\nimport { Init } from \"./component/init\";\nimport GlobalStateComponent from \"./common/context/globalStateComponent\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <GlobalStateComponent>\n        <Init />\n        <div className=\"App-header\">\n          <Header />\n        </div>\n        <div className=\"Content\">\n          <LandingPage />\n        </div>\n      </GlobalStateComponent>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}