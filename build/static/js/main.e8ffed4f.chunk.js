(this.webpackJsonplocal_deal=this.webpackJsonplocal_deal||[]).push([[0],{115:function(e){e.exports=JSON.parse('{"addressDisplay":{"nearBy":"\u9644\u8fd1"},"banner":{},"createDealPage":{"cancel":"\u53d6\u6d88","close":"\u95dc\u9589","create":"\u5275\u5efa","descriptionMissing":"* \u6ca1\u6709\u8a73\u7d30\u554a...","descriptionPlaceHolder":"\u8acb\u52a0\u5165\u5167\u5bb9...","header":"\u5275\u5efa\u597d\u53bb\u8655","textFieldTitle":"\u6a19\u984c","titleMissing":"* \u6ca1\u6709\u6a19\u984c\u554a..."},"createDealPageV2":{"descriptionPlaceHolder":"\u8b1b\u4e00\u4e0b\u7279\u5225\u7684\u5730\u65b9","error":"\u4f3a\u670d\u5668\u51fa\u932f\u5566!!!\u7a0b\u5e8f\u733f\u5df2\u7d93\u5728\u8def\u4e0a\u4e86!!!","imageDimensionTips":"\u6bd4\u4f8b\u76f8\u7d04\u7684\u5716\u7247\u6703\u7372\u5f97\u66f4\u597d\u7684\u89c0\u8cde\u9ad4\u9a57","missingAddress":"* \u7d66\u9ede\u81c9\u5b50\u9078\u500b\u5730\u5740\u5566","missingField":"* \u81f3\u5c11\u52a0\u4e00\u9ede\u5167\u5bb9\u5427","saveDraft":"\u5b58\u8349\u7a3f","success":"\u767c\u5e03\u6210\u529f","submitPost":"\u767c\u5e03\u597d\u73a9","uploadingImage":"\u760b\u72c2\u4e0a\u50b3\u5716\u7247","uploadingDeal":"\u4f3a\u670d\u5668\u611b\u7406\u4e0d\u7406\u4e2d","uploadCompleted":"\u641e\u6382!!!","titlePlaceHolder":"\u6a19\u984c\u6709\u8da3\u6703\u6709\u66f4\u591aLike\u54e6"},"date":{"day":"\u65e5","today":"\u4eca\u65e5","unknown":"\u4e0d\u660e"},"header":{"currentLocation":"\u7576\u524d\u5730\u5340:","loading":"Google API \u6b63\u5728\u70ba\u4f60\u5b9a\u4f4d"},"headerMenu":{"bugReportDescription":"\u6b61\u8fce\u544a\u8a34\u6211\u5011\u4efb\u4f55bug\uff0c\u6216\u6709\u8da3\u7684\u529f\u80fd","closeButton":"\u95dc\u9589","contactUs":"\u806f\u7d61\u6211\u5011","currentDevelopingFeatuers":["Google\u767b\u5165 \u9032\u5ea6: 80%","\u5b58\u8349\u7a3f \u9032\u5ea6: 0%","\u77ed\u5f71\u7247 \u9032\u5ea6: 0%","\u5fae\u4fe1\u767b\u5165 \u9032\u5ea6: 35%","\u6df1\u8272\u6a21\u5f0f \u9032\u5ea6: 20%","\u516c\u544a\u6587\u5b57 \u9032\u5ea6: 0%"],"developingFeature":"\u7b49\u5f85\u958b\u767c\u4e2d\u7684\u529f\u80fd:","emailAddress":"pkkwilliam919@gmail.com","logout":"\u767b\u51fa","moreFeatureIsComingDescription":"\u7522\u54c1\u7d93\u7406\u6b63\u5728\u97ad\u64bb\u7406\u7a0b\u5e8f\u54e1\u63a8\u51fa\u66f4\u591a\u65b0\u529f\u80fd"},"landingPage":{"area":"\u5730\u5340","clickToChange":"\u9ede\u64ca\u66f4\u6539","createDealButton":"\u5275\u5efa\u597d\u53bb\u8655","loadingDeals":"\u6b63\u5728\u5168\u529b\u70ba\u4f60\u8b80\u53d6\u597d\u53bb\u8655","geolocationProvider":"API\u5b9a\u4f4d","noDeal":"\u7db2\u53cb\u5011\u672a\u66fe\u6dfb\u52a0\u597d\u53bb\u8655\\n\u8acb\u4f60\u5e6b\u52a9\u6211\u5011\u4e00\u8d77\u8986\u84cb\u9019\u500b\u5340\u57df\u597d\u55ce?"},"localDealCardPage":{"expand":"\u5c55\u958b","collapse":"\u6536\u8d77"},"login":{"formName":"\u767b\u5165","loginNotYetAvaiable":"\u672a\u7528\u5f97\u554a \u7b49\u9663\u5148\u5566","password":"\u5bc6\u78bc","register":"\u6ce8\u518a\u8cec\u865f","submit":"\u767b\u5165","username":"UID/\u7528\u6236\u540d/EMAIL"},"oAuth":{"google":"Google","login":"\u767b\u5165","logout":"\u767b\u51fa","successfullyLogout":"\u6210\u529f\u767b\u51fa","weChat":"\u5fae\u4fe1","undefined":"\u4e0d\u660e"},"position":{"currentArea":"\u6240\u5728\u5730\u5340","loading":"\u6211\u5011\u6b63\u5728\u52aa\u529b\u70ba\u60a8\u8b80\u53d6\u5b9a\u4f4d"},"title":"\u53bb\u908a"}')},123:function(e,t,n){e.exports=n.p+"static/media/logo_icon_character-min.f8d459b6.png"},134:function(e,t,n){e.exports=n(273)},139:function(e,t,n){},270:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),i=n(15),l=n.n(i),s=(n(139),n(2)),c=n(3),u=n(6),d=n(5),p=n(7),h=(n(56),n(12)),m=n.n(h),g=n(10);!function(e){e.CREATE_DEAL="CREATE_DEAL",e.CREATE_VOTE="CREATE_VOTE",e.GET_CURRENT_ADDRESS="GET_CURRENT_ADDRESS",e.GET_DEALS="GET_DEALS",e.GET_PRESIGNED_URL="GET_PRESIGNED_URL",e.GET_USER_PROFILE="GET_USER_PROFILE",e.LOGIN_OAUTH_GOOGLE="LOGIN_OAUTH_GOOGLE",e.LOGOUT_OAUTH="LOGOUT_OAUTH",e.TEST="TEST",e.UPLOAD_IMAGE="UPLOAD_IMAGE",e.UPLOAD_IMAGE_SIGNED_URL="UPLOAD_IMAGE_SIGNED_URL"}(r||(r={}));var f,C=function(e){return{body:JSON.stringify(e),externalService:!1,hasMock:!1,isMultipartFileRequest:!1,method:"POST",url:"/deals",serviceName:r.CREATE_DEAL}},b=function(e){return{body:JSON.stringify(e),externalService:!1,hasMock:!1,isMultipartFileRequest:!1,method:"POST",url:"/vote",serviceName:r.CREATE_VOTE}},y=function(e){return{externalService:!1,hasMock:!0,isMultipartFileRequest:!1,method:"GET",url:"/deals",optionalRequestParam:function(){return"?".concat(A("areaName",e.area||""))},serviceName:r.GET_DEALS}},E=function(e,t){return{externalService:!1,hasMock:!1,isMultipartFileRequest:!1,method:"GET",url:"/file",optionalRequestParam:function(){return"?contentType=".concat(e,"&fileName=").concat(t)},serviceName:r.GET_PRESIGNED_URL}},v=function(){return{externalService:!1,hasMock:!1,isMultipartFileRequest:!1,method:"DELETE",url:"/oauth",serviceName:r.LOGOUT_OAUTH}},O=function(e){return{body:e,externalService:!1,hasMock:!1,isMultipartFileRequest:!0,method:"POST",url:"/file/multipart",serviceName:r.UPLOAD_IMAGE}},x=function(e,t){return{body:e,customHeader:{"Content-Type":e.type},externalService:!0,hasMock:!1,isMultipartFileRequest:!0,method:"PUT",url:t,serviceName:r.UPLOAD_IMAGE_SIGNED_URL}},S=function(e){return console.debug("service.ts: generateCurrentAreaRequestParameter -",e),e.areaName?"?".concat(A("areaName",e.areaName)):e.coordinate?"?".concat("latitude","=").concat(e.coordinate.latitude,"&").concat("longitude","=").concat(e.coordinate.longitude):(console.warn("CurrentArea input might be invalid"),"")},j=function(e){var t="?";if(e.length%2===0)for(var n=0;n<e.length;n+=2)0!==n&&(t+="&"),t+="".concat(e[n],"=").concat(e[n+1]);return console.debug("generateUrlParameter:",t),t},A=function(e,t){return"".concat(e,"=").concat(t)},D=function(){function e(t,n,r){var a=this;Object(s.a)(this,e),this.isMock=t,this.serviceUrl=n,this.headers=r,this.generateHeaders=function(e){return e.isMultipartFileRequest?Object(g.a)({},a.headers):Object(g.a)({},a.headers,{"Content-Type":"application/json"})}}return Object(c.a)(e,[{key:"execute",value:function(e){var t,n,r;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.isMock||!e.hasMock){a.next=4;break}return a.abrupt("return",Promise.resolve(k(e.serviceName)));case 4:return t=this.generateHeaders(e),n=e.optionalRequestParam?e.optionalRequestParam():"",r=e.externalService?e.url:this.serviceUrl+e.url+n,a.abrupt("return",fetch(r,{body:e.body,credentials:e.externalService?"omit":"include",headers:e.externalService?e.customHeader:t,method:e.method,mode:"cors"}).then((function(e){var t,n=null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.match("application/json"),r=e.status;return r<400?204!==r&&n?Promise.resolve(e.json()):Promise.resolve():e.status>400?Promise.reject():void 0})).catch((function(e){return console.warn("Something is wrong while fetch: ",r,e),Promise.reject(e)})));case 8:case"end":return a.stop()}}),null,this)}},{key:"isJsonResponse",value:function(e){try{return JSON.parse(e),!0}catch(t){return!1}}}]),e}(),k=function(e){switch(console.debug("get mock response:",e),e){case r.GET_DEALS:return w;case r.GET_CURRENT_ADDRESS:return T;case r.GET_USER_PROFILE:return I;default:return Promise.reject()}},w={deals:[{id:0,address:{id:0,street1:"\u8857\u90531",street2:"\u5730\u4e0bB\u5ea7",city:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580\u6f01\u7fc1\u885724\u865f",state:"",zipCode:"",country:"\u6fb3\u9580",coordinate:{latitude:113,longitude:234}},description:'<p><img src="https://storage.cloud.google.com/deal_image/1577871875967"></p>',filesUrl:["https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg","https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"],serverIdentifierName:"MACAU",title:"\u6fb3\u9580 \u86cb\u9039\u738b\u5b50",timestamp:1577872077582},{id:1,address:{id:0,street1:"\u8857\u90531",street2:"\u5730\u4e0bB\u5ea7",city:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580\u6f01\u7fc1\u885724\u865f",state:"",zipCode:"",country:"\u6fb3\u9580",coordinate:{latitude:113,longitude:234}},description:"The content of ExpansionPanels is mounted by default even if the panel is not expanded. This default behavior has server-side rendering and SEO in mind. If you render expensive component trees inside your panels or simply render many panels it might be a good idea to change this default behavior by enabling the unmountOnExit in TransitionProps:",filesUrl:["https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg","https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png","https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg","https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png","https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg"],serverIdentifierName:"MACAU",title:"\u6fb3\u9580 CRAZY \u86cb\u9039\u738b\u5b50",timestamp:1576871229332},{id:2,address:{id:0,street1:"\u8857\u90531",street2:"\u5730\u4e0bB\u5ea7",city:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580\u6f01\u7fc1\u885724\u865f",state:"",zipCode:"",country:"\u6fb3\u9580",coordinate:{latitude:113,longitude:234}},description:"The content of ExpansionPanels is mounted by default even if the panel is not expanded. This default behavior has server-side rendering and SEO in mind. If you render expensive component trees inside your panels or simply render many panels it might be a good idea to change this default behavior by enabling the unmountOnExit in TransitionProps:",filesUrl:["https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg","https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png"],serverIdentifierName:"MACAU",title:"\u6fb3\u9580 CRAZY \u86cb\u9039\u738b\u5b50",timestamp:1576871229332}]},T=[{id:0,area:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580\u6f01\u7fc1\u8857166\u865f",country:"\u6fb3\u9580"},{id:0,area:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580\u6f01\u7fc1\u8857166\u865f",country:"\u6fb3\u9580"},{id:0,area:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580\u6f01\u7fc1\u8857148\u865f",country:"\u6fb3\u9580"},{id:0,area:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580\u6f01\u7fc1\u885790\u865f",country:"\u6fb3\u9580"},{id:0,area:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580\u82b1\u5730\u746a\u5802\u5340",city:"\u82b1\u5730\u746a\u5802\u5340",country:"\u6fb3\u9580"},{id:0,area:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580",country:"\u6fb3\u9580"},{id:0,area:"\u6fb3\u9580",formattedAddress:"\u6fb3\u9580",country:"\u6fb3\u9580"}],I={id:0,name:"Mock User",imageUrl:"https://www.picclickimg.com/d/l400/pict/163647152800_/Cubd-Collectibles-Disney-Frozen-Elsa-Small-Soft-Stuffed.jpg",oAuthProvider:"GOOGLE"},L=function(){function e(t){Object(s.a)(this,e),this._lables=t}return Object(c.a)(e,[{key:"timeDifferentCalcualtor",value:function(e){if(e){var t=new Date,n=new Date(e),r=t.getTime()-n.getTime();return this.getLabelAccrodingToTimeDifference(r)}return console.warn("timestamp error: ",e),this._lables.date.unknown}},{key:"getLabelAccrodingToTimeDifference",value:function(e){var t=Math.round(e/864e5);return t>0?"".concat(t).concat(this._lables.date.day):this._lables.date.today}},{key:"getCurrentLocation",value:function(e){navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,r=n.latitude,a=n.longitude;e({latitude:r,longitude:a})}))}}]),e}(),P=n(115);!function(e){e.CONTACT_SHOW_EMAIL="CONTACT_SHOW_EMAIL",e.HEADER_MENU="HEADER_MENU",e.DEAL_LEGACY="DEAL_LEGACY",e.CREATE_DEAL_DRAFT="CREATE_DEAL_DRAFT",e.LOGIN_LOCALDEAL="LOGIN_LOCALDEAL",e.LOGIN_GOOGLE_OAUTH="LOGIN_GOOGLE_OAUTH",e.LOGIN_WECHAT_OAUTH="LOGIN_WECHAT_OAUTH",e.USER_PROFILE_IN_HEADER="USER_PROFILE_IN_HEADER",e.USER_PROFILE_IN_HEADER_MENU="USER_PROFILE_IN_HEADER_MENU"}(f||(f={}));var R,F=function(){function e(){Object(s.a)(this,e),this.ALLOW_DEAL_REFRESH=!1,this.DEAL_REFRESH_TIME=5e3,this.APIKEY="vKZywb959gExXaEHSwdzdq7MfZu3Nb",this.X_MADT_APPID="localdeal",this.X_MADT_APP_VERSION="0.0.1",this._serviceExecutor=new D(this.isMock,this.serviceUrl,this.headers),this._transformer=new L(this.labels)}return Object(c.a)(e,[{key:"allowDealRefresh",get:function(){return this.ALLOW_DEAL_REFRESH},set:function(e){this.ALLOW_DEAL_REFRESH=e}},{key:"dealRefreshTime",get:function(){return this.DEAL_REFRESH_TIME}},{key:"features",get:function(){return[f.CREATE_DEAL_DRAFT,f.CONTACT_SHOW_EMAIL,f.HEADER_MENU,f.LOGIN_GOOGLE_OAUTH,f.LOGIN_WECHAT_OAUTH]}},{key:"headers",get:function(){return{APIKEY:this.APIKEY,XMADTAPPID:this.X_MADT_APPID,XMADTAPPVERSION:this.X_MADT_APP_VERSION}}},{key:"labels",get:function(){return P}},{key:"isMock",get:function(){return!1}},{key:"isProd",get:function(){return!0}},{key:"oAuthRedirectUrl",get:function(){return this.isProd?"https://liuda.site":"http://127.0.0.1:3000"}},{key:"serviceExecutor",get:function(){return this._serviceExecutor}},{key:"serviceUrl",get:function(){return this.isProd?"https://liuda.site:8082":"http://127.0.0.1:8081"}},{key:"transformer",get:function(){return this._transformer}}]),e}();!function(e){e.GOOGLE="GOOGLE",e.WECHAT="WECHAT",e.NONE="NONE"}(R||(R={}));var _=n(69),B=n.n(_),M=n(70),U=n.n(M),N=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,[{key:"imageCompress",value:function(e,t,n,r,a){return new Promise((function(o,i){B.a.imageFileResizer(e,r/5,n,t,a,0,(function(e){o(e)}),"blob")}))}},{key:"getImageInfo",value:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=new Image;r.src=URL.createObjectURL(e),r.onload=function(){return t({height:r.height,size:e.size,type:e.type,width:r.width})}})));case 1:case"end":return t.stop()}}))}},{key:"imagePrecprocess",value:function(e){var t,n,r,a,o,i,l,s;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m.a.awrap(this.transferToBlob(e));case 2:return t=c.sent,c.next=5,m.a.awrap(this.getImageInfo(t));case 5:return n=c.sent,r=n.height,a=n.size,o=n.type,i=n.width,console.debug("original image size:",a),l=a>1e5?10:100,c.next=14,m.a.awrap(this.imageCompress(t,o,r,i,l));case 14:return s=c.sent,c.next=17,m.a.awrap(this.getImageInfo(s));case 17:return c.abrupt("return",Promise.resolve(s));case 18:case"end":return c.stop()}}),null,this)}},{key:"transferToBlob",value:function(e){return new Promise((function(t,n){return fetch(e).then((function(e){return e.blob()})).then((function(e){return t(e)}))}))}},{key:"fixRotation",value:function(e){var t=this;return new Promise((function(n,r){U()(e,(function(r){return n(r.toDataURL(t.guessImageMime(e)))}),{orientation:!0})}))}},{key:"guessImageMime",value:function(e){return"/"===e.charAt(0)?"image/jpeg":"R"===e.charAt(0)?"image/gif":"i"===e.charAt(0)?"image/png":""}}]),e}(),H=o.a.createContext({}),G=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a))))._appContext=new F,n._imageProcessor=new N,n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"checkOAuth",value:function(){var e=window.location.search,t=new URLSearchParams(e),n=t.get("state"),r=t.get("code"),a=R.NONE,o="";return n===R.GOOGLE&&(a=R.GOOGLE,o=null!==r&&void 0!==r?r:""),{authorizationCode:o,oAuthProvider:a}}},{key:"onOAuthLoginComplete",value:function(){window.history.pushState(null,document.title,"/")}},{key:"appContext",get:function(){return this._appContext}},{key:"appState",get:function(){return this.context}},{key:"imageProcessor",get:function(){return this._imageProcessor}}]),t}(a.Component);G.contextType=H;var V,W=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onClickCreateDeal=function(){console.debug("onClickCreateDeal"),n.setState({isCreateDealDrawerOpen:!0})},n.onClickHamburgerMenu=function(){console.debug("onClickHamburgerMenu"),n.setState({isHamburgerMenuDrawerOpen:!0})},n.onCloseCreateDeal=function(){console.debug("onCloseCreateDeal"),n.setState({isCreateDealDrawerOpen:!1})},n.onCloseHamburgerMenu=function(){console.debug("onCloseHamburgerMenu"),n.setState({isHamburgerMenuDrawerOpen:!1})},n.onClickLocationButton=function(){console.debug("onClickLocationButton"),n.setState({useAutoLocation:!0})},n.state={isCreateDealDrawerOpen:!1,isHamburgerMenuDrawerOpen:!1,useAutoLocation:!0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(Tt,{isCreateDealDrawerOpen:this.state.isCreateDealDrawerOpen,isHamburgerMenuDrawerOpen:this.state.isHamburgerMenuDrawerOpen,onClickCreateDeal:this.onClickCreateDeal,onClickHamburgerMenu:this.onClickHamburgerMenu,onCloseCreateDeal:this.onCloseCreateDeal,onCloseHamburgerMenu:this.onCloseHamburgerMenu,onClickLocationButton:this.onClickLocationButton,selectedAddress:this.appState.address.selectedAddress,userProfile:this.appState.user.userProfile})}}]),t}(G),z=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement($e,{isFlexDirectionRow:!0},o.a.createElement(he,null,this.generateAddressWithSpace(this.props.address)))}},{key:"generateAddressWithSpace",value:function(e){e.street1,e.street2,e.city,e.state,e.zipCode,e.country;return e.formattedAddress||""}},{key:"removeNotValidAddress",value:function(e){return e?"".concat(e," "):""}}]),t}(G),q="linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",Y={button:{borderRadius:15},color:{black:"black",blueTransparent:"rgba(0,132,255,.1)",green:"#5CC928",greenMedium:"#1EA362",greyDark:"#7D7D7D",greyLight:"#f6f6f6",greyTransparent:"rgba(12, 12, 12, .1)",orange:"#FF4F00",orangeGradient:q,orangeTransparent:"rgb(255, 168, 128, .1)",primaryColor:"#FF4F00",primaryGradient:q,primaryColorTransparent:"rgb(255, 168, 128, .1)",red:"EA4335",redDark:"#DA4B3C",secondaryColor:"#7D7D7D",secondaryColorTransparent:"rgba(12, 12, 12, .1)",systemError:"#F44436",systemInform:"#2196F3",systemSuccess:"#4CAF51",systemWarn:"#FF9800",white:"#FFFFFF"},common:{borderColor:"#f6f6f6"},dimension:{FILL_ALL_HEIGHT:"-webkit-fill-available",FILL_ALL_WIDTH:"-webkit-fill-available"},font:{fontSize:16,primaryFont:"sans-serif"},icon:{fontSize:38,marginLeft:18},remind:{primaryColor:"#5CC928",secondaryColor:"#007AFF"},textField:{borderColor:"#007AFF",borderRadius:15,borderWidth:2}},J=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="secondary"===this.props.theme?X.secondaryTheme:X.primaryTheme;return o.a.createElement($e,{style:Object(g.a)({},X.rootContainer,{},e,{},this.props.styles)},this.props.children)}}]),t}(a.Component),X={rootContainer:{alignItems:"center",backgroundColor:Y.color.primaryColorTransparent,borderRadius:8,width:Y.dimension.FILL_ALL_WIDTH},primaryTheme:{backgroundColor:Y.color.primaryColorTransparent},secondaryTheme:{backgroundColor:Y.color.secondaryColorTransparent}},K=n(310),Z=n(311),$=n(331),Q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).VoteButton=function(e){var t=e.voteCount,r=e.voteUpIcon,a=null,i=null;n.state.voted?(a=ee.VotedButtonContainer,i=Object(g.a)({},ee.mainIconStyle,{},ee.votedIcon)):(a=ee.VoteButtonContainer,i=Object(g.a)({},ee.mainIconStyle,{},ee.voteIcon));var l=r?n.onPressUpVote:n.onPressDownVote;return o.a.createElement($e,{isFlexDirectionRow:!0,style:Object(g.a)({},ee.buttonContainer,{},a)},o.a.createElement($.a,{disabled:n.state.voted,onClick:l,style:ee.iconButton},r?o.a.createElement(K.a,{style:i}):o.a.createElement(Z.a,{style:i})),o.a.createElement(he,{style:ee.componentStyle},t))},n.onPressDownVote=function(){n.createVoteRequest(!1)},n.onPressUpVote=function(){n.createVoteRequest(!0)},n.createVoteRequest=function(e){var t,r,a;return m.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:t=n.props.deal,r=t.id,a=t.serverIdentifierName,!n.state.voted&&r&&a&&n.appContext.serviceExecutor.execute(b({id:r,upVote:e,serverIdentifierName:a})).then((function(e){n.setState({voted:!0}),n.appState.deal.setDeals(e.deals)}));case 2:case"end":return o.stop()}}))},n.state={voted:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t,n=null!==(e=null===(t=this.props.deal)||void 0===t?void 0:t.vote)&&void 0!==e?e:{},r=n.downVote,a=n.upVote;return o.a.createElement($e,{isFlexDirectionRow:!0,style:ee.rootContainer},o.a.createElement(this.VoteButton,{voteCount:null!==a&&void 0!==a?a:0,voteUpIcon:!0}),o.a.createElement(this.VoteButton,{voteCount:null!==r&&void 0!==r?r:0,voteUpIcon:!1}))}}]),t}(G),ee={buttonContainer:{alignItems:"center",borderRadius:5,marginRight:5},componentStyle:{paddingRight:10},mainIconStyle:{fontSize:22,paddingTop:2,paddingBottom:2},iconButton:{padding:0},rootContainer:{alignItems:"center",marginTop:10},VotedButtonContainer:{backgroundColor:Y.color.secondaryColorTransparent},VoteButtonContainer:{backgroundColor:Y.color.primaryColorTransparent},votedIcon:{color:Y.color.secondaryColor},voteIcon:{color:Y.color.primaryColor}},te=n(312),ne=n(313),re=n(314),ae=function(e){function t(){var e,n,r=this;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).BottomToolBar=function(){return o.a.createElement($e,{isFlexDirectionRow:!0,style:oe.bottonToolBar},o.a.createElement($e,{style:{alignSelf:"flex-start"}},n.props.bottomToolBarContent),o.a.createElement($e,{style:{alignSelf:"flex-end"}},o.a.createElement(r.ExpandSign,null)))},n.ExpandLessSign=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(he,{style:{color:Y.color.primaryColor}},n.appContext.labels.localDealCardPage.collapse),o.a.createElement(te.a,{style:oe.expandSignIcon}))},n.ExpandMoreSign=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(de,null,n.appContext.labels.localDealCardPage.expand),o.a.createElement(ne.a,{style:oe.expandSignIcon}))},n.ExpandSign=function(){return n.props.allowExpand?o.a.createElement($.a,{onClick:n.props.onClickExpandSign,style:oe.expandSignButton},n.props.expanded?o.a.createElement(r.ExpandLessSign,null):o.a.createElement(r.ExpandMoreSign,null)):null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement($e,{style:Object(g.a)({},oe.rootContainer,{textAlign:"start"})},o.a.createElement(re.a,{in:this.props.expanded},o.a.createElement($e,{style:this.props.allowExpand?oe.collapsedContentContainer:oe.empty},this.props.children)),o.a.createElement(this.BottomToolBar,null))}}]),t}(G),oe={bottonToolBar:{justifyContent:"space-between",width:"inherit"},collapsedContentContainer:{paddingBottom:15,paddingTop:15},empty:{},expandSignButton:{backgroundColor:Y.color.primaryColorTransparent,padding:0,paddingLeft:15,paddingRight:5},expandSignIcon:{color:Y.color.primaryColor},rootContainer:{width:"inherit"}},ie=n(333),le=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(ie.a,this.props,o.a.createElement($e,{style:se.rootContainer},this.props.children))}}]),t}(a.Component),se={rootContainer:{alignItems:"center",justifyContent:"space-between",height:"inherit",paddingLeft:15,paddingRight:15,width:Y.dimension.FILL_ALL_WIDTH}},ce=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("p",{style:Object(g.a)({},this.getDefaultStyle(),{},this.getDefaultColor(),{},this.props.style)},this.props.children)}},{key:"getDefaultColor",value:function(){return{color:this.getColor()}}},{key:"getColor",value:function(){return Y.color.black}},{key:"getDefaultStyle",value:function(){return Object(g.a)({},ue.defaultStyle,{},this.getStyle())}},{key:"getStyle",value:function(){return ue.text}}]),t}(a.Component),ue={defaultStyle:{margin:0},text:{fontFamily:Y.font.primaryFont,fontSize:18,fontWeight:600}},de=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getColor",value:function(){return Y.color.primaryColor}},{key:"getStyle",value:function(){return pe.text}}]),t}(ce),pe={text:{fontSize:15,fontWeight:500}},he=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getColor",value:function(){return Y.color.greyDark}},{key:"getStyle",value:function(){return me.text}}]),t}(ce),me={text:{fontSize:15,fontWeight:500}},ge=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t;return o.a.createElement("img",{alt:null!==(e=null===(t=this.props)||void 0===t?void 0:t.alt)&&void 0!==e?e:"image",src:this.props.src,style:Object(g.a)({},fe.defaultStyle,{},this.getImageSizeStyle())})}},{key:"getImageSizeStyle",value:function(){switch(this.props.size){case"big":return fe.bigImage;case"medium":return fe.mediumImage;case"miniCircularImage":return fe.miniCircularImage;default:return fe.smallImage}}}]),t}(a.Component),fe={bigImage:{width:100},defaultStyle:{borderRadius:5},miniCircularImage:{borderRadius:30,width:35},mediumImage:{width:75},smallImage:{width:50}},Ce=function(e){function t(e){var n,r=this;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).contentRef=null,n.BottomToolBar=function(){return o.a.createElement($e,{isFlexDirectionRow:!0,style:be.bottonToolBar},o.a.createElement($e,{style:{alignSelf:"flex-start"}},n.props.bottomToolBarContent),o.a.createElement($e,{style:{alignSelf:"flex-end"}},o.a.createElement(r.ExpandSign,null)))},n.ExpandLessSign=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(he,{style:{color:Y.color.primaryColor}},n.appContext.labels.localDealCardPage.collapse),o.a.createElement(te.a,{style:be.expandSignIcon}))},n.ExpandMoreSign=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(de,null,n.appContext.labels.localDealCardPage.expand),o.a.createElement(ne.a,{style:be.expandSignIcon}))},n.ExpandSign=function(){return n.state.contentNeedCollapse?o.a.createElement($.a,{onClick:n.onClickedContent,style:be.expandSignButton},n.state.isCollapsed?o.a.createElement(r.ExpandMoreSign,null):o.a.createElement(r.ExpandLessSign,null)):null},n.ContentBody=function(e){var t=e.contentNeedCollapse,r=e.isCollapsed,a=t&&r?be.contentCollapsedStyle:be.contentOpenedStyle;return o.a.createElement($e,{style:Object(g.a)({},be.contentContainer,{},a),onClick:n.onClickedContent},o.a.createElement("div",{style:{width:"inherit"},ref:function(e){n.contentRef=e}},n.props.children))},n.onClickedContent=function(){n.setState({isCollapsed:!n.state.isCollapsed})},n.state={contentNeedCollapse:!0,isCollapsed:!0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t;this.setState({contentNeedCollapse:(null!==(e=null===(t=this.contentRef)||void 0===t?void 0:t.clientHeight)&&void 0!==e?e:0)>180})}},{key:"render",value:function(){return o.a.createElement($e,{borderBottom:1,style:be.rootContainer},o.a.createElement(this.ContentBody,{contentNeedCollapse:this.state.contentNeedCollapse,isCollapsed:this.state.isCollapsed}),o.a.createElement(this.BottomToolBar,null))}}]),t}(G),be={bottonToolBar:{justifyContent:"space-between",width:"inherit"},contentCollapsedStyle:{height:"150px",overflow:"hidden"},contentContainer:{width:Y.dimension.FILL_ALL_WIDTH},contentOpenedStyle:{},expandSignButton:{backgroundColor:Y.color.primaryColorTransparent,padding:0,paddingLeft:15,paddingRight:5},expandSignIcon:{color:Y.color.primaryColor},rootContainer:{backgroundColor:Y.color.white,borderColor:Y.common.borderColor,padding:20,width:Y.dimension.FILL_ALL_WIDTH}},ye=n(330),Ee=n(275),ve=n(9),Oe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).RegularInputTextField=function(){var e,t=null!==(e=n.props.text?n.props.text:n.props.placeHolder)&&void 0!==e?e:"";return o.a.createElement(Ee.a,{error:n.props.isError,onChange:function(e){return n.props.onChange(e.target.value)},placeholder:t,style:Object(g.a)({},xe.textFieldStyle,{},n.props.style)})},n.NewStyleTextField=function(){var e=n.props.onBlur?n.props.onBlur:function(){},t=n.props.onFocus?n.props.onFocus:function(){};return o.a.createElement(ye.a,{color:"secondary",defaultValue:n.props.defaultValue,label:n.props.text,onBlur:function(){return e()},onChange:function(e){return n.props.onChange(e.target.value)},onFocus:function(){return t()},style:Object(g.a)({},xe.textFieldStyle,{},n.props.style),variant:"outlined"},n.props.children)},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(this.RegularInputTextField,null)}}]),t}(G),xe={textFieldStyle:{paddingTop:15,width:"inherit"}},Se=Object(ve.a)(function(e){var t=e.textField;return{notchedOutline:{borderColor:t.borderColor,borderRadius:t.borderRadius,borderWidth:t.borderWidth}}}(Y))(Oe),je=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).additionalStyle="primary"===n.props.color?Ae.primaryStyle:Ae.secondaryStyle,n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("p",{style:Object(g.a)({},Ae.default,{},this.additionalStyle)},this.props.children)}}]),t}(a.Component),Ae={default:{fontFamily:Y.font.primaryFont,fontSize:9,margin:0},primaryStyle:{color:Y.color.primaryColor},secondaryStyle:{color:Y.color.secondaryColor}},De=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={backgroundColor:this.props.disabled?Y.color.greyDark:Y.color.primaryColor};return o.a.createElement($.a,Object.assign({style:Object(g.a)({},e,{},ke.buttonStyle)},this.props),o.a.createElement("p",{style:ke.text},this.props.children))}}]),t}(a.Component),ke={buttonStyle:{borderRadius:25,marginLeft:20,marginRight:20,width:"inherit"},text:{color:Y.color.white,fontSize:15,fontWeight:600,margin:0}},we=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getColor",value:function(){switch(this.props.color){case"primary":return Te.primaryColor.color;case"secondary":return Te.secondaryColor.color;case"black":return Te.black.color;default:return Te.primaryColor.color}}},{key:"getStyle",value:function(){return Te.text}}]),t}(ce),Te={primaryColor:{color:Y.color.primaryColor},secondaryColor:{color:Y.color.secondaryColor},black:{color:Y.color.black},text:{fontFamily:Y.font.primaryFont,fontSize:"0.875rem"}},Ie=n(118),Le=n.n(Ie),Pe=(n(251),n(119)),Re=[[{color:[]}],["bold","italic","strike",{header:[1,!1]},{align:[]}],["image"],["link"],[{list:"ordered"},{list:"bullet"}],["clean"]],Fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).quillRef=void 0,n.imageHandler=function(e){var t,r,a,o,i,l;return m.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return console.debug("enter image handler function"),console.debug("original"),n.removePreviousInput(),t=n.guessImageMime(e),s.next=6,m.a.awrap(n.fixRotation(e,t));case 6:return r=s.sent,s.next=9,m.a.awrap(n.transferToBlob(r));case 9:return a=s.sent,s.next=12,m.a.awrap(n.getImageInfo(a));case 12:return o=s.sent,s.next=15,m.a.awrap(n.imageResize(a,o.type,o.height,o.width/5,10));case 15:i=s.sent,console.debug("processed"),n.getImageInfo(i),(l=new FormData).append("image",i,"image"),n.appContext.serviceExecutor.execute(O(l)).then((function(e){n.onImageSucceedUpload(e.url)}));case 21:case"end":return s.stop()}}))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(Le.a,{ref:function(t){return e.quillRef=t},modules:this.modules(),onChange:function(t,n,r,a){var o;"user"===r&&((null===(o=n.ops)||void 0===o?void 0:o.length)&&n.ops.forEach((function(t){Object(Pe.isObject)(t.insert)&&t.insert.image&&(console.debug("got image"),e.imageHandler(t.insert.image))})));e.props.onChangeValue(t)},placeholder:this.appContext.labels.createDealPage.descriptionPlaceHolder,style:Object(g.a)({},_e.quillStyle,{},this.props.style)})}},{key:"createNewFormData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"newFile";console.debug("create new FormData object");var r=new FormData;return r.append(t,e,n),r}},{key:"fixRotation",value:function(e,t){return new Promise((function(n,r){U()(e,(function(e){return n(e.toDataURL(t))}),{orientation:!0})}))}},{key:"getCurrentIndex",value:function(){return this.quillRef.getEditor().getSelection().index}},{key:"getImageInfo",value:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=new Image;r.src=URL.createObjectURL(e),r.onload=function(){return console.debug("type:".concat(e.type," size:").concat(e.size," height:").concat(r.height," width:").concat(r.width)),t({height:r.height,size:e.size,type:e.type,width:r.width})}})));case 1:case"end":return t.stop()}}))}},{key:"imageResize",value:function(e,t,n,r,a){return new Promise((function(o,i){B.a.imageFileResizer(e,r,n,t,a,0,(function(e){o(e)}),"blob")}))}},{key:"centerAlignLine",value:function(){var e=this.getCurrentIndex();this.quillRef.getEditor().formatLine(e,e+1,"align","center")}},{key:"leftAlignLine",value:function(){var e=this.getCurrentIndex();this.quillRef.getEditor().formatLine(e,e+1,"align","")}},{key:"createImageElement",value:function(e){var t=document.createElement("img");return t.src=e,t.setAttribute("style","width:10px"),t}},{key:"createNewLine",value:function(){this.quillRef.getEditor().insertText(this.getCurrentIndex(),"\n")}},{key:"transferToBlob",value:function(e){return new Promise((function(t,n){return fetch(e).then((function(e){return e.blob()})).then((function(e){return t(e)}))}))}},{key:"guessImageMime",value:function(e){return"/"===e.charAt(0)?"image/jpeg":"R"===e.charAt(0)?"image/gif":"i"===e.charAt(0)?"image/png":""}},{key:"modules",value:function(){return{toolbar:{container:Re}}}},{key:"onImageSucceedUpload",value:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.quillRef.getEditor().insertEmbed(this.getCurrentIndex(),"image",e),this.setCursorAtNextIndex(),this.centerAlignLine(),this.createNewLine(),this.leftAlignLine();case 5:case"end":return t.stop()}}),null,this)}},{key:"removePreviousInput",value:function(){var e=this.getCurrentIndex();console.debug("remove content at index:",e),this.quillRef.getEditor().deleteText(e,e+1)}},{key:"setCursorAtNextIndex",value:function(){var e=this.getCurrentIndex();this.quillRef.getEditor().setSelection(e+1,e+1)}}]),t}(G),_e={quillStyle:{borderRadius:5,width:"inherit"}},Be=n(120),Me=n.n(Be),Ue=(n(270),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:Ne.sliderWrapper},o.a.createElement(Me.a,{dots:!0,lazyLoad:"progressive",infinite:!1,focusOnSelect:!1,slidesPerRow:1,slidesToShow:1,speed:100},this.generateImages()))}},{key:"generateImages",value:function(){var e=this;return this.props.fileUrls.map((function(t){return o.a.createElement("div",null,o.a.createElement("img",{alt:"post",src:t,style:e.getImageStlye()}))}))}},{key:"getImageStlye",value:function(){return Object(g.a)({},Ne.imageDefaultStyle,{height:this.props.height})}}]),t}(a.Component)),Ne={imageDefaultStyle:{minHeight:"100%",minWidth:"100%",objectFit:"cover"},sliderWrapper:{width:"100%"}},He=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.underline?Ge.underline:"";return o.a.createElement($.a,Object.assign({onClick:this.props.onClick,style:Object(g.a)({},Ge.buttonStyle,{},e),variant:"text"},this.props),this.props.children)}}]),t}(a.Component),Ge={buttonStyle:{color:Y.color.primaryColor,paddingBottom:2,paddingTop:2},underline:{textDecoration:"underline"}},Ve={root:{"& label.Mui-focused":{color:"yellow"},"& .MuiInput-underline:after":{borderBottomColor:"yellow",borderWidth:"0px"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"red"},"&:hover fieldset":{borderColor:"yellow"},"&.Mui-focused fieldset":{borderColor:"yellow",borderWidth:"0px"}}}},We=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;Object(ve.a)(Ve)(ye.a);return o.a.createElement(ye.a,{multiline:this.props.multiline,onChange:function(t){return e.props.onChange(t.target.value)},placeholder:this.props.placeholder,rows:this.props.rows,style:ze.textField})}}]),t}(a.Component),ze={textField:{width:"inherit"}},qe=n(315),Ye=n(334);!function(e){e.ERROR="ERROR",e.INFORM="INFORM",e.SUCCESS="SUCCESS",e.WARN="WARN"}(V||(V={}));a.Component;var Je={rootContainer:{padding:5,paddingLeft:30,paddingRight:30,borderRadius:10,marginBottom:35}},Xe=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClickPrimaryButton,n=e.onClickSecondaryButton,r=e.primaryButtonLabel,a=e.secondaryButtonLabel;return o.a.createElement($e,{isFlexDirectionRow:!0,style:Object(g.a)({},Ke.rootContainer,{},this.props.style)},o.a.createElement($.a,{onClick:function(){return t()},style:Ke.primaryButton,variant:"outlined"},o.a.createElement(he,{style:Ke.primaryButtonText},r)),o.a.createElement($.a,{onClick:function(){return n()},variant:"outlined"},o.a.createElement(he,null,a)))}}]),t}(G),Ke={rootContainer:{justifyContent:"space-around",marginLeft:20,marginRight:20,width:"inherit"},primaryButton:{backgroundColor:Y.color.primaryColor},primaryButtonText:{color:Y.color.white}},Ze=n(329),$e=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(Ze.a,Object.assign({display:"flex",flexDirection:this.props.isFlexDirectionRow?"row":"column",alignItems:this.props.alignItems?this.props.alignItems:"start",justifyContent:this.props.justifyContent?this.props.justifyContent:"start",onClick:function(){return e.props.onClick?e.props.onClick():{}}},this.props),this.props.children)}}]),t}(G),Qe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onAddFile=function(e){console.debug("onAddImage");var t=e.target.files;if(null!==t)for(var r=0;r<t.length;r++)n.convertImageToBase64(t[r])},n.onChangeDescription=function(e){console.debug("onChangeDescription"),n.setState({description:e})},n.onChangeTitle=function(e){console.debug("onChangeTitle"),n.setState({title:e})},n.onClickAddress=function(e){console.debug("onClickAddress"),n.setState({selectedAddress:e})},n.onClickRemoveSelectedAddress=function(){console.debug("onClickRemoveSelectedAddress"),n.setState({selectedAddress:void 0})},n.onClickSaveDraft=function(){console.debug("onClickSaveDraft")},n.onClickSubmit=function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.debug("onClickSubmit"),n.verifyInput()&&n.onSubmit();case 2:case"end":return e.stop()}}))},n.onSubmit=function(){var e,t,r,a;return m.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return console.debug("start to submit a new deal"),o.next=3,m.a.awrap(n.appState.createDeal.setCreateDealUploading(!0));case 3:return n.props.onClose(),t=n.appContext.labels.createDealPageV2,o.next=7,m.a.awrap(n.appState.createDeal.setCreateDealProgressMessage(t.uploadingImage));case 7:return o.next=9,m.a.awrap(Promise.all(n.state.files.map((function(e){var t,r,a;return m.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,m.a.awrap(n.imageProcessor.imagePrecprocess(e.base64Value));case 2:return r=o.sent,o.next=5,m.a.awrap(n.appContext.serviceExecutor.execute(E(e.type,e.name)));case 5:return a=o.sent,o.next=8,m.a.awrap(n.appContext.serviceExecutor.execute(x(r,null!==(t=a.preSignedUrl)&&void 0!==t?t:"")));case 8:return o.abrupt("return",a.url);case 9:case"end":return o.stop()}}))}))).then((function(e){return e})));case 9:return r=o.sent,o.next=12,m.a.awrap(n.appState.createDeal.setCreateDealProgressMessage(t.uploadingDeal));case 12:return a={address:n.state.selectedAddress,description:n.state.description,filesUrl:r.map((function(e){return null!==e&&void 0!==e?e:""})),serverIdentifierName:null===(e=n.state.selectedAddress)||void 0===e?void 0:e.area,timestamp:0,title:n.state.title},o.next=15,m.a.awrap(n.appContext.serviceExecutor.execute(C(a)));case 15:if(!n.state.selectedAddress){o.next=18;break}return o.next=18,m.a.awrap(n.appContext.serviceExecutor.execute(y(n.state.selectedAddress)).then((function(e){n.appState.deal.setDeals(e.deals)})).then((function(){setTimeout((function(){n.appState.createDeal.setCreateDealUploading(!1)}),5e3)})).catch((function(){console.debug("something weng wrong while creating deal")})));case 18:return o.next=20,m.a.awrap(n.appState.createDeal.setCreateDealProgressMessage(t.uploadCompleted));case 20:case"end":return o.stop()}}))},n.state={files:[],blobFiles:[],description:"",hasAddress:!0,hasField:!0,title:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(it,{allowNumberOfFile:9,files:this.state.files,onAddFile:this.onAddFile,onChangeDescription:this.onChangeDescription,onChangeTitle:this.onChangeTitle,onClickAddress:this.onClickAddress,onClickRemoveSelectedAddress:this.onClickRemoveSelectedAddress,onClickSaveDraft:this.onClickSaveDraft,onClickSubmit:this.onClickSubmit,onClose:this.props.onClose,hasAddress:this.state.hasAddress,hasField:this.state.hasField,selectedAddress:this.state.selectedAddress})}},{key:"convertImageToBase64",value:function(e){var t,n=this;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:(t=new FileReader).onload=function(t){t.target&&t.target.result&&n.imageProcessor.fixRotation(t.target.result.toString()).then((function(t){n.setState({files:n.state.files.concat({base64Value:t,name:e.name,type:e.type})})}))},t.readAsDataURL(e);case 3:case"end":return r.stop()}}))}},{key:"verifyInput",value:function(){var e=this.state,t=void 0!==e.selectedAddress,n=""!==e.title||""!==e.description||e.files.length>0;return this.setState({hasAddress:t,hasField:n}),t&&n}}]),t}(G),et=n(318),tt=n(319),nt=n(320),rt=n(321),at=n(322),ot=n(323),it=function(e){function t(){var e,n,r=this;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).AddImageButton=function(){return o.a.createElement(r.Frame,null,o.a.createElement("input",{accept:"image/*",onChange:function(e){return n.props.onAddFile(e)},style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file"}),o.a.createElement("label",{htmlFor:"raised-button-file"},o.a.createElement($.a,{component:"span",style:lt.addIconButton},o.a.createElement(et.a,{scale:"big",style:lt.addIcon}))))},n.AddressSelection=function(){var e=n.props.selectedAddress?o.a.createElement(r.SelectedAddress,null):o.a.createElement(r.AddressBubble,null);return o.a.createElement(o.a.Fragment,null,o.a.createElement(r.MissingSectionLabel,{hide:n.props.hasAddress,label:n.appContext.labels.createDealPageV2.missingAddress}),o.a.createElement($e,{isFlexDirectionRow:!0,style:lt.addressSectionContainer},o.a.createElement(tt.a,{style:lt.locationIcon}),e))},n.AddressBubble=function(){var e=n.appState.address.addressesPrediction.map((function(e){return o.a.createElement($e,{border:1,onClick:function(){return n.props.onClickAddress(e)},style:Object(g.a)({},lt.addressBubbleContainer,{whiteSpace:"nowrap"})},o.a.createElement(we,{style:{color:Y.color.secondaryColor}},e.formattedAddress))}));return o.a.createElement($e,{isFlexDirectionRow:!0,style:lt.addressSelectionContainer},e)},n.BottomButtonSecton=function(){return o.a.createElement($e,{isFlexDirectionRow:!0,style:lt.bottomButtonSectionContainer},o.a.createElement(r.DraftButton,null),o.a.createElement(r.SubmitButton,null))},n.CloseButton=function(){return o.a.createElement(nt.a,{onClick:n.props.onClose,style:lt.closeIcon})},n.Description=function(){return o.a.createElement(We,{multiline:!0,onChange:n.props.onChangeDescription,placeholder:n.appContext.labels.createDealPageV2.descriptionPlaceHolder,rows:6})},n.DraftButton=function(){return o.a.createElement($.a,{onClick:n.props.onClickSaveDraft,style:lt.draftButton},o.a.createElement($e,{style:lt.draftButtonContainer},o.a.createElement(rt.a,{style:lt.draftIcon}),o.a.createElement(je,{color:"secondary"},n.appContext.labels.createDealPageV2.saveDraft)))},n.FileSection=function(){var e=n.props.files.map((function(e){return o.a.createElement(r.ImageContainer,{image:e})}));return n.props.files.length<n.props.allowNumberOfFile&&e.push(o.a.createElement(r.AddImageButton,null)),o.a.createElement(o.a.Fragment,null,o.a.createElement(r.MissingSectionLabel,{hide:n.props.hasField,label:n.appContext.labels.createDealPageV2.missingField}),o.a.createElement($e,{isFlexDirectionRow:!0,style:lt.fileSectionContainer},e))},n.Header=function(){return o.a.createElement($e,{isFlexDirectionRow:!0,style:lt.headerContainer},o.a.createElement(r.ImageDimensionTips,null),o.a.createElement(r.CloseButton,null))},n.ImageContainer=function(e){var t=e.image;return o.a.createElement(r.Frame,null,o.a.createElement("img",{alt:"user-input",src:t.base64Value,style:Object(g.a)({},lt.imageStyle,{objectFit:"cover"})}))},n.ImageDimensionTips=function(){return o.a.createElement($e,{isFlexDirectionRow:!0,style:lt.imageDimensionTipsContainer},o.a.createElement(at.a,{style:lt.imageDimensionTipsIcon}),o.a.createElement(he,null,n.appContext.labels.createDealPageV2.imageDimensionTips))},n.Frame=function(e){var t=e.children;return o.a.createElement($e,{border:1,style:lt.frameContainer},t)},n.MissingSectionLabel=function(e){var t=e.label;return e.hide?null:o.a.createElement(we,{style:{color:"red",fontWeight:"bold"}},t)},n.SelectedAddress=function(){var e,t;return o.a.createElement($e,{isFlexDirectionRow:!0,style:lt.selectedAddressContainer},o.a.createElement(we,{style:lt.selectedAddressText},null!==(e=null===(t=n.props.selectedAddress)||void 0===t?void 0:t.formattedAddress)&&void 0!==e?e:""),o.a.createElement(ot.a,{onClick:n.props.onClickRemoveSelectedAddress,style:lt.deleteIcon}))},n.SubmitButton=function(){return o.a.createElement(De,{onClick:n.props.onClickSubmit},n.appContext.labels.createDealPageV2.submitPost)},n.Title=function(){return o.a.createElement(We,{onChange:n.props.onChangeTitle,placeholder:n.appContext.labels.createDealPageV2.titlePlaceHolder})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement($e,{style:lt.rootContainer},o.a.createElement(this.Header,null),o.a.createElement(this.FileSection,null),o.a.createElement(this.Title,null),o.a.createElement(this.Description,null),o.a.createElement(this.AddressSelection,null),o.a.createElement(this.BottomButtonSecton,null))}}]),t}(G),lt={addIcon:{color:Y.color.greyTransparent,fontSize:"80"},addIconButton:{borderRadius:10},addressBubbleContainer:{borderColor:Y.color.secondaryColor,borderRadius:30,paddingTop:2,paddingBottom:2,paddingLeft:10,paddingRight:10,marginRight:5},addressSelectionContainer:{overflow:"scroll",paddingBottom:10},addressSectionContainer:{alignItems:"center",marginTop:5,width:"inherit"},bottomButtonSectionContainer:{alignItems:"center",justifyContent:"center",marginBottom:20,marginTop:20,width:"inherit"},closeIcon:{color:Y.color.greyDark},deleteIcon:{color:Y.color.greyDark},descriptionTextField:{marginTop:10,width:"inherit"},draftButton:{padding:0},draftButtonContainer:{alignItems:"center",justifyContent:"center"},draftIcon:{backgroundColor:Y.color.secondaryColorTransparent,borderRadius:25,color:Y.color.secondaryColor,fontSize:16,marginBottom:1,padding:3},fileSectionContainer:{alignItems:"start",overflow:"scroll",paddingBottom:10,paddingTop:10,width:"inherit"},frameContainer:{alignItems:"center",borderColor:Y.color.greyTransparent,borderRadius:10,justifyContent:"center",margin:5,maxHeight:80,maxWidth:80,minHeight:80,minWidth:80},headerContainer:{alignItems:"center",justifyContent:"space-between",marginTop:15,width:"inherit"},imageDimensionTipsContainer:{alignItems:"center",justifyContent:"center"},imageDimensionTipsIcon:{color:Y.color.secondaryColor,fontSize:18},imageStyle:{borderRadius:10,minHeight:"inherit",minWidth:"inherit"},locationIcon:{color:Y.color.red,marginLeft:-5,marginRight:3,paddingBottom:10},rootContainer:{width:"inherit"},selectedAddressContainer:{alignItems:"center",justifyContent:"space-between",paddingBottom:10,width:"inherit"},selectedAddressText:{color:Y.color.black},titleTextField:{marginTop:10,width:"inherit"}},st=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeRichTextValue=function(e){n.setState({richTextValue:e})},n.onChangeTitleTextField=function(e){n.setState({title:e})},n.onClickSubmit=function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(n.validateDescription());case 2:return e.next=4,m.a.awrap(n.validateTitle());case 4:if(!(n.state.hasDescription&&n.state.hasTitle&&n.appState.address.selectedAddress)){e.next=10;break}return e.next=7,m.a.awrap(n.appContext.serviceExecutor.execute(C({address:n.appState.address.selectedAddress,description:n.state.richTextValue,filesUrl:[],serverIdentifierName:"",timestamp:0,title:n.state.title})));case 7:return n.props.onClickClose(),e.next=10,m.a.awrap(n.appContext.serviceExecutor.execute(y(n.appState.address.selectedAddress)).then((function(e){return n.appState.deal.setDeals(e.deals)})));case 10:case"end":return e.stop()}}))},n.state={hasTitle:!0,hasDescription:!0,richTextValue:"",title:"",useAutoPosition:!0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(ct,{currentAddress:this.appState.address.selectedAddress,hasDescription:this.state.hasDescription,hasTitle:this.state.hasTitle,onChangeRichTextValue:this.onChangeRichTextValue,onChangeTitleTextField:this.onChangeTitleTextField,onClickClose:function(){return e.props.onClickClose()},onClickSubmit:this.onClickSubmit,useAutoPosition:this.state.useAutoPosition})}},{key:"validateDescription",value:function(){this.setState({hasDescription:this.state.richTextValue.length>0})}},{key:"validateTitle",value:function(){this.setState({hasTitle:this.state.title.length>0})}}]),t}(G),ct=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).ButtonSection=function(){var e=n.appContext.labels.createDealPage;return o.a.createElement(Xe,{onClickPrimaryButton:function(){return n.props.onClickSubmit()},onClickSecondaryButton:function(){return n.props.onClickClose()},primaryButtonLabel:e.create,secondaryButtonLabel:e.cancel,style:ut.buttonSection})},n.ContentInput=function(){var e=n.props,t=e.currentAddress,r=e.hasTitle,a=e.hasDescription,i=e.onChangeRichTextValue,l=e.onChangeTitleTextField,s=e.useAutoPosition;return o.a.createElement(dt,{currentAddress:t,hasTitle:r,hasDescription:a,onChangeRichTextValue:i,onChangeTitleTextField:l,useAutoPosition:s})},n.HeaderSection=function(){var e=n.appContext.labels.createDealPage;return o.a.createElement($e,{style:ut.headerContainer,isFlexDirectionRow:!0},o.a.createElement(ce,null,e.header),o.a.createElement($.a,{onClick:function(){return n.props.onClickClose()}},o.a.createElement(he,null,e.close)))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement($e,{style:ut.rootContainer},o.a.createElement(this.HeaderSection,null),o.a.createElement(this.ContentInput,null),o.a.createElement(this.ButtonSection,null))}}]),t}(G),ut={addressSectionContainer:{marginTop:5,width:"inherit"},buttonSection:{margin:10},headerContainer:{alignItems:"center",justifyContent:"space-between",marginTop:10,width:"100%"},missingContentText:{color:Y.color.red,marginTop:5},descriptionContainer:{marginTop:10,width:"inherit"},richTextEditor:{marginTop:5},rootContainer:{alignItems:"center",justifyContent:"center",overflow:"hidden",width:Y.dimension.FILL_ALL_WIDTH},titleTextField:{marginTop:5},titleTextFiledContainer:{justifyContent:"center",marginTop:10,width:"inherit"}},dt=function(e){function t(){var e,n,r=this;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).AddressSection=function(){return o.a.createElement($e,{style:pt.addressSectionContainer},n.props.useAutoPosition?o.a.createElement(r.AddressAutoPositionDisplay,null):o.a.createElement(r.AddressTextField,null))},n.AddressAutoPositionDisplay=function(){return n.props.currentAddress?o.a.createElement(z,{address:n.props.currentAddress}):null},n.AddressTextField=function(){return null},n.DescriptionTextField=function(){return o.a.createElement($e,{style:pt.descriptionContainer},o.a.createElement(r.DescriptionMissing,null),o.a.createElement(Fe,{onChangeValue:n.props.onChangeRichTextValue,style:pt.richTextEditor}))},n.DescriptionMissing=function(){return n.props.hasDescription?null:o.a.createElement(r.MissingContentText,{label:n.appContext.labels.createDealPage.descriptionMissing})},n.HourOfOperationSection=function(){return null},n.MissingContentText=function(e){var t=e.label;return o.a.createElement(he,{style:pt.missingContentText},t)},n.TitleMissing=function(){return n.props.hasTitle?null:o.a.createElement(r.MissingContentText,{label:n.appContext.labels.createDealPage.titleMissing})},n.TitleTextField=function(){return o.a.createElement($e,{style:pt.titleTextFiledContainer},o.a.createElement(r.TitleMissing,null),o.a.createElement(Se,{onChange:n.props.onChangeTitleTextField,text:n.appContext.labels.createDealPage.textFieldTitle,style:pt.titleTextField}))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(this.AddressSection,null),o.a.createElement(this.TitleTextField,null),o.a.createElement(this.HourOfOperationSection,null),o.a.createElement(this.DescriptionTextField,null))}}]),t}(G),pt={addressSectionContainer:{marginTop:5,width:"inherit"},buttonSection:{margin:10},headerContainer:{alignItems:"center",justifyContent:"space-between",marginTop:10,width:"100%"},missingContentText:{color:Y.color.red,marginTop:5},descriptionContainer:{marginTop:10,width:"inherit"},richTextEditor:{marginTop:5},rootContainer:{alignItems:"center",justifyContent:"center",width:Y.dimension.FILL_ALL_WIDTH},titleTextField:{marginTop:5},titleTextFiledContainer:{justifyContent:"center",marginTop:10,width:"inherit"}},ht=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).onSelectAddress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(n.appState.address.addressesPrediction){var t=n.appState.address.addressesPrediction[e];n.appState.address.setSelectedAddress(t)}},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.setDefaultSelectedAddress(),null}},{key:"setDefaultSelectedAddress",value:function(){var e;this.appState.address.addressesPrediction.length>0&&!(null===(e=this.appState.address.selectedAddress)||void 0===e?void 0:e.area)&&this.onSelectAddress()}}]),t}(G),mt=(n(335),n(336),n(117),n(123)),gt=n.n(mt),ft=n(337),Ct=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(ft.a,{disableTouchListener:!0,title:this.props.title},o.a.createElement($.a,{style:{padding:0,minWidth:0}},this.props.children))}}]),t}(a.Component),bt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onClickMenu=function(){n.setState({isMenuOpen:!0})},n.onClickLogout=function(){console.debug("onClickLogout"),n.appContext.serviceExecutor.execute(v()).then((function(){n.appState.user.removeUserProfile()}))},n.onCloseMenu=function(){n.setState({isMenuOpen:!1})},n.state={isMenuOpen:!1,isToastMessageOpen:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(Dt,{isMenuOpen:this.state.isMenuOpen,onClickMenu:this.onClickMenu,onClickLogout:this.onClickLogout,onCloseMenu:this.onCloseMenu,userProfile:this.appState.user.userProfile})}}]),t}(G),yt=n(325),Et=n(324),vt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangePassword=function(e){console.debug("onChangePassword")},n.onChangeUsername=function(e){console.debug("onChangeUsername")},n.onClickSubmit=function(){console.debug("onClickSubmit")},n.state={password:"",username:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(Ot,{onChangePassword:this.onChangePassword,onChangeUsername:this.onChangeUsername,onClickSubmit:this.onClickSubmit,password:this.state.password,username:this.state.username})}}]),t}(G),Ot=function(e){function t(){var e,n,r=this;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).Container=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(J,null,o.a.createElement(r.Header,null),o.a.createElement(r.UsernameTextField,null),o.a.createElement(r.PasswordTextField,null),o.a.createElement(r.SubmitButton,null)))},n.Header=function(){return o.a.createElement($e,{style:xt.headerContainer},o.a.createElement(de,null,n.appContext.labels.login.formName))},n.PasswordTextField=function(){return o.a.createElement(Se,{onChange:n.props.onChangePassword,text:n.appContext.labels.login.password})},n.SubmitButton=function(){return o.a.createElement(De,{disabled:!0})},n.UsernameTextField=function(){return o.a.createElement(Se,{onChange:n.props.onChangeUsername,text:n.appContext.labels.login.username})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[];return this.appContext.features.includes(f.LOGIN_LOCALDEAL)&&e.push(o.a.createElement(this.Container,null)),e}}]),t}(G),xt={headerContainer:{width:"inherit"},submitButton:{marginTop:15},rootContainer:{alignItems:"center",backgroundColor:Y.color.primaryColorTransparent,borderRadius:5,padding:10,marginTop:20,width:Y.dimension.FILL_ALL_WIDTH}},St=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).onClickLogout=function(){console.debug("onClickLogout"),n.appContext.serviceExecutor.execute(v()).then((function(){n.appState.user.removeUserProfile()}))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(jt,{onClickLogout:this.onClickLogout,userProfile:this.appState.user.userProfile})}}]),t}(G),jt=function(e){function t(){var e,n,r=this;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).Container=function(){var e=n.props.userProfile.oAuthProvider!==R.NONE?o.a.createElement(r.UserProfileSection,null):o.a.createElement(r.OAuthLoginOptions,null);return o.a.createElement(J,{theme:"primary"},e)},n.GoogleOAuthLoginIcon=function(){return n.appContext.features.includes(f.LOGIN_GOOGLE_OAUTH)?o.a.createElement($.a,null,o.a.createElement(Et.a,{href:n.getGoogleOAuthRequestURL()},"Google")):null},n.LogoutButton=function(){return o.a.createElement(He,{onClick:n.props.onClickLogout,underline:!0},n.appContext.labels.oAuth.logout)},n.OAuthLoginOptions=function(){return o.a.createElement(r.GoogleOAuthLoginIcon,null)},n.UserProfileSection=function(){if(n.appContext.features.includes(f.USER_PROFILE_IN_HEADER_MENU)){var e=n.props.userProfile;return o.a.createElement($e,{isFlexDirectionRow:!0,style:At.rootContainer},o.a.createElement(ge,{src:e.imageUrl}),o.a.createElement($e,{style:At.userTextInfoContainer},o.a.createElement(de,null,n.getProviderLabel(e.oAuthProvider)),o.a.createElement(de,null,e.name)))}return null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(this.Container,null)}},{key:"getGoogleOAuthRequestURL",value:function(){return"https://accounts.google.com/o/oauth2/v2/auth?scope=profile&access_type=offline&include_granted_scopes=true&response_type=code&state=GOOGLE&redirect_uri=".concat(this.appContext.oAuthRedirectUrl,"&client_id=965687889406-d0pqe0hr6i3c4uo18rr5j0spqq73phth.apps.googleusercontent.com")}},{key:"getProviderLabel",value:function(e){var t=this.appContext.labels.oAuth;switch(e){case R.GOOGLE:return t.google;case R.WECHAT:return t.weChat;default:return t.undefined}}}]),t}(G),At={logoutButtonContainer:{height:"inherit",alignItems:"right",justifyContent:"right"},rootContainer:{alignItems:"center",justifyContent:"space-around",padding:10,width:"inherit"},userTextInfoContainer:{marginLeft:15,width:"inherit"}},Dt=function(e){function t(){var e,n,r=this;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).CloseButton=function(){return o.a.createElement(He,{onClick:n.props.onCloseMenu},n.appContext.labels.headerMenu.closeButton)},n.ContactInfomation=function(){var e=n.appContext.labels.headerMenu;return n.appContext.features.includes(f.CONTACT_SHOW_EMAIL)?o.a.createElement(Et.a,{href:"mailto:".concat(e.emailAddress),underline:"none"},o.a.createElement(we,null,e.contactUs)):null},n.DevelopingFeatures=function(){var e=n.appContext.labels.headerMenu.currentDevelopingFeatuers.map((function(e,t){return o.a.createElement(he,null,"".concat(t+1,") ").concat(e))})),t=n.appContext.labels.headerMenu;return o.a.createElement($e,{style:kt.developingFeatureContainer},o.a.createElement(he,null,t.moreFeatureIsComingDescription),o.a.createElement(he,null,t.developingFeature),e)},n.LowerPortion=function(){return o.a.createElement($e,{style:kt.lowerPortionContainer},o.a.createElement(r.ContactInfomation,null),o.a.createElement(r.CloseButton,null))},n.MenuContainer=function(){return o.a.createElement($e,{style:kt.menuContainer},o.a.createElement(r.UpperPortion,null),o.a.createElement(r.LowerPortion,null))},n.UpperPortion=function(){var e=n.appContext.labels.headerMenu;return o.a.createElement($e,{style:kt.upperPortionContainer},o.a.createElement(r.UserProfileHeaderSection,null),o.a.createElement(r.DevelopingFeatures,null),o.a.createElement(he,null,e.bugReportDescription),o.a.createElement(vt,null),o.a.createElement($e,{style:kt.oAuthContainer},o.a.createElement(St,null)))},n.UserProfileHeaderSection=function(){var e=n.props.userProfile;return e.oAuthProvider!==R.NONE?o.a.createElement($e,{boxShadow:1,isFlexDirectionRow:!0,style:kt.userProfileHeaderSectionContainer},o.a.createElement(ge,{size:"miniCircularImage",src:e.imageUrl}),o.a.createElement(de,null,e.name),o.a.createElement(He,{onClick:n.props.onClickLogout,underline:!0},n.appContext.labels.headerMenu.logout)):null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.appContext.features.includes(f.HEADER_MENU)?o.a.createElement($e,{borderLeft:1,style:kt.menuIconContainer},o.a.createElement(yt.a,{style:kt.menuIcon,onClick:this.props.onClickMenu}),o.a.createElement(le,{anchor:"right",onClose:this.props.onCloseMenu,open:this.props.isMenuOpen},o.a.createElement(this.MenuContainer,null))):null}}]),t}(G),kt={developingFeatureContainer:{padding:15},lowerPortionContainer:{alignItems:"center",paddingTop:20,paddingBottom:20},menuIconContainer:{borderColor:Y.color.greyTransparent,marginLeft:18},menuIcon:Object(g.a)({color:Y.color.greyDark},Y.icon),menuContainer:{alignItems:"center",height:"inherit",justifyContent:"space-between",width:"inherit"},oAuthContainer:{marginTop:20,width:"inherit"},upperPortionContainer:{alignItems:"center",paddingTop:20,width:"inherit"},userProfileHeaderSectionContainer:{alignItems:"center",borderRadius:5,justifyContent:"space-between",padding:5,width:"inherit"}},wt=n(338),Tt=function(e){function t(){var e,n,r=this;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).CreateDealDrawer=function(){var e=n.appContext.features.includes(f.DEAL_LEGACY)?o.a.createElement(st,{onClickClose:n.props.onCloseCreateDeal}):o.a.createElement(Qe,{onClose:n.props.onCloseCreateDeal});return o.a.createElement(le,{anchor:"top",onClose:n.props.onCloseCreateDeal,open:n.props.isCreateDealDrawerOpen},e)},n.CreateNewDealButton=function(){return o.a.createElement(et.a,{onClick:n.props.onClickCreateDeal,style:It.createNewDealIcon})},n.HeaderTextAndLogo=function(){return o.a.createElement($e,null,o.a.createElement("img",{alt:"app-logo",src:gt.a,style:{width:100}}))},n.LocationButton=function(){var e,t=n.appContext.labels.header;return e=n.props.selectedAddress&&n.props.selectedAddress.area?n.props.selectedAddress.area:t.loading,o.a.createElement(Ct,{title:"".concat(t.currentLocation," ").concat(e)},o.a.createElement(tt.a,{style:It.locationIcon}))},n.TopBarSection=function(){return o.a.createElement($e,{isFlexDirectionRow:!0,style:It.buttonContainer},o.a.createElement(r.CreateNewDealButton,null),o.a.createElement(r.LocationButton,null),o.a.createElement(bt,null),o.a.createElement(r.UserProfileImage,null))},n.UserProfileImage=function(){return n.appContext.features.includes(f.USER_PROFILE_IN_HEADER)&&n.props.userProfile.oAuthProvider!==R.NONE?o.a.createElement($e,{style:It.userProfileImageContainer},o.a.createElement(wt.a,{src:n.props.userProfile.imageUrl})):null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement($e,{boxShadow:1,isFlexDirectionRow:!0,style:It.rootContainer},o.a.createElement(ht,null),o.a.createElement(this.CreateDealDrawer,null),o.a.createElement(this.HeaderTextAndLogo,null),o.a.createElement(this.TopBarSection,null)))}}]),t}(G),It={buttonContainer:{alignItems:"center",justifyContent:"space-between"},circularProgress:{marginLeft:5},createNewDealIcon:Object(g.a)({color:Y.color.primaryColor},Y.icon),createNewButton:{borderColor:Y.color.secondaryColor,borderRadius:Y.button.borderRadius,borderWidth:3},locationButtonContainer:{alignItems:"center",justifyContent:"center"},locationIcon:Object(g.a)({color:Y.color.greenMedium},Y.icon),rootContainer:{alignItems:"center",backgroundColor:Y.color.white,borderColor:Y.color.greyDark,justifyContent:"space-between",padding:15},searchMethodLabel:{backgroundColor:Y.remind.primaryColor,borderColor:Y.remind.primaryColor,borderRadius:Y.button.borderRadius,marginRight:10,borderWidth:3,paddingBottom:5,paddingTop:5},userProfileImageContainer:{marginLeft:15}},Lt=function(e){function t(){var e,n,r=this;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).LegacyDealsSection=function(){var e=(n.props.deals?n.props.deals:[]).map((function(e){var t=o.a.createElement(Q,{deal:e});return o.a.createElement(Ce,{bottomToolBarContent:t,onClick:function(){return n.props.onClickCard()},title:e.title},o.a.createElement(r.CardHeader,{address:e.address,timestamp:e.timestamp,title:e.title}),o.a.createElement(r.RichTextDescription,{description:e.description}))}));return o.a.createElement(o.a.Fragment,null,e)},n.CardHeader=function(e){var t=e.address,r=e.timestamp,a=e.title;return o.a.createElement(o.a.Fragment,null,o.a.createElement($e,{isFlexDirectionRow:!0,style:Pt.cardContainer},o.a.createElement(ce,null,a),o.a.createElement(he,null,r?n.appContext.transformer.timeDifferentCalcualtor(r):n.appContext.labels.date.unknown)),t?o.a.createElement(z,{address:t}):null)},n.RichTextDescription=function(e){var t=e.description;return o.a.createElement($e,{style:Object(g.a)({},Pt.detailSectionContainer,{textAlign:"justify"})},o.a.createElement("div",{style:{width:"inherit"},dangerouslySetInnerHTML:{__html:t}}))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(this.LegacyDealsSection,null)}}]),t}(G),Pt={cardContainer:{justifyContent:"space-between",width:"inherit"},detailSectionContainer:{width:"inherit"}},Rt=500,Ft=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).CardHeader=function(e){var t=e.address,r=e.timestamp,a=e.title;return o.a.createElement(o.a.Fragment,null,o.a.createElement($e,{isFlexDirectionRow:!0,style:_t.cardContainer},o.a.createElement(ce,null,a),o.a.createElement(he,null,r?n.appContext.transformer.timeDifferentCalcualtor(r):n.appContext.labels.date.unknown)),t?o.a.createElement(z,{address:t}):null)},n.ImageSection=function(){var e,t,r,a=n.props.deal,i=n.state.coverImageLoaded?{height:n.state.coverImageHeight}:_t.empty;return n.state.expanded?o.a.createElement(Ue,{dealIndex:null!==(e=a.id)&&void 0!==e?e:0,fileUrls:null!==(t=a.filesUrl)&&void 0!==t?t:[],height:n.state.coverImageHeight}):(null===(r=a.filesUrl)||void 0===r?void 0:r.length)?o.a.createElement("img",{alt:"cover",id:"deal-".concat(n.props.index," cover-image"),onLoad:n.onLoadImage,src:a.filesUrl[0],style:i}):null},n.onExpand=function(){n.setState({expanded:!n.state.expanded})},n.onLoadImage=function(){var e,t=null===(e=document.getElementById("deal-".concat(n.props.index," cover-image")))||void 0===e?void 0:e.clientHeight;t&&(console.debug(t),n.setState({coverImageHeight:t<Rt?t:Rt,coverImageLoaded:!0}))},n.state={coverImageHeight:150,coverImageLoaded:!1,expanded:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.DealCard())}},{key:"DealCard",value:function(){var e=this.props.deal,t=o.a.createElement(Q,{deal:this.props.deal}),n=null!==e.description&&""!==e.description||e.filesUrl.length>1;return o.a.createElement($e,{borderBottom:1,style:_t.rootContainer,onClick:this.onExpand},o.a.createElement(this.CardHeader,{address:e.address,timestamp:e.timestamp,title:e.title}),o.a.createElement($e,{style:_t.imageContainer},o.a.createElement(this.ImageSection,null)),o.a.createElement(ae,{allowExpand:n,bottomToolBarContent:t,expanded:this.state.expanded,onClickExpandSign:this.onExpand},e.description))}}]),t}(G),_t={cardContainer:{justifyContent:"space-between",width:"inherit"},empty:{},imageContainer:{alignItems:"center",justifyContent:"center",marginTop:5,width:"inherit"},rootContainer:{backgroundColor:Y.color.white,borderColor:Y.color.greyTransparent,padding:15,width:"inherit"}},Bt=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.deals.map((function(e,t){return o.a.createElement(Ft,{deal:e,index:t})}));return o.a.createElement(o.a.Fragment,null,e)}}]),t}(a.Component),Mt=function(e){function t(){var e,n,r=this;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).BodySection=function(){return o.a.createElement($e,{boxShadow:n.props.deals.length?1:0,style:Ut.dealSectionContainer},(function(){return n.props.deals.length?n.appContext.features.includes(f.DEAL_LEGACY)?o.a.createElement(Lt,n.props):o.a.createElement(Bt,{deals:n.props.deals}):n.props.isLoadingDeals?o.a.createElement(r.LoadingDeals,null):o.a.createElement(r.NoDealInArea,null)}))},n.LoadingDeals=function(){return o.a.createElement($e,{style:Ut.noDealInAreaContainer},o.a.createElement(he,null,n.appContext.labels.landingPage.loadingDeals))},n.NoDealInArea=function(){return o.a.createElement($e,{style:Ut.noDealInAreaContainer},o.a.createElement(he,null,n.appContext.labels.landingPage.noDeal))},n.TextFieldArea=function(){return o.a.createElement(Se,{defaultValue:n.props.textFieldValue,onBlur:function(){return n.props.onBlurTextField()},onChange:function(e){return n.props.onChangeSearchTextField(e)},onFocus:function(){return n.props.onFocusTextField()},text:n.appContext.labels.landingPage.area})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement($e,{style:Ut.rootContainer},o.a.createElement(this.BodySection,null))}}]),t}(G),Ut={circularProgress:{marginLeft:5},createNewButton:{borderColor:Y.color.secondaryColor,borderRadius:Y.button.borderRadius,borderWidth:3},dealSectionContainer:{alignItems:"center",width:"100%"},locationButtonContainer:{alignItems:"center",justifyContent:"center"},noDealInAreaContainer:{},rootContainer:{alignItems:"center",justifyContent:"center",padding:15,width:Y.dimension.FILL_ALL_WIDTH},searchButton:{borderColor:Y.remind.secondaryColor,borderRadius:Y.button.borderRadius,backgroundColor:Y.remind.secondaryColor,borderWidth:3},searchMethodLabel:{coordinate:{borderColor:Y.remind.primaryColor,borderRadius:Y.button.borderRadius,backgroundColor:Y.remind.primaryColor,borderWidth:3,paddingBottom:5,paddingTop:5},manual:{borderColor:Y.remind.secondaryColor,borderRadius:Y.button.borderRadius,backgroundColor:Y.remind.secondaryColor,borderWidth:3,paddingBottom:5,paddingTop:5}},slideImageContainer:{alightItems:"center",backgroundColor:"blue",justifyContent:"center"},topBarContainer:{justifyContent:"space-between",paddingTop:15,width:"100%"}},Nt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onBlurTextField=function(){console.debug("onBlurTextField")},n.onClickedCard=function(){console.debug("Card Clicked")},n.onClickedDealSection=function(){console.debug("onClickedDealSection"),n.setState({showSearchButton:!1})},n.onClickSearch=function(){console.debug("onClickSearch")},n.onClickDownVote=function(){console.debug("onClickDownVote")},n.onClickUpVote=function(){console.debug("onClickUpVote")},n.onChangeSearchTextField=function(e){console.debug("onChangeSearchTextField"),n.setState({})},n.onFocusTextField=function(){console.debug("onFocusTextField"),n.setState({showSearchButton:!0})},n.executeGetDeals=function(){var e;(null===(e=n.appState.address.selectedAddress)||void 0===e?void 0:e.area)&&n.appContext.serviceExecutor.execute(y(n.appState.address.selectedAddress)).then((function(e){n.setState({isLoading:!1}),n.appState.deal.setDeals(e.deals)}))},n.state={isCreateDealDrawerOpen:!1,isLoading:!0,showSearchButton:!1,textFieldValue:"",useAutoLocation:!0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(this.setCurrentPosition());case 2:return e.next=4,m.a.awrap(this.setCurrentAddress());case 4:return e.next=6,m.a.awrap(this.executeGetDeals());case 6:case"end":return e.stop()}}),null,this)}},{key:"setCurrentPosition",value:function(){var e=this;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.appContext.isMock){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return t.abrupt("return",new Promise((function(t,n){e.appContext.transformer.getCurrentLocation((function(n){return console.debug("Current Coordinate: ",n),e.appState.position.setGeolocation(n),t()}))})));case 3:case"end":return t.stop()}}),null,this)}},{key:"setCurrentAddress",value:function(){var e=this;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var a;e.appContext.serviceExecutor.execute((a={coordinate:e.appState.position.coordinate},{externalService:!1,method:"GET",hasMock:!0,isMultipartFileRequest:!1,url:"/position",optionalRequestParam:function(){return S(a)},serviceName:r.GET_CURRENT_ADDRESS})).then((function(n){return e.appState.address.setPredicteAddresses(n),e.appState.position.setLoadingPosition(!1),t()}))})));case 1:case"end":return t.stop()}}))}},{key:"sortDeals",value:function(e){return e.sort((function(e,t){return t.timestamp-e.timestamp}))}},{key:"render",value:function(){var e=this.state,t=(e.isCreateDealDrawerOpen,e.showSearchButton),n=e.textFieldValue,r=(e.useAutoLocation,this.sortDeals(this.appState.deal.deals?this.appState.deal.deals:[]));return o.a.createElement(Mt,{deals:r,executeGetDeals:this.executeGetDeals,isLoadingDeals:this.state.isLoading,onBlurTextField:this.onBlurTextField,onClickCard:this.onClickedCard,onClickDealSection:this.onClickedDealSection,onClickSearch:this.onClickSearch,onChangeSearchTextField:this.onChangeSearchTextField,onFocusTextField:this.onFocusTextField,selectedAddress:this.appState.address.selectedAddress,showSearchButton:t,textFieldValue:n})}}]),t}(G),Ht=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.checkOAuthFromUrl(),this.getUserProfile()}},{key:"checkOAuthFromUrl",value:function(){var e=this,t=this.checkOAuth(),n=t.authorizationCode;t.oAuthProvider===R.GOOGLE&&this.appContext.serviceExecutor.execute(function(e,t){return{externalService:!1,hasMock:!1,isMultipartFileRequest:!1,method:"POST",url:"/oauth/google",optionalRequestParam:function(){return j(["authorizationCode",e,"redirectUrl",t])},serviceName:r.LOGIN_OAUTH_GOOGLE}}(n,this.appContext.oAuthRedirectUrl)).then((function(){e.onOAuthLoginComplete(),e.getUserProfile()}))}},{key:"getUserProfile",value:function(){var e=this;this.appContext.serviceExecutor.execute({externalService:!1,hasMock:!0,isMultipartFileRequest:!1,method:"GET",url:"/userProfile",serviceName:r.GET_USER_PROFILE}).then((function(t){return e.appState.user.setUserProfile(t)}))}}]),t}(G),Gt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).removeUserProfile=function(){var e={id:0,imageUrl:"",name:"",oAuthProvider:R.NONE};n.setState({user:Object(g.a)({},n.state.user,{userProfile:e})})},n.setDeals=function(e){n.setState({deal:Object(g.a)({},n.state.deal,{deals:e})})},n.setCreateDealUploading=function(e){n.setState({createDeal:Object(g.a)({},n.state.createDeal,{uploading:e})})},n.setCreateDealProgressMessage=function(e){n.setState({createDeal:Object(g.a)({},n.state.createDeal,{progressMessage:e})})},n.setGeolocation=function(e){n.setState({position:Object(g.a)({},n.state.position,{coordinate:e})})},n.setLoadingPosition=function(e){n.setState({position:Object(g.a)({},n.state.position,{loadingPosition:e})})},n.setPredicteAddresses=function(e){n.setState({address:Object(g.a)({},n.state.address,{addressesPrediction:e})})},n.setSelectedAddress=function(e){n.setState({address:Object(g.a)({},n.state.address,{selectedAddress:e})})},n.setUserProfile=function(e){n.setState({user:Object(g.a)({},n.state.user,{userProfile:e})})},n.state={address:{addressesPrediction:[],selectedAddress:{area:"",street1:"",street2:"",city:"",state:"",country:"",zipCode:""}},createDeal:{uploading:!1,progressMessage:""},deal:{deals:[]},position:{loadingPosition:!0,coordinate:{latitude:0,longitude:0}},user:{userProfile:{id:0,name:"",imageUrl:"",oAuthProvider:R.NONE}}},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.address,n=e.createDeal,r=e.deal,a=e.position,i=e.user;return o.a.createElement(H.Provider,{value:{address:Object(g.a)({},t,{setSelectedAddress:this.setSelectedAddress,setPredicteAddresses:this.setPredicteAddresses}),createDeal:Object(g.a)({},n,{setCreateDealUploading:this.setCreateDealUploading,setCreateDealProgressMessage:this.setCreateDealProgressMessage}),deal:Object(g.a)({},r,{setDeals:this.setDeals}),position:Object(g.a)({},a,{setGeolocation:this.setGeolocation,setLoadingPosition:this.setLoadingPosition}),user:Object(g.a)({},i,{removeUserProfile:this.removeUserProfile,setUserProfile:this.setUserProfile})}},this.props.children)}}]),t}(a.Component),Vt=(n(271),n(272),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(Yt,null)}}]),t}(G)),Wt=n(326),zt=n(327),qt=n(328),Yt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).UploadProgress=function(){var e=Xt();return o.a.createElement(o.a.Fragment,null,o.a.createElement($e,{style:Jt.uploadObjectContainer},o.a.createElement(we,{color:"black"},n.appState.createDeal.progressMessage)),o.a.createElement(Wt.a,{classes:{barColorPrimary:e.barColorPrimary,colorPrimary:e.colorPrimary},style:Jt.linearProgressor}))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.appState.createDeal.uploading?o.a.createElement(zt.a,{position:"sticky",style:{backgroundColor:"white"}},o.a.createElement(this.UploadProgress,null)):null}}]),t}(G),Jt={linearProgressor:{color:"pink",width:"inherit"},rootContainer:{alignItems:"start",borderColor:Y.color.greyDark,justifyContent:"center",width:"inherit"},uploadObjectContainer:{paddingBottom:10,paddingLeft:15,paddingRight:15,paddingTop:10}},Xt=Object(qt.a)({barColorPrimary:{background:Y.color.primaryGradient},colorPrimary:{backgroundColor:Y.color.primaryColorTransparent}}),Kt=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(Gt,null,o.a.createElement(Ht,null),o.a.createElement("div",{className:"App-header"},o.a.createElement(W,null)),o.a.createElement(Vt,null),o.a.createElement("div",{className:"Content"},o.a.createElement(Nt,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(Kt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},56:function(e,t,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.e8ffed4f.chunk.js.map