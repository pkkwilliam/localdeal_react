(this.webpackJsonplocal_deal=this.webpackJsonplocal_deal||[]).push([[10],{44:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(3),o=a(10),l=a(9),i=a(11),c=a(0),s=a.n(c),d=a(16),u=a(59),m=a(14),p=a(5),h=500,g=Object(m.a)(p.a.CollapseCard),f=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).CardHeader=function(e){var t=e.address,n=e.timestamp,r=e.title;return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.m,{isFlexDirectionRow:!0,style:b.cardContainer},s.a.createElement(u.d,null,r),s.a.createElement(u.f,null,n?a.appContext.transformer.timeDifferentCalcualtor(n):a.appContext.labels.date.unknown)),t?s.a.createElement(u.a,{address:t}):null)},a.ImageSection=function(){var e,t,n,r=a.props.deal,o=a.state.coverImageLoaded?{height:a.state.coverImageHeight}:b.empty;return a.state.expanded?s.a.createElement(u.k,{dealIndex:null!==(e=r.id)&&void 0!==e?e:0,fileUrls:null!==(t=r.filesUrl)&&void 0!==t?t:[],height:a.state.coverImageHeight}):(null===(n=r.filesUrl)||void 0===n?void 0:n.length)?s.a.createElement("img",{alt:"cover",id:"deal-".concat(a.props.index," cover-image"),onLoad:a.onLoadImage,src:r.filesUrl[0],style:o}):null},a.onExpand=function(){a.setState({expanded:!a.state.expanded})},a.onLoadImage=function(){var e,t=null===(e=document.getElementById("deal-".concat(a.props.index," cover-image")))||void 0===e?void 0:e.clientHeight;t&&(console.debug(t),a.setState({coverImageHeight:t<h?t:h,coverImageLoaded:!0}))},a.state={coverImageHeight:150,coverImageLoaded:!1,expanded:!1},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.DealCard())}},{key:"DealCard",value:function(){var e=this.props.deal,t=s.a.createElement(u.c,{deal:this.props.deal}),a=null!==e.description&&""!==e.description||e.filesUrl.length>1;return s.a.createElement(u.m,{borderBottom:1,style:b.rootContainer,onClick:this.onExpand},s.a.createElement(this.CardHeader,{address:e.address,timestamp:e.timestamp,title:e.title}),s.a.createElement(u.m,{style:b.imageContainer},s.a.createElement(this.ImageSection,null)),s.a.createElement(g,{allowExpand:a,bottomToolBarContent:t,expanded:this.state.expanded,onClickExpandSign:this.onExpand},e.description))}}]),t}(d.a),b={cardContainer:{justifyContent:"space-between",width:"inherit"},empty:{},imageContainer:{alignItems:"center",justifyContent:"center",marginTop:5,width:"inherit"},rootContainer:{backgroundColor:u.n.color.white,borderColor:u.n.color.greyTransparent,padding:15,width:"inherit"}},C=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.deals.map((function(e,t){return s.a.createElement(f,{deal:e,index:t})}));return s.a.createElement(s.a.Fragment,null,e)}}]),t}(c.Component),v=function(e){function t(){var e,a,r=this;Object(n.a)(this,t);for(var i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).BodySection=function(){return s.a.createElement(u.m,{boxShadow:a.props.deals.length?1:0,style:E.dealSectionContainer},(function(){return a.props.deals.length?s.a.createElement(C,{deals:a.props.deals}):a.props.isLoadingDeals?s.a.createElement(r.LoadingDeals,null):s.a.createElement(r.NoDealInArea,null)}))},a.LoadingDeals=function(){return s.a.createElement(u.m,{style:E.noDealInAreaContainer},s.a.createElement(u.f,null,a.appContext.labels.landingPage.loadingDeals))},a.NoDealInArea=function(){return s.a.createElement(u.m,{style:E.noDealInAreaContainer},s.a.createElement(u.f,null,a.appContext.labels.landingPage.noDeal))},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(u.m,{style:E.rootContainer},s.a.createElement(this.BodySection,null))}}]),t}(d.a),E={dealSectionContainer:{alignItems:"center",width:"100%"},locationButtonContainer:{alignItems:"center",justifyContent:"center"},noDealInAreaContainer:{},rootContainer:{alignItems:"center",justifyContent:"center",padding:15,width:u.n.dimension.FILL_ALL_WIDTH},searchButton:{borderColor:u.n.remind.secondaryColor,borderRadius:u.n.button.borderRadius,backgroundColor:u.n.remind.secondaryColor,borderWidth:3}};a(7),a(25);a.d(t,"default",(function(){return y}));var y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={isLoading:!0},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"sortDeals",value:function(e){return e.sort((function(e,t){return t.timestamp-e.timestamp}))}},{key:"render",value:function(){var e=this.sortDeals(this.appState.deal.deals?this.appState.deal.deals:[]);return s.a.createElement(v,{deals:e,isLoadingDeals:this.state.isLoading})}}]),t}(d.a)}}]);
//# sourceMappingURL=10.7f0d9342.chunk.js.map