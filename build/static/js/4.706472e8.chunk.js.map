{"version":3,"sources":["../node_modules/@material-ui/icons/esm/Close.js","../node_modules/@material-ui/icons/esm/FolderOpen.js","../node_modules/@material-ui/icons/esm/HelpOutline.js","../node_modules/@material-ui/icons/esm/Delete.js","component/createDealLandingPage/createDealLandingPage.v2.view.tsx","component/createDealLandingPage/createDealLandingPage.v2.tsx"],"names":["createSvgIcon","React","createElement","d","CreateDealLandingPageV2View","AddImageButton","Frame","accept","onChange","event","props","onAddFile","style","display","id","multiple","type","htmlFor","Button","component","styles","addIconButton","Add","scale","addIcon","AddressSelection","addressDisplay","selectedAddress","SelectedAddress","AddressBubble","MissingSectionLabel","hide","hasAddress","label","appContext","labels","createDealPageV2","missingAddress","isFlexDirectionRow","addressSectionContainer","locationIcon","bubbles","appState","address","addressesPrediction","map","border","onClick","onClickAddress","addressBubbleContainer","whiteSpace","color","styleSchema","secondaryColor","formattedAddress","addressSelectionContainer","BottomButtonSecton","bottomButtonSectionContainer","DraftButton","SubmitButton","CloseButton","Close","onClose","closeIcon","Description","multiline","onChangeDescription","placeholder","descriptionPlaceHolder","rows","onClickSaveDraft","draftButton","draftButtonContainer","FolderOpen","draftIcon","saveDraft","FileSection","images","files","image","ImageContainer","length","allowNumberOfFile","push","hasField","missingField","fileSectionContainer","Header","headerContainer","ImageDimensionTips","alt","src","base64Value","imageStyle","objectFit","imageDimensionTipsContainer","HelpOutline","imageDimensionTipsIcon","imageDimensionTips","children","frameContainer","fontWeight","selectedAddressContainer","selectedAddressText","Delete","onClickRemoveSelectedAddress","deleteIcon","onClickSubmit","submitPost","Title","onChangeTitle","titlePlaceHolder","rootContainer","ApplicationComponent","greyTransparent","fontSize","borderRadius","borderColor","paddingTop","paddingBottom","paddingLeft","paddingRight","marginRight","overflow","alignItems","marginTop","width","justifyContent","marginBottom","greyDark","descriptionTextField","padding","backgroundColor","secondaryColorTransparent","margin","maxHeight","maxWidth","minHeight","minWidth","red","marginLeft","black","titleTextField","CreateDealLandingPageV2","console","debug","fileList","target","i","convertImageToBase64","description","setState","title","undefined","a","async","verifyInput","onSubmit","createDeal","setCreateDealUploading","setCreateDealProgressMessage","uploadingImage","Promise","all","state","file","imageProcessor","imagePrecprocess","imageBlob","serviceExecutor","execute","GET_PRESIGNED_URL","name","fileUploadResponse","UPLOAD_IMAGE_SIGNED_URL","preSignedUrl","url","then","imageUploadResult","uploadingDeal","filesUrl","serverIdentifierName","area","timestamp","CREATE_DEAL","GET_DEALS","result","deal","setDeals","deals","setTimeout","catch","uploadCompleted","blobFiles","this","fileReader","FileReader","onload","changeEvent","fixRotation","toString","fixedRotation","concat","readAsDataURL"],"mappings":"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","file":"static/js/4.706472e8.chunk.js","sourcesContent":["import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z\"\n}), 'FolderOpen');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\"\n}), 'HelpOutline');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'Delete');","import ApplicationComponent from \"../../common/applicationComponent\";\nimport React, { ReactNode, ChangeEvent } from \"react\";\nimport {\n  View,\n  styleSchema,\n  PrimaryButton,\n  MiniText,\n  H5,\n  P\n} from \"../../common\";\nimport {\n  Add as AddIcon,\n  Close as CloseIcon,\n  Delete as DeleteIcon,\n  FolderOpen as FolderOpenIcon,\n  HelpOutline as HelpOutlineIcon,\n  Room as LocationIcon\n} from \"@material-ui/icons\";\nimport { Button } from \"@material-ui/core\";\nimport TextField from \"../../common/textField\";\nimport { Address } from \"../../modal/deal\";\nimport { FileDetail } from \"../../modal/fileDetal\";\n\ninterface Props {\n  allowNumberOfFile: number;\n  files: FileDetail[];\n  hasAddress: boolean;\n  hasField: boolean;\n  onAddFile: (event: ChangeEvent<HTMLInputElement>) => void;\n  onChangeDescription: (description: string) => void;\n  onChangeTitle: (title: string) => void;\n  onClickAddress: (address: Address) => void;\n  onClickRemoveSelectedAddress: () => void;\n  onClickSaveDraft: () => void;\n  onClickSubmit: () => void;\n  onClose: () => void;\n  selectedAddress?: Address;\n}\n\nexport default class CreateDealLandingPageV2View extends ApplicationComponent<\n  Props\n> {\n  render() {\n    return (\n      <View style={styles.rootContainer}>\n        <this.Header />\n        <this.FileSection />\n        <this.Title />\n        <this.Description />\n        <this.AddressSelection />\n        <this.BottomButtonSecton />\n      </View>\n    );\n  }\n\n  protected AddImageButton = () => {\n    return (\n      <this.Frame>\n        <input\n          accept=\"image/*\"\n          onChange={event => this.props.onAddFile(event)}\n          style={{ display: \"none\" }}\n          id=\"raised-button-file\"\n          multiple\n          type=\"file\"\n        />\n        <label htmlFor=\"raised-button-file\">\n          <Button component=\"span\" style={styles.addIconButton}>\n            <AddIcon scale=\"big\" style={styles.addIcon} />\n          </Button>\n        </label>\n      </this.Frame>\n    );\n  };\n\n  protected AddressSelection = () => {\n    const addressDisplay = this.props.selectedAddress ? (\n      <this.SelectedAddress />\n    ) : (\n      <this.AddressBubble />\n    );\n    return (\n      <>\n        <this.MissingSectionLabel\n          hide={this.props.hasAddress}\n          label={this.appContext.labels.createDealPageV2.missingAddress}\n        />\n        <View isFlexDirectionRow style={styles.addressSectionContainer}>\n          <LocationIcon style={styles.locationIcon} />\n          {addressDisplay}\n        </View>\n      </>\n    );\n  };\n\n  protected AddressBubble = () => {\n    const bubbles = this.appState.address.addressesPrediction.map(address => {\n      return (\n        <View\n          border={1}\n          onClick={() => this.props.onClickAddress(address)}\n          style={{ ...styles.addressBubbleContainer, whiteSpace: \"nowrap\" }}\n        >\n          <P style={{ color: styleSchema.color.secondaryColor }}>\n            {address.formattedAddress}\n          </P>\n        </View>\n      );\n    });\n    return (\n      <View isFlexDirectionRow style={styles.addressSelectionContainer}>\n        {bubbles}\n      </View>\n    );\n  };\n\n  protected BottomButtonSecton = () => {\n    return (\n      <View isFlexDirectionRow style={styles.bottomButtonSectionContainer}>\n        <this.DraftButton />\n        <this.SubmitButton />\n      </View>\n    );\n  };\n\n  protected CloseButton = () => {\n    return <CloseIcon onClick={this.props.onClose} style={styles.closeIcon} />;\n  };\n\n  protected Description = () => {\n    return (\n      <TextField\n        multiline\n        onChange={this.props.onChangeDescription}\n        placeholder={\n          this.appContext.labels.createDealPageV2.descriptionPlaceHolder\n        }\n        rows={6}\n      />\n    );\n  };\n\n  protected DraftButton = () => {\n    return (\n      <Button onClick={this.props.onClickSaveDraft} style={styles.draftButton}>\n        <View style={styles.draftButtonContainer}>\n          <FolderOpenIcon style={styles.draftIcon} />\n          <MiniText color=\"secondary\">\n            {this.appContext.labels.createDealPageV2.saveDraft}\n          </MiniText>\n        </View>\n      </Button>\n    );\n  };\n\n  protected FileSection = () => {\n    const images: ReactNode[] = this.props.files.map(image => (\n      <this.ImageContainer image={image} />\n    ));\n    if (this.props.files.length < this.props.allowNumberOfFile) {\n      images.push(<this.AddImageButton />);\n    }\n    return (\n      <>\n        <this.MissingSectionLabel\n          hide={this.props.hasField}\n          label={this.appContext.labels.createDealPageV2.missingField}\n        />\n        <View isFlexDirectionRow style={styles.fileSectionContainer}>\n          {images}\n        </View>\n      </>\n    );\n  };\n\n  protected Header = () => {\n    return (\n      <View isFlexDirectionRow style={styles.headerContainer}>\n        <this.ImageDimensionTips />\n        <this.CloseButton />\n      </View>\n    );\n  };\n\n  protected ImageContainer = ({ image }: { image: FileDetail }) => {\n    return (\n      <this.Frame>\n        <img\n          alt={\"user-input\"}\n          src={image.base64Value}\n          style={{ ...styles.imageStyle, objectFit: \"cover\" }}\n        />\n      </this.Frame>\n    );\n  };\n\n  protected ImageDimensionTips = () => {\n    return (\n      <View isFlexDirectionRow style={styles.imageDimensionTipsContainer}>\n        <HelpOutlineIcon style={styles.imageDimensionTipsIcon} />\n        <H5>{this.appContext.labels.createDealPageV2.imageDimensionTips}</H5>\n      </View>\n    );\n  };\n\n  protected Frame = ({ children }: { children: ReactNode }) => {\n    return (\n      <View border={1} style={styles.frameContainer}>\n        {children}\n      </View>\n    );\n  };\n\n  protected MissingSectionLabel = ({\n    label,\n    hide\n  }: {\n    label: string;\n    hide: boolean;\n  }) => {\n    return hide ? null : (\n      <P style={{ color: \"red\", fontWeight: \"bold\" }}>{label}</P>\n    );\n  };\n\n  protected SelectedAddress = () => {\n    return (\n      <View isFlexDirectionRow style={styles.selectedAddressContainer}>\n        <P style={styles.selectedAddressText}>\n          {this.props.selectedAddress?.formattedAddress ?? \"\"}\n        </P>\n        <DeleteIcon\n          onClick={this.props.onClickRemoveSelectedAddress}\n          style={styles.deleteIcon}\n        />\n      </View>\n    );\n  };\n\n  protected SubmitButton = () => {\n    return (\n      <PrimaryButton onClick={this.props.onClickSubmit}>\n        {this.appContext.labels.createDealPageV2.submitPost}\n      </PrimaryButton>\n    );\n  };\n\n  protected Title = () => {\n    return (\n      <TextField\n        onChange={this.props.onChangeTitle}\n        placeholder={this.appContext.labels.createDealPageV2.titlePlaceHolder}\n      />\n    );\n  };\n}\n\nconst styles = {\n  addIcon: {\n    color: styleSchema.color.greyTransparent,\n    fontSize: \"80\"\n  },\n  addIconButton: {\n    borderRadius: 10\n  },\n  addressBubbleContainer: {\n    borderColor: styleSchema.color.secondaryColor,\n    borderRadius: 30,\n    paddingTop: 2,\n    paddingBottom: 2,\n    paddingLeft: 10,\n    paddingRight: 10,\n    marginRight: 5\n  },\n  addressSelectionContainer: {\n    overflow: \"scroll\",\n    paddingBottom: 10\n  },\n  addressSectionContainer: {\n    alignItems: \"center\",\n    marginTop: 5,\n    width: \"inherit\"\n  },\n  bottomButtonSectionContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: 20,\n    marginTop: 20,\n    width: \"inherit\"\n  },\n  closeIcon: {\n    color: styleSchema.color.greyDark\n  },\n  deleteIcon: {\n    color: styleSchema.color.greyDark\n  },\n  descriptionTextField: {\n    marginTop: 10,\n    width: \"inherit\"\n  },\n  draftButton: {\n    padding: 0\n  },\n  draftButtonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  draftIcon: {\n    backgroundColor: styleSchema.color.secondaryColorTransparent,\n    borderRadius: 25,\n    color: styleSchema.color.secondaryColor,\n    fontSize: 16,\n    marginBottom: 1,\n    padding: 3\n  },\n  fileSectionContainer: {\n    alignItems: \"start\",\n    overflow: \"scroll\",\n    paddingBottom: 10,\n    paddingTop: 10,\n    width: \"inherit\"\n  },\n  frameContainer: {\n    alignItems: \"center\",\n    borderColor: styleSchema.color.greyTransparent,\n    borderRadius: 10,\n    justifyContent: \"center\",\n    margin: 5,\n    maxHeight: 80,\n    maxWidth: 80,\n    minHeight: 80,\n    minWidth: 80\n  },\n  headerContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 15,\n    width: \"inherit\"\n  },\n  imageDimensionTipsContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  imageDimensionTipsIcon: {\n    color: styleSchema.color.secondaryColor,\n    fontSize: 18\n  },\n  imageStyle: {\n    borderRadius: 10,\n    minHeight: \"inherit\",\n    minWidth: \"inherit\"\n  },\n  locationIcon: {\n    color: styleSchema.color.red,\n    marginLeft: -5,\n    marginRight: 3,\n    paddingBottom: 10\n  },\n  rootContainer: {\n    width: \"inherit\"\n  },\n  selectedAddressContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingBottom: 10,\n    width: \"inherit\"\n  },\n  selectedAddressText: {\n    color: styleSchema.color.black\n  },\n  titleTextField: {\n    marginTop: 10,\n    width: \"inherit\"\n  }\n};\n","import React, { ChangeEvent } from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { CreateDealLandingPageV2View } from \"./\";\nimport Deal, { Address, GetDealResponse } from \"../../modal/deal\";\nimport {\n  CREATE_DEAL,\n  UPLOAD_IMAGE_SIGNED_URL,\n  GET_PRESIGNED_URL\n} from \"../../common/middleware/service\";\nimport { GET_DEALS } from \"../../common/middleware/service\";\nimport { FileUploadResponse } from \"../../modal/fileUploadResponse\";\nimport { FileDetail } from \"../../modal/fileDetal\";\n\nconst ALLOWED_NUMBER_OF_FILE = 9;\n\ninterface Props {\n  onClose: () => void;\n}\n\ninterface State {\n  blobFiles: any[];\n  description: string;\n  files: FileDetail[];\n  hasAddress: boolean;\n  hasField: boolean;\n  selectedAddress?: Address;\n  title: string;\n}\n\nexport default class CreateDealLandingPageV2 extends ApplicationComponent<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      files: [],\n      blobFiles: [],\n      description: \"\",\n      hasAddress: true,\n      hasField: true,\n      title: \"\"\n    };\n  }\n\n  render() {\n    return (\n      <CreateDealLandingPageV2View\n        allowNumberOfFile={ALLOWED_NUMBER_OF_FILE}\n        files={this.state.files}\n        onAddFile={this.onAddFile}\n        onChangeDescription={this.onChangeDescription}\n        onChangeTitle={this.onChangeTitle}\n        onClickAddress={this.onClickAddress}\n        onClickRemoveSelectedAddress={this.onClickRemoveSelectedAddress}\n        onClickSaveDraft={this.onClickSaveDraft}\n        onClickSubmit={this.onClickSubmit}\n        onClose={this.props.onClose}\n        hasAddress={this.state.hasAddress}\n        hasField={this.state.hasField}\n        selectedAddress={this.state.selectedAddress}\n      />\n    );\n  }\n\n  protected onAddFile = (event: ChangeEvent<HTMLInputElement>) => {\n    console.debug(\"onAddImage\");\n    const fileList = event.target.files;\n    if (fileList !== null) {\n      for (let i = 0; i < fileList.length; i++) {\n        this.convertImageToBase64(fileList[i]);\n      }\n    }\n  };\n\n  protected async convertImageToBase64(image: File) {\n    const fileReader: FileReader = new FileReader();\n    fileReader.onload = changeEvent => {\n      if (changeEvent.target && changeEvent.target.result) {\n        this.imageProcessor\n          .fixRotation(changeEvent.target.result.toString())\n          .then(fixedRotation => {\n            this.setState({\n              files: this.state.files.concat({\n                base64Value: fixedRotation,\n                name: image.name,\n                type: image.type\n              })\n            });\n          });\n      }\n    };\n    fileReader.readAsDataURL(image);\n  }\n\n  protected onChangeDescription = (description: string) => {\n    console.debug(\"onChangeDescription\");\n    this.setState({\n      description\n    });\n  };\n\n  protected onChangeTitle = (title: string) => {\n    console.debug(\"onChangeTitle\");\n    this.setState({\n      title\n    });\n  };\n\n  protected onClickAddress = (selectedAddress: Address) => {\n    console.debug(\"onClickAddress\");\n    this.setState({\n      selectedAddress\n    });\n  };\n\n  protected onClickRemoveSelectedAddress = () => {\n    console.debug(\"onClickRemoveSelectedAddress\");\n    this.setState({\n      selectedAddress: undefined\n    });\n  };\n\n  protected onClickSaveDraft = () => {\n    console.debug(\"onClickSaveDraft\");\n  };\n\n  protected onClickSubmit = async () => {\n    console.debug(\"onClickSubmit\");\n    if (this.verifyInput()) {\n      this.onSubmit();\n    }\n  };\n\n  protected onSubmit = async () => {\n    console.debug(\"start to submit a new deal\");\n    await this.appState.createDeal.setCreateDealUploading(true);\n    this.props.onClose();\n    const labels = this.appContext.labels.createDealPageV2;\n    await this.appState.createDeal.setCreateDealProgressMessage(\n      labels.uploadingImage\n    );\n    const imageUploadResult = await Promise.all(\n      this.state.files.map(async file => {\n        const imageBlob: File = await this.imageProcessor.imagePrecprocess(\n          file.base64Value\n        );\n        const fileUploadResponse: FileUploadResponse = await this.appContext.serviceExecutor.execute(\n          GET_PRESIGNED_URL(file.type, file.name)\n        );\n        await this.appContext.serviceExecutor.execute(\n          UPLOAD_IMAGE_SIGNED_URL(\n            imageBlob,\n            fileUploadResponse.preSignedUrl ?? \"\"\n          )\n        );\n        return fileUploadResponse.url;\n      })\n    ).then(url => url);\n\n    await this.appState.createDeal.setCreateDealProgressMessage(\n      labels.uploadingDeal\n    );\n    const createDeal: Deal = {\n      address: this.state.selectedAddress,\n      description: this.state.description,\n      filesUrl: imageUploadResult.map(url => url ?? \"\"),\n      serverIdentifierName: this.state.selectedAddress?.area,\n      timestamp: 0,\n      title: this.state.title\n    };\n    await this.appContext.serviceExecutor.execute(CREATE_DEAL(createDeal));\n    if (this.state.selectedAddress) {\n      await this.appContext.serviceExecutor\n        .execute(GET_DEALS(this.state.selectedAddress))\n        .then((result: GetDealResponse) => {\n          this.appState.deal.setDeals(result.deals);\n        })\n        .then(() => {\n          setTimeout(() => {\n            this.appState.createDeal.setCreateDealUploading(false);\n          }, 5000);\n        })\n        .catch(() => {\n          console.debug(\"something weng wrong while creating deal\");\n        });\n    }\n    await this.appState.createDeal.setCreateDealProgressMessage(\n      labels.uploadCompleted\n    );\n  };\n\n  protected verifyInput(): boolean {\n    const state = this.state;\n    let hasAddress = state.selectedAddress !== undefined;\n    let hasField: boolean =\n      state.title !== \"\" || state.description !== \"\" || state.files.length > 0;\n    this.setState({\n      hasAddress,\n      hasField\n    });\n    return hasAddress && hasField;\n  }\n}\n"],"sourceRoot":""}