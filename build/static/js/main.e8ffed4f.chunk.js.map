{"version":3,"sources":["resouces/logo_icon_character-min.png","common/middleware/service.ts","common/feature/feature.ts","common/middleware/serviceExecutor.ts","common/transformer.ts","common/feature/oAuthProvider.ts","common/appContext.ts","common/imageProcessor.ts","common/context/appState.ts","common/applicationComponent.tsx","common/toast/toastSeverity.ts","component/header/header.tsx","common/addressDisplay.tsx","common/stylesheet.ts","common/backgroundTheme.tsx","common/cardBottomVote.tsx","common/collapseCard.tsx","common/drawerMenu.tsx","common/h1.tsx","common/h4.tsx","common/h5.tsx","common/image.tsx","common/localDealCard.tsx","common/localDealTextField.tsx","common/miniText.tsx","common/primaryButton.tsx","common/paragraph.tsx","common/richTextEditor.tsx","common/slide/slide.tsx","common/textButton.tsx","common/textField.tsx","common/toast/toast.tsx","common/twinButton.tsx","common/view.tsx","component/createDealLandingPage/createDealLandingPage.v2.tsx","component/createDealLandingPage/createDealLandingPage.v2.view.tsx","component/createDealLandingPage/createDealLandingPage.tsx","component/createDealLandingPage/createDealLandingPage.view.tsx","component/createDealLandingPage/legacyCreateDeal.view.tsx","component/addressPrediction/addressPrediction.tsx","common/ToolTips.tsx","component/menu/headerMenu.tsx","component/login/login.tsx","component/login/login.view.tsx","component/oAuth/oAuth.tsx","component/oAuth/oAuth.view.tsx","component/menu/headerMenu.view.tsx","component/header/header.view.tsx","component/landingPage/dealSection/dealSection.view.tsx","component/landingPage/dealSection/dealSectionV2/dealCardV2.tsx","component/landingPage/dealSection/dealSectionV2/dealSection.v2.view.tsx","component/landingPage/landingPage.view.tsx","component/landingPage/landingPage.tsx","component/init/init.tsx","common/context/globalStateComponent.tsx","component/banner/banner.tsx","component/banner/banner.view.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","ServiceName","Feature","CREATE_DEAL","deal","body","JSON","stringify","externalService","hasMock","isMultipartFileRequest","method","url","serviceName","CREATE_VOTE","voteRequest","GET_DEALS","address","optionalRequestParam","generateParameter","area","GET_PRESIGNED_URL","fileType","fileName","LOGOUT_OAUTH","UPLOAD_IMAGE","image","UPLOAD_IMAGE_SIGNED_URL","signedUrl","customHeader","type","generateCurrentAreaRequestParameter","currentArea","console","debug","areaName","coordinate","latitude","longitude","warn","generateMultipleUrlParameters","keyAndValue","parameter","length","i","key","value","ServiceExecutor","isMock","serviceUrl","headers","generateHeaders","endpoint","this","Promise","resolve","getResponse","requestParam","requestUrl","fetch","credentials","mode","then","result","isJsonResponse","get","match","status","json","reject","catch","exception","response","parse","ex","GET_DEALS_RESPONSE","GET_CURRENT_ADDRESS","GET_POSITION_RESPONSE","GET_USER_PROFILE","deals","id","street1","street2","city","formattedAddress","state","zipCode","country","description","filesUrl","serverIdentifierName","title","timestamp","name","imageUrl","oAuthProvider","Transformer","_lables","currentDate","Date","dateCreated","timeDifference","getTime","getLabelAccrodingToTimeDifference","date","unknown","dayDifferent","Math","round","HOUR","day","today","callBack","navigator","geolocation","getCurrentPosition","position","coords","OAuthProvider","AppContext","ALLOW_DEAL_REFRESH","DEAL_REFRESH_TIME","APIKEY","X_MADT_APPID","X_MADT_APP_VERSION","_serviceExecutor","_transformer","labels","isAllowDealRefresh","CREATE_DEAL_DRAFT","CONTACT_SHOW_EMAIL","HEADER_MENU","LOGIN_GOOGLE_OAUTH","LOGIN_WECHAT_OAUTH","XMADTAPPID","XMADTAPPVERSION","chineseTraditionalLabel","isProd","ImageProcessor","file","imageType","height","width","quality","Resizer","imageFileResizer","processedImage","Image","src","URL","createObjectURL","onload","size","transferToBlob","blob","getImageInfo","imageCompressQuality","imageCompress","originalImage","loadImage","img","toDataURL","guessImageMime","orientation","data","charAt","React","createContext","ApplicationComponent","_appContext","_imageProcessor","search","window","location","params","URLSearchParams","code","NONE","authorizationCode","GOOGLE","history","pushState","document","context","Component","contextType","AppState","ToastSeverity","Header","props","onClickCreateDeal","setState","isCreateDealDrawerOpen","onClickHamburgerMenu","isHamburgerMenuDrawerOpen","onCloseCreateDeal","onCloseHamburgerMenu","onClickLocationButton","useAutoLocation","selectedAddress","appState","userProfile","user","AddressDisplay","isFlexDirectionRow","generateAddressWithSpace","input","ORANGE_GRADIENT","styleSchema","button","borderRadius","color","black","blueTransparent","green","greenMedium","greyDark","greyLight","greyTransparent","orange","orangeGradient","orangeTransparent","primaryColor","primaryGradient","primaryColorTransparent","red","redDark","secondaryColor","secondaryColorTransparent","systemError","systemInform","systemSuccess","systemWarn","white","common","borderColor","dimension","FILL_ALL_HEIGHT","FILL_ALL_WIDTH","font","fontSize","primaryFont","icon","marginLeft","remind","textField","borderWidth","BackgroundTheme","themeStyle","theme","styles","secondaryTheme","primaryTheme","style","rootContainer","children","alignItems","backgroundColor","CardBottomVote","VoteButton","voteCount","voteUpIcon","buttonContainerStyle","iconStyle","voted","VotedButtonContainer","mainIconStyle","votedIcon","VoteButtonContainer","voteIcon","voteFunction","onPressUpVote","onPressDownVote","buttonContainer","Button","disabled","onClick","iconButton","ThumbUp","ThumbDown","componentStyle","createVoteRequest","upVote","a","async","appContext","serviceExecutor","execute","getDealResponse","setDeals","vote","downVote","marginRight","paddingRight","paddingTop","paddingBottom","padding","marginTop","CollapseCard","BottomToolBar","bottonToolBar","alignSelf","bottomToolBarContent","ExpandSign","ExpandLessSign","localDealCardPage","collapse","ExpandLess","expandSignIcon","ExpandMoreSign","expand","ExpandMore","allowExpand","onClickExpandSign","expandSignButton","expanded","textAlign","Collapse","in","collapsedContentContainer","empty","justifyContent","paddingLeft","DrawerMenu","Drawer","H1","getDefaultStyle","getDefaultColor","getColor","defaultStyle","getStyle","text","margin","fontFamily","fontWeight","H4","H5","alt","getImageSizeStyle","bigImage","mediumImage","miniCircularImage","smallImage","LocalDealCard","contentRef","contentNeedCollapse","onClickedContent","isCollapsed","ContentBody","contentCollapsedStyle","contentOpenedStyle","contentContainer","ref","clientHeight","borderBottom","overflow","LocalDealTextField","RegularInputTextField","placeHolderValue","placeHolder","Input","error","isError","onChange","target","placeholder","textFieldStyle","NewStyleTextField","onBlurFunction","onBlur","onFocusFunction","onFocus","defaultValue","label","variant","withStyles","textFieldStyles","notchedOutline","overrideStyles","MiniText","additionalStyle","primaryStyle","secondaryStyle","default","PrimaryButton","buttonStyle","Paragraph","richTextEditorOptions","header","align","list","RichTextEditor","quillRef","imageHandler","removePreviousInput","mimeType","fixRotation","fixed","iamgeBlob","originalImageInfo","imageResize","formData","FormData","append","onImageSucceedUpload","modules","content","delta","source","editor","ops","forEach","line","isObject","insert","onChangeValue","createDealPage","descriptionPlaceHolder","quillStyle","newFormData","getEditor","getSelection","index","currentIndex","getCurrentIndex","formatLine","createElement","setAttribute","insertText","toolbar","container","insertEmbed","setCursorAtNextIndex","centerAlignLine","createNewLine","leftAlignLine","deleteText","setSelection","Slide","sliderWrapper","dots","lazyLoad","infinite","focusOnSelect","slidesPerRow","slidesToShow","speed","generateImages","fileUrls","map","getImageStlye","imageDefaultStyle","minHeight","minWidth","objectFit","TextButton","underline","textDecoration","root","borderBottomColor","TextField","MaterialTextField","multiline","event","rows","marginBottom","TwinButton","onClickPrimaryButton","onClickSecondaryButton","primaryButtonLabel","secondaryButtonLabel","primaryButton","primaryButtonText","View","Box","display","flexDirection","CreateDealLandingPageV2","onAddFile","fileList","files","convertImageToBase64","onChangeDescription","onChangeTitle","onClickAddress","onClickRemoveSelectedAddress","undefined","onClickSaveDraft","onClickSubmit","verifyInput","onSubmit","createDeal","setCreateDealUploading","onClose","createDealPageV2","setCreateDealProgressMessage","uploadingImage","all","imageProcessor","imagePrecprocess","base64Value","imageBlob","fileUploadResponse","preSignedUrl","imageUploadResult","uploadingDeal","setTimeout","uploadCompleted","blobFiles","hasAddress","hasField","allowNumberOfFile","fileReader","FileReader","changeEvent","toString","fixedRotation","concat","readAsDataURL","CreateDealLandingPageV2View","AddImageButton","Frame","accept","multiple","htmlFor","component","addIconButton","Add","scale","addIcon","AddressSelection","addressDisplay","SelectedAddress","AddressBubble","MissingSectionLabel","hide","missingAddress","addressSectionContainer","locationIcon","bubbles","addressesPrediction","border","addressBubbleContainer","whiteSpace","addressSelectionContainer","BottomButtonSecton","bottomButtonSectionContainer","DraftButton","SubmitButton","CloseButton","Close","closeIcon","Description","draftButton","draftButtonContainer","FolderOpen","draftIcon","saveDraft","FileSection","images","ImageContainer","push","missingField","fileSectionContainer","headerContainer","ImageDimensionTips","imageStyle","imageDimensionTipsContainer","HelpOutline","imageDimensionTipsIcon","imageDimensionTips","frameContainer","selectedAddressContainer","selectedAddressText","Delete","deleteIcon","submitPost","Title","titlePlaceHolder","descriptionTextField","maxHeight","maxWidth","titleTextField","CreateDealLandingPage","onChangeRichTextValue","richTextValue","onChangeTitleTextField","validateDescription","validateTitle","hasDescription","hasTitle","onClickClose","useAutoPosition","currentAddress","CreateDealLandingPageView","ButtonSection","create","cancel","buttonSection","ContentInput","HeaderSection","close","missingContentText","descriptionContainer","richTextEditor","titleTextFiledContainer","AddressSection","AddressAutoPositionDisplay","AddressTextField","DescriptionTextField","DescriptionMissing","MissingContentText","descriptionMissing","HourOfOperationSection","TitleMissing","titleMissing","TitleTextField","textFieldTitle","AddressPrediction","onSelectAddress","setSelectedAddress","setDefaultSelectedAddress","ToolTips","Tooltip","disableTouchListener","HeaderMenu","onClickMenu","isMenuOpen","onClickLogout","removeUserProfile","onCloseMenu","isToastMessageOpen","Login","onChangePassword","password","onChangeUsername","username","LoginView","Container","UsernameTextField","PasswordTextField","login","formName","loginFeatures","features","includes","LOGIN_LOCALDEAL","submitButton","OAuth","OAuthView","child","UserProfileSection","OAuthLoginOptions","GoogleOAuthLoginIcon","Link","href","getGoogleOAuthRequestURL","LogoutButton","oAuth","logout","USER_PROFILE_IN_HEADER_MENU","userTextInfoContainer","getProviderLabel","oAuthRedirectUrl","google","WECHAT","weChat","logoutButtonContainer","HeaderMenuView","headerMenu","closeButton","ContactInfomation","emailAddress","contactUs","DevelopingFeatures","featues","currentDevelopingFeatuers","feature","developingFeatureContainer","moreFeatureIsComingDescription","developingFeature","LowerPortion","lowerPortionContainer","MenuContainer","menuContainer","UpperPortion","upperPortionContainer","UserProfileHeaderSection","bugReportDescription","oAuthContainer","boxShadow","userProfileHeaderSectionContainer","borderLeft","menuIconContainer","Menu","menuIcon","anchor","open","HeaderView","CreateDealDrawer","createDealSection","DEAL_LEGACY","CreateNewDealButton","createNewDealIcon","HeaderTextAndLogo","logo","LocationButton","areaLabel","loading","currentLocation","TopBarSection","UserProfileImage","USER_PROFILE_IN_HEADER","userProfileImageContainer","Avatar","circularProgress","createNewButton","locationButtonContainer","searchMethodLabel","LegacyDealSectionView","LegacyDealsSection","dealsCard","cardBottomVote","onClickCard","CardHeader","RichTextDescription","cardContainer","transformer","timeDifferentCalcualtor","detailSectionContainer","dangerouslySetInnerHTML","__html","MAXIMUM_IMAGE_HEIGHT","DealCardV2","ImageSection","coverImageStyle","coverImageLoaded","coverImageHeight","dealIndex","onLoad","onLoadImage","onExpand","getElementById","DealCard","showExpandSign","imageContainer","DealSectionView","generatedDeals","LandingPageView","BodySection","dealSectionContainer","isLoadingDeals","LoadingDeals","NoDealInArea","noDealInAreaContainer","landingPage","loadingDeals","noDeal","TextFieldArea","textFieldValue","onBlurTextField","onChangeSearchTextField","onFocusTextField","searchButton","manual","slideImageContainer","alightItems","topBarContainer","LandingPage","onClickedCard","onClickedDealSection","showSearchButton","onClickSearch","onClickDownVote","onClickUpVote","executeGetDeals","isLoading","setCurrentPosition","setCurrentAddress","getCurrentLocation","setGeolocation","addresses","setPredicteAddresses","setLoadingPosition","inputDeals","sort","deal1","deal2","sortedDeal","sortDeals","onClickDealSection","Init","checkOAuthFromUrl","getUserProfile","checkOAuth","redirectUrl","LOGIN_OAUTH_GOOGLE","onOAuthLoginComplete","setUserProfile","GlobalStateComponent","uploading","progressMessage","loadingPosition","Provider","Banner","BannerView","UploadProgress","classes","materialUIStyleOverride","uploadObjectContainer","LinearProgress","barColorPrimary","colorPrimary","linearProgressor","AppBar","makeStyles","background","App","className","Boolean","hostname","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e8ffed4f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo_icon_character-min.f8d459b6.png\";","import CurrentArea from \"../../modal/currentArea\";\nimport Deal, { Address } from \"../../modal/deal\";\nimport VoteRequest from \"../../modal/voteRequest\";\n\nconst AREA_NAME_URL_PARAMETER: string = \"areaName\";\nconst AUTHORIZATION_CODE_PARAMETER: string = \"authorizationCode\";\nconst LATITUDE_URL_PARAMETER: string = \"latitude\";\nconst LONGITUDE_URL_PARAMETER: string = \"longitude\";\nconst REDIRECT_URL_PARAMETER: string = \"redirectUrl\";\n\nexport enum ServiceName {\n  CREATE_DEAL = \"CREATE_DEAL\",\n  CREATE_VOTE = \"CREATE_VOTE\",\n  GET_CURRENT_ADDRESS = \"GET_CURRENT_ADDRESS\",\n  GET_DEALS = \"GET_DEALS\",\n  GET_PRESIGNED_URL = \"GET_PRESIGNED_URL\",\n  GET_USER_PROFILE = \"GET_USER_PROFILE\",\n  LOGIN_OAUTH_GOOGLE = \"LOGIN_OAUTH_GOOGLE\",\n  LOGOUT_OAUTH = \"LOGOUT_OAUTH\",\n  TEST = \"TEST\",\n  UPLOAD_IMAGE = \"UPLOAD_IMAGE\",\n  UPLOAD_IMAGE_SIGNED_URL = \"UPLOAD_IMAGE_SIGNED_URL\"\n}\n\nexport const CREATE_DEAL = (deal: Deal): Endpoint => {\n  return {\n    body: JSON.stringify(deal),\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"POST\",\n    url: \"/deals\",\n    serviceName: ServiceName.CREATE_DEAL\n  };\n};\n\nexport const CREATE_VOTE = (voteRequest: VoteRequest) => {\n  return {\n    body: JSON.stringify(voteRequest),\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"POST\",\n    url: \"/vote\",\n    serviceName: ServiceName.CREATE_VOTE\n  };\n};\n\nexport const GET_CURRENT_ADDRESS = (currentArea: CurrentArea) => {\n  return {\n    externalService: false,\n    method: \"GET\",\n    hasMock: true,\n    isMultipartFileRequest: false,\n    url: \"/position\",\n    optionalRequestParam: () =>\n      generateCurrentAreaRequestParameter(currentArea),\n    serviceName: ServiceName.GET_CURRENT_ADDRESS\n  };\n};\n\nexport const GET_DEALS = (address: Address): Endpoint => {\n  return {\n    externalService: false,\n    hasMock: true,\n    isMultipartFileRequest: false,\n    method: \"GET\",\n    url: \"/deals\",\n    optionalRequestParam: () =>\n      `?${generateParameter(AREA_NAME_URL_PARAMETER, address.area || \"\")}`,\n    serviceName: ServiceName.GET_DEALS\n  };\n};\n\nexport const GET_PRESIGNED_URL = (\n  fileType: string,\n  fileName: string\n): Endpoint => {\n  return {\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"GET\",\n    url: \"/file\",\n    optionalRequestParam: () => `?contentType=${fileType}&fileName=${fileName}`,\n    serviceName: ServiceName.GET_PRESIGNED_URL\n  };\n};\n\nexport const GET_USER_PROFILE = (): Endpoint => ({\n  externalService: false,\n  hasMock: true,\n  isMultipartFileRequest: false,\n  method: \"GET\",\n  url: \"/userProfile\",\n  serviceName: ServiceName.GET_USER_PROFILE\n});\n\nexport const LOGIN_OAUTH_GOOGLE = (\n  authorizationCode: string,\n  redirectUrl: string\n): Endpoint => {\n  return {\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: false,\n    method: \"POST\",\n    url: \"/oauth/google\",\n    optionalRequestParam: () =>\n      generateMultipleUrlParameters([\n        AUTHORIZATION_CODE_PARAMETER,\n        authorizationCode,\n        REDIRECT_URL_PARAMETER,\n        redirectUrl\n      ]),\n    serviceName: ServiceName.LOGIN_OAUTH_GOOGLE\n  };\n};\n\nexport const LOGOUT_OAUTH = (): Endpoint => ({\n  externalService: false,\n  hasMock: false,\n  isMultipartFileRequest: false,\n  method: \"DELETE\",\n  url: \"/oauth\",\n  serviceName: ServiceName.LOGOUT_OAUTH\n});\n\nexport const UPLOAD_IMAGE = (image: any): Endpoint => {\n  return {\n    body: image,\n    externalService: false,\n    hasMock: false,\n    isMultipartFileRequest: true,\n    method: \"POST\",\n    url: \"/file/multipart\",\n    serviceName: ServiceName.UPLOAD_IMAGE\n  };\n};\n\nexport const UPLOAD_IMAGE_SIGNED_URL = (\n  image: File,\n  signedUrl: string\n): Endpoint => {\n  return {\n    body: image,\n    customHeader: { \"Content-Type\": image.type },\n    externalService: true,\n    hasMock: false,\n    isMultipartFileRequest: true,\n    method: \"PUT\",\n    url: signedUrl,\n    serviceName: ServiceName.UPLOAD_IMAGE_SIGNED_URL\n  };\n};\n\nconst generateCurrentAreaRequestParameter = (\n  currentArea: CurrentArea\n): string => {\n  console.debug(\n    \"service.ts: generateCurrentAreaRequestParameter -\",\n    currentArea\n  );\n  if (currentArea.areaName) {\n    return `?${generateParameter(\n      AREA_NAME_URL_PARAMETER,\n      currentArea.areaName\n    )}`;\n  } else if (currentArea.coordinate) {\n    return `?${LATITUDE_URL_PARAMETER}=${currentArea.coordinate.latitude}&${LONGITUDE_URL_PARAMETER}=${currentArea.coordinate.longitude}`;\n  } else {\n    console.warn(\"CurrentArea input might be invalid\");\n    return \"\";\n  }\n};\n\nconst generateMultipleUrlParameters = (keyAndValue: string[]): string => {\n  let parameter: string = \"?\";\n  if (keyAndValue.length % 2 === 0) {\n    for (let i = 0; i < keyAndValue.length; i += 2) {\n      if (i !== 0) {\n        parameter += \"&\";\n      }\n      parameter += `${keyAndValue[i]}=${keyAndValue[i + 1]}`;\n    }\n  }\n  console.debug(\"generateUrlParameter:\", parameter);\n  return parameter;\n};\n\nconst generateParameter = (key: string, value: string) => {\n  return `${key}=${value}`;\n};\n\nexport interface Endpoint {\n  body?: any;\n  customHeader?: {};\n  errorReturn?: any;\n  externalService: boolean;\n  hasMock: boolean;\n  isMultipartFileRequest: boolean;\n  method: string;\n  url: string;\n  optionalRequestParam?: () => string;\n  serviceName: ServiceName;\n}\n","export enum Feature {\n  CONTACT_SHOW_EMAIL = \"CONTACT_SHOW_EMAIL\",\n  HEADER_MENU = \"HEADER_MENU\",\n  DEAL_LEGACY = \"DEAL_LEGACY\",\n  CREATE_DEAL_DRAFT = \"CREATE_DEAL_DRAFT\",\n  LOGIN_LOCALDEAL = \"LOGIN_LOCALDEAL\",\n  LOGIN_GOOGLE_OAUTH = \"LOGIN_GOOGLE_OAUTH\",\n  LOGIN_WECHAT_OAUTH = \"LOGIN_WECHAT_OAUTH\",\n  USER_PROFILE_IN_HEADER = \"USER_PROFILE_IN_HEADER\",\n  USER_PROFILE_IN_HEADER_MENU = \"USER_PROFILE_IN_HEADER_MENU\"\n}\n","import { Endpoint, ServiceName } from \"./service\";\nimport { GetDealResponse, Address } from \"../../modal/deal\";\n\nexport default class ServiceExecutor {\n  constructor(\n    private readonly isMock: boolean,\n    private readonly serviceUrl: string,\n    private readonly headers: any\n  ) {}\n\n  public async execute(endpoint: Endpoint): Promise<any> {\n    if (this.isMock && endpoint.hasMock) {\n      return Promise.resolve(getResponse(endpoint.serviceName));\n    } else {\n      let headers = this.generateHeaders(endpoint);\n      let requestParam: string = endpoint.optionalRequestParam\n        ? endpoint.optionalRequestParam()\n        : \"\";\n      let requestUrl = endpoint.externalService\n        ? endpoint.url\n        : this.serviceUrl + endpoint.url + requestParam;\n      return (\n        fetch(requestUrl, {\n          body: endpoint.body,\n          credentials: endpoint.externalService ? \"omit\" : \"include\", // this is for CORS sending cookies\n          headers: endpoint.externalService ? endpoint.customHeader : headers,\n          method: endpoint.method,\n          mode: \"cors\"\n        })\n          .then(result => {\n            const isJsonResponse = result.headers\n              .get(\"content-type\")\n              ?.match(\"application/json\");\n            const status = result.status;\n            if (status < 400) {\n              if (status === 204 || !isJsonResponse) {\n                return Promise.resolve();\n              } else {\n                return Promise.resolve(result.json());\n              }\n            } else if (result.status > 400) {\n              return Promise.reject();\n            }\n          })\n          // .then(result => Promise.resolve(result))\n          .catch(exception => {\n            console.warn(\n              \"Something is wrong while fetch: \",\n              requestUrl,\n              exception\n            );\n            return Promise.reject(exception);\n          })\n      );\n    }\n  }\n\n  protected isJsonResponse(response: string): boolean {\n    try {\n      JSON.parse(response);\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  }\n\n  protected generateHeaders = (endpoint: Endpoint) => {\n    return !endpoint.isMultipartFileRequest\n      ? {\n          ...this.headers,\n          \"Content-Type\": \"application/json\"\n        }\n      : { ...this.headers };\n  };\n}\n\nconst getResponse = (serviceName: ServiceName): any => {\n  console.debug(\"get mock response:\", serviceName);\n  switch (serviceName) {\n    case ServiceName.GET_DEALS:\n      return GET_DEALS_RESPONSE;\n    case ServiceName.GET_CURRENT_ADDRESS:\n      return GET_POSITION_RESPONSE;\n    case ServiceName.GET_USER_PROFILE:\n      return GET_USER_PROFILE;\n    default:\n      return Promise.reject();\n  }\n};\n\nconst GET_DEALS_RESPONSE: GetDealResponse = {\n  deals: [\n    {\n      id: 0,\n      address: {\n        id: 0,\n        street1: \"街道1\",\n        street2: \"地下B座\",\n        city: \"澳門\",\n        formattedAddress: \"澳門漁翁街24號\",\n        state: \"\",\n        zipCode: \"\",\n        country: \"澳門\",\n        coordinate: {\n          latitude: 113,\n          longitude: 234\n        }\n      },\n      description:\n        '<p><img src=\"https://storage.cloud.google.com/deal_image/1577871875967\"></p>',\n      filesUrl: [\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\"\n      ],\n      serverIdentifierName: \"MACAU\",\n      title: \"澳門 蛋逹王子\",\n      timestamp: 1577872077582\n    },\n    {\n      id: 1,\n      address: {\n        id: 0,\n        street1: \"街道1\",\n        street2: \"地下B座\",\n        city: \"澳門\",\n        formattedAddress: \"澳門漁翁街24號\",\n        state: \"\",\n        zipCode: \"\",\n        country: \"澳門\",\n        coordinate: {\n          latitude: 113,\n          longitude: 234\n        }\n      },\n      description:\n        \"The content of ExpansionPanels is mounted by default even if the panel is not expanded. This default behavior has server-side rendering and SEO in mind. If you render expensive component trees inside your panels or simply render many panels it might be a good idea to change this default behavior by enabling the unmountOnExit in TransitionProps:\",\n      filesUrl: [\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\"\n      ],\n      serverIdentifierName: \"MACAU\",\n      title: \"澳門 CRAZY 蛋逹王子\",\n      timestamp: 1576871229332\n    },\n    {\n      id: 2,\n      address: {\n        id: 0,\n        street1: \"街道1\",\n        street2: \"地下B座\",\n        city: \"澳門\",\n        formattedAddress: \"澳門漁翁街24號\",\n        state: \"\",\n        zipCode: \"\",\n        country: \"澳門\",\n        coordinate: {\n          latitude: 113,\n          longitude: 234\n        }\n      },\n      description:\n        \"The content of ExpansionPanels is mounted by default even if the panel is not expanded. This default behavior has server-side rendering and SEO in mind. If you render expensive component trees inside your panels or simply render many panels it might be a good idea to change this default behavior by enabling the unmountOnExit in TransitionProps:\",\n      filesUrl: [\n        \"https://open-shelf.ca/wp-content/uploads/2015/03/twitter-logo-small-1024x576@2x.jpg\",\n        \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\"\n      ],\n      serverIdentifierName: \"MACAU\",\n      title: \"澳門 CRAZY 蛋逹王子\",\n      timestamp: 1576871229332\n    }\n  ]\n};\n\nconst GET_POSITION_RESPONSE: Address[] = [\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街166號\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街166號\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街148號\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門漁翁街90號\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門花地瑪堂區\",\n    city: \"花地瑪堂區\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門\",\n    country: \"澳門\"\n  },\n  {\n    id: 0,\n    area: \"澳門\",\n    formattedAddress: \"澳門\",\n    country: \"澳門\"\n  }\n];\n\nconst GET_USER_PROFILE = {\n  id: 0,\n  name: \"Mock User\",\n  imageUrl:\n    \"https://www.picclickimg.com/d/l400/pict/163647152800_/Cubd-Collectibles-Disney-Frozen-Elsa-Small-Soft-Stuffed.jpg\",\n  oAuthProvider: \"GOOGLE\"\n};\n","import AppContext from \"./appContext\";\nimport { Coordinate } from \"../modal/deal\";\n\nconst HOUR = 1000 * 60 * 60;\nconst DAY = HOUR * 24;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\n\nexport default class Transformer {\n  constructor(private readonly _lables: any) {}\n  timeDifferentCalcualtor(timestamp: number): string {\n    if (timestamp) {\n      let currentDate: Date = new Date();\n      let dateCreated: Date = new Date(timestamp);\n      let timeDifference: number =\n        currentDate.getTime() - dateCreated.getTime();\n      return this.getLabelAccrodingToTimeDifference(timeDifference);\n    } else {\n      console.warn(\"timestamp error: \", timestamp);\n      return this._lables.date.unknown;\n    }\n  }\n\n  getLabelAccrodingToTimeDifference(timeDifference: number): string {\n    // Determine if display detail days needed.\n    const dayDifferent = Math.round(timeDifference / DAY);\n    return dayDifferent > 0\n      ? `${dayDifferent}${this._lables.date.day}`\n      : this._lables.date.today;\n  }\n\n  getCurrentLocation(callBack: any): void {\n    navigator.geolocation.getCurrentPosition((position: Position) => {\n      let { latitude, longitude } = position.coords;\n      let currentPosition: Coordinate = {\n        latitude,\n        longitude\n      };\n      callBack(currentPosition);\n    });\n  }\n}\n","export enum OAuthProvider {\n  GOOGLE = \"GOOGLE\",\n  WECHAT = \"WECHAT\",\n  NONE = \"NONE\"\n}\n","import ServiceExecutor from \"./middleware/serviceExecutor\";\nimport Transformer from \"./transformer\";\nimport chineseTraditionalLabel from \"../content/labels/chinese.traditional.json\";\nimport { Feature } from \"./feature/feature\";\n\nexport default class AppContext {\n  // Deal Refresh\n  private ALLOW_DEAL_REFRESH: boolean = false;\n  private readonly DEAL_REFRESH_TIME: number = 5 * 1000;\n\n  // API Headers\n  private readonly APIKEY = \"vKZywb959gExXaEHSwdzdq7MfZu3Nb\";\n  private readonly X_MADT_APPID: string = \"localdeal\";\n  private readonly X_MADT_APP_VERSION: string = \"0.0.1\";\n\n  private readonly _serviceExecutor: ServiceExecutor = new ServiceExecutor(\n    this.isMock,\n    this.serviceUrl,\n    this.headers\n  );\n\n  private readonly _transformer: Transformer = new Transformer(this.labels);\n\n  get allowDealRefresh(): boolean {\n    return this.ALLOW_DEAL_REFRESH;\n  }\n\n  set allowDealRefresh(isAllowDealRefresh: boolean) {\n    this.ALLOW_DEAL_REFRESH = isAllowDealRefresh;\n  }\n\n  get dealRefreshTime(): number {\n    return this.DEAL_REFRESH_TIME;\n  }\n\n  get features(): Feature[] {\n    return [\n      Feature.CREATE_DEAL_DRAFT,\n      Feature.CONTACT_SHOW_EMAIL,\n      Feature.HEADER_MENU,\n      Feature.LOGIN_GOOGLE_OAUTH,\n      Feature.LOGIN_WECHAT_OAUTH\n    ];\n  }\n\n  get headers() {\n    let { APIKEY, X_MADT_APPID, X_MADT_APP_VERSION } = this;\n    return {\n      APIKEY: APIKEY,\n      XMADTAPPID: X_MADT_APPID,\n      XMADTAPPVERSION: X_MADT_APP_VERSION\n    };\n  }\n\n  get labels() {\n    return chineseTraditionalLabel;\n  }\n\n  get isMock(): boolean {\n    return false;\n  }\n\n  get isProd(): boolean {\n    return true;\n  }\n\n  get oAuthRedirectUrl(): string {\n    return this.isProd ? \"https://liuda.site\" : \"http://127.0.0.1:3000\";\n  }\n\n  get serviceExecutor(): ServiceExecutor {\n    return this._serviceExecutor;\n  }\n\n  get serviceUrl(): string {\n    // TODO need prod url\n    return this.isProd ? \"https://liuda.site:8082\" : \"http://127.0.0.1:8081\";\n  }\n\n  get transformer(): Transformer {\n    return this._transformer;\n  }\n}\n","import Resizer from \"react-image-file-resizer\";\nimport loadImage from \"blueimp-load-image\";\n\nexport default class ImageProcessor {\n  public imageCompress(\n    file: File,\n    imageType: string,\n    height: number,\n    width: number,\n    quality: number\n  ): Promise<File> {\n    return new Promise((resolve, reject) => {\n      const callBackFunction = (processedImage: File) => {\n        resolve(processedImage);\n      };\n      Resizer.imageFileResizer(\n        file,\n        width / 5,\n        height,\n        imageType,\n        quality,\n        0,\n        callBackFunction,\n        \"blob\"\n      );\n    });\n  }\n\n  public async getImageInfo(\n    file: File\n  ): Promise<{ height: number; size: number; type: string; width: number }> {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = URL.createObjectURL(file);\n      image.onload = () => {\n        return resolve({\n          height: image.height,\n          size: file.size,\n          type: file.type,\n          width: image.width\n        });\n      };\n    });\n  }\n\n  public async imagePrecprocess(file: any): Promise<File> {\n    let blob = await this.transferToBlob(file);\n    const { height, size, type, width } = await this.getImageInfo(blob);\n    console.debug(\"original image size:\", size);\n    const imageCompressQuality = size > 100000 ? 10 : 100;\n    const processedImage = await this.imageCompress(\n      blob,\n      type,\n      height,\n      width,\n      imageCompressQuality\n    );\n    await this.getImageInfo(processedImage);\n    return Promise.resolve(processedImage);\n  }\n\n  protected transferToBlob(file: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      return fetch(file)\n        .then(originalImage => originalImage.blob())\n        .then(result => resolve(result));\n    });\n  }\n\n  public fixRotation(file: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      loadImage(\n        file,\n        (img: any) => {\n          return resolve(img.toDataURL(this.guessImageMime(file)));\n        },\n        { orientation: true }\n      );\n    });\n  }\n\n  guessImageMime(data: string): string {\n    if (data.charAt(0) === \"/\") {\n      return \"image/jpeg\";\n    } else if (data.charAt(0) === \"R\") {\n      return \"image/gif\";\n    } else if (data.charAt(0) === \"i\") {\n      return \"image/png\";\n    } else {\n      return \"\";\n    }\n  }\n}\n","import React from \"react\";\n\nexport default React.createContext({});\n","import { Component } from \"react\";\nimport AppContext from \"./appContext\";\nimport { OAuthProvider } from \"./feature/oAuthProvider\";\nimport ImageProcessor from \"./imageProcessor\";\nimport AppState from \"../common/context/appState\";\nimport AppStateInterface from \"./context/appStateInterface\";\n\nexport default class ApplicationComponent<\n  ChildProps = {},\n  ChildState = {}\n> extends Component<ChildProps, ChildState> {\n  static contextType = AppState;\n  private readonly _appContext: AppContext = new AppContext();\n  private readonly _imageProcessor: ImageProcessor = new ImageProcessor();\n\n  get appContext(): AppContext {\n    return this._appContext;\n  }\n\n  get appState(): AppStateInterface {\n    return this.context;\n  }\n\n  get imageProcessor(): ImageProcessor {\n    return this._imageProcessor;\n  }\n\n  public checkOAuth(): {\n    authorizationCode: string;\n    oAuthProvider: OAuthProvider;\n  } {\n    const search = window.location.search;\n    const params = new URLSearchParams(search);\n    const state = params.get(\"state\");\n    const code = params.get(\"code\");\n    let oAuthProvider: OAuthProvider = OAuthProvider.NONE;\n    let authorizationCode: string = \"\";\n    if (state === OAuthProvider.GOOGLE) {\n      oAuthProvider = OAuthProvider.GOOGLE;\n      authorizationCode = code ?? \"\";\n    }\n    return {\n      authorizationCode,\n      oAuthProvider\n    };\n  }\n\n  public onOAuthLoginComplete() {\n    window.history.pushState(null, document.title, \"/\");\n  }\n}\n","export enum ToastSeverity {\n  ERROR = \"ERROR\",\n  INFORM = \"INFORM\",\n  SUCCESS = \"SUCCESS\",\n  WARN = \"WARN\"\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport \"../../App.css\";\nimport { HeaderView } from \".\";\n\ninterface State {\n  isCreateDealDrawerOpen: boolean;\n  isHamburgerMenuDrawerOpen: boolean;\n  useAutoLocation: boolean;\n}\n\nexport default class Header extends ApplicationComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      isCreateDealDrawerOpen: false,\n      isHamburgerMenuDrawerOpen: false,\n      useAutoLocation: true\n    };\n  }\n\n  render() {\n    return (\n      <HeaderView\n        isCreateDealDrawerOpen={this.state.isCreateDealDrawerOpen}\n        isHamburgerMenuDrawerOpen={this.state.isHamburgerMenuDrawerOpen}\n        onClickCreateDeal={this.onClickCreateDeal}\n        onClickHamburgerMenu={this.onClickHamburgerMenu}\n        onCloseCreateDeal={this.onCloseCreateDeal}\n        onCloseHamburgerMenu={this.onCloseHamburgerMenu}\n        onClickLocationButton={this.onClickLocationButton}\n        selectedAddress={this.appState.address.selectedAddress}\n        userProfile={this.appState.user.userProfile}\n      />\n    );\n  }\n\n  protected onClickCreateDeal = () => {\n    console.debug(\"onClickCreateDeal\");\n    this.setState({\n      isCreateDealDrawerOpen: true\n    });\n  };\n\n  protected onClickHamburgerMenu = () => {\n    console.debug(\"onClickHamburgerMenu\");\n    this.setState({\n      isHamburgerMenuDrawerOpen: true\n    });\n  };\n\n  protected onCloseCreateDeal = () => {\n    console.debug(\"onCloseCreateDeal\");\n    this.setState({\n      isCreateDealDrawerOpen: false\n    });\n  };\n\n  protected onCloseHamburgerMenu = () => {\n    console.debug(\"onCloseHamburgerMenu\");\n    this.setState({\n      isHamburgerMenuDrawerOpen: false\n    });\n  };\n\n  protected onClickLocationButton = () => {\n    // need to complete\n    console.debug(\"onClickLocationButton\");\n    this.setState({\n      useAutoLocation: true\n    });\n  };\n}\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport { Address } from \"../modal/deal\";\nimport { H5, View } from \".\";\n\nexport interface Props {\n  address: Address;\n}\n\nexport default class AddressDisplay extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <View isFlexDirectionRow={true}>\n        <H5>{this.generateAddressWithSpace(this.props.address)}</H5>\n      </View>\n    );\n  }\n\n  protected generateAddressWithSpace(address: Address): string {\n    let { street1, street2, city, state, zipCode, country } = address;\n    // return `\n    // ${this.removeNotValidAddress(street1 || \"\")}\n    // ${this.removeNotValidAddress(street2 || \"\")}\n    // ${this.removeNotValidAddress(city || \"\")}\n    // ${this.removeNotValidAddress(state || \"\")}\n    // ${this.removeNotValidAddress(zipCode || \"\")}\n    // ${this.removeNotValidAddress(country)}`;\n    return address.formattedAddress || \"\";\n  }\n\n  protected removeNotValidAddress(input: string): string {\n    return input ? `${input} ` : \"\";\n  }\n}\n","// button\nconst borderRadius = 15;\n\n// color\nconst BLACK = \"black\"; // TODO replace this with HEX code\nconst BLUE = \"#007AFF\";\nconst BLUE_TRANSPARENT = \"rgba(0,132,255,.1)\";\nconst GREY_DARK = \"#7D7D7D\";\nconst GREY_LIGHT = \"#f6f6f6\";\nconst GREY_TRANSPARENT = \"rgba(12, 12, 12, .1)\";\nconst GREEN = \"#5CC928\";\nconst GREEN_MDEIUM = \"#1EA362\";\nconst ORANGE = \"#FF4F00\";\nconst ORANGE_GRADIENT = \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\";\nconst ORANGE_TRANSPARENT = \"rgb(255, 168, 128, .1)\";\nconst RED = \"EA4335\";\nconst RED_DARK = \"#DA4B3C\";\nconst WHITE = \"#FFFFFF\";\nconst SYSTEM_ERROR = \"#F44436\";\nconst SYSTEM_INFORM = \"#2196F3\";\nconst SYSTEM_SUCCESS = \"#4CAF51\";\nconst SYSTEM_WARN = \"#FF9800\";\n\n// dimension\nconst FILL_ALL_HEIGHT = \"-webkit-fill-available\";\nconst FILL_ALL_WIDTH = \"-webkit-fill-available\";\n\n// font\nconst PRIMARY_FONT = \"sans-serif\";\nconst FONT_SIZE = 16;\n\nexport interface StyleSheet {\n  button: {\n    borderRadius: number;\n  };\n  color: {\n    black: string;\n    blueTransparent: string;\n    green: string;\n    greenMedium: string;\n    greyDark: string;\n    greyLight: string;\n    greyTransparent: string;\n    orange: string;\n    orangeGradient: string;\n    orangeTransparent: string;\n    primaryColor: string;\n    primaryGradient: string;\n    primaryColorTransparent: string;\n    red: string;\n    redDark: string;\n    secondaryColor: string;\n    secondaryColorTransparent: string;\n    systemError: string;\n    systemInform: string;\n    systemSuccess: string;\n    systemWarn: string;\n    white: string;\n  };\n  common: {\n    borderColor: string;\n  };\n  dimension: {\n    FILL_ALL_HEIGHT: string;\n    FILL_ALL_WIDTH: string;\n  };\n  font: {\n    fontSize: number;\n    primaryFont: string;\n  };\n  icon: any;\n  remind: {\n    primaryColor: string;\n    secondaryColor: string;\n  };\n  textField: {\n    borderColor: string;\n    borderRadius: number;\n    borderWidth: number;\n  };\n}\n\nexport const styleSchema: StyleSheet = {\n  button: {\n    borderRadius\n  },\n  color: {\n    black: BLACK,\n    blueTransparent: BLUE_TRANSPARENT,\n    green: GREEN,\n    greenMedium: GREEN_MDEIUM,\n    greyDark: GREY_DARK,\n    greyLight: GREY_LIGHT,\n    greyTransparent: GREY_TRANSPARENT,\n    orange: ORANGE,\n    orangeGradient: ORANGE_GRADIENT,\n    orangeTransparent: ORANGE_TRANSPARENT,\n    primaryColor: ORANGE,\n    primaryGradient: ORANGE_GRADIENT,\n    primaryColorTransparent: ORANGE_TRANSPARENT,\n    red: RED,\n    redDark: RED_DARK,\n    secondaryColor: GREY_DARK,\n    secondaryColorTransparent: GREY_TRANSPARENT,\n    systemError: SYSTEM_ERROR,\n    systemInform: SYSTEM_INFORM,\n    systemSuccess: SYSTEM_SUCCESS,\n    systemWarn: SYSTEM_WARN,\n    white: WHITE\n  },\n  common: {\n    borderColor: GREY_LIGHT\n  },\n  dimension: {\n    FILL_ALL_HEIGHT,\n    FILL_ALL_WIDTH\n  },\n  font: {\n    fontSize: FONT_SIZE,\n    primaryFont: PRIMARY_FONT\n  },\n  icon: {\n    fontSize: 38,\n    marginLeft: 18\n  },\n  remind: {\n    primaryColor: GREEN,\n    secondaryColor: BLUE\n  },\n  textField: {\n    borderColor: BLUE,\n    borderRadius,\n    borderWidth: 2\n  }\n};\n","import React, { Component } from \"react\";\nimport { View } from \".\";\nimport { styleSchema } from \"./stylesheet\";\n\ninterface Props {\n  styles?: any;\n  theme?: \"primary\" | \"secondary\";\n}\n\nexport default class BackgroundTheme extends Component<Props> {\n  render() {\n    const themeStyle =\n      this.props.theme === \"secondary\"\n        ? styles.secondaryTheme\n        : styles.primaryTheme;\n    return (\n      <View\n        style={{ ...styles.rootContainer, ...themeStyle, ...this.props.styles }}\n      >\n        {this.props.children}\n      </View>\n    );\n  }\n}\n\nconst styles = {\n  rootContainer: {\n    alignItems: \"center\",\n    backgroundColor: styleSchema.color.primaryColorTransparent,\n    borderRadius: 8,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  primaryTheme: {\n    backgroundColor: styleSchema.color.primaryColorTransparent\n  },\n  secondaryTheme: {\n    backgroundColor: styleSchema.color.secondaryColorTransparent\n  }\n};\n","import ApplicationComponent from \"./applicationComponent\";\nimport React from \"react\";\nimport { View, H5 } from \".\";\nimport { ThumbDown, ThumbUp } from \"@material-ui/icons\";\nimport { styleSchema } from \"./stylesheet\";\nimport { Button } from \"@material-ui/core\";\nimport Deal, { Address, GetDealResponse } from \"../modal/deal\";\nimport { CREATE_VOTE } from \"./middleware/service\";\n\nexport interface Props {\n  deal: Deal;\n  selectedAddress?: Address;\n}\n\nexport interface State {\n  voted: boolean;\n}\n\nexport default class CardBottomVote extends ApplicationComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      voted: false\n    };\n  }\n\n  render() {\n    const { downVote, upVote } = this.props.deal?.vote ?? {};\n    return (\n      <View isFlexDirectionRow style={styles.rootContainer}>\n        <this.VoteButton voteCount={upVote ?? 0} voteUpIcon={true} />\n        <this.VoteButton voteCount={downVote ?? 0} voteUpIcon={false} />\n      </View>\n    );\n  }\n\n  protected VoteButton = ({\n    voteCount,\n    voteUpIcon\n  }: {\n    voteCount: number;\n    voteUpIcon: boolean;\n  }) => {\n    let buttonContainerStyle = null;\n    let iconStyle = null;\n    if (this.state.voted) {\n      buttonContainerStyle = styles.VotedButtonContainer;\n      iconStyle = { ...styles.mainIconStyle, ...styles.votedIcon };\n    } else {\n      buttonContainerStyle = styles.VoteButtonContainer;\n      iconStyle = { ...styles.mainIconStyle, ...styles.voteIcon };\n    }\n    let voteFunction = voteUpIcon ? this.onPressUpVote : this.onPressDownVote;\n    return (\n      <View\n        isFlexDirectionRow\n        style={{ ...styles.buttonContainer, ...buttonContainerStyle }}\n      >\n        <Button\n          disabled={this.state.voted}\n          onClick={voteFunction}\n          style={styles.iconButton}\n        >\n          {voteUpIcon ? (\n            <ThumbUp style={iconStyle} />\n          ) : (\n            <ThumbDown style={iconStyle} />\n          )}\n        </Button>\n        <H5 style={styles.componentStyle}>{voteCount}</H5>\n      </View>\n    );\n  };\n\n  protected onPressDownVote = () => {\n    this.createVoteRequest(false);\n  };\n\n  protected onPressUpVote = () => {\n    this.createVoteRequest(true);\n  };\n\n  protected createVoteRequest = async (upVote: boolean) => {\n    const { id, serverIdentifierName } = this.props.deal;\n    if (!this.state.voted && id && serverIdentifierName) {\n      this.appContext.serviceExecutor\n        .execute(\n          CREATE_VOTE({\n            id,\n            upVote,\n            serverIdentifierName\n          })\n        )\n        .then((getDealResponse: GetDealResponse) => {\n          this.setState({ voted: true });\n          this.appState.deal.setDeals(getDealResponse.deals);\n        });\n    }\n  };\n}\n\nconst styles = {\n  buttonContainer: {\n    alignItems: \"center\",\n    borderRadius: 5,\n    marginRight: 5\n  },\n  componentStyle: {\n    paddingRight: 10\n  },\n  mainIconStyle: {\n    fontSize: 22,\n    paddingTop: 2,\n    paddingBottom: 2\n  },\n  iconButton: {\n    padding: 0\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    marginTop: 10\n  },\n  VotedButtonContainer: {\n    backgroundColor: styleSchema.color.secondaryColorTransparent\n  },\n  VoteButtonContainer: {\n    backgroundColor: styleSchema.color.primaryColorTransparent\n  },\n  votedIcon: {\n    color: styleSchema.color.secondaryColor\n  },\n  voteIcon: {\n    color: styleSchema.color.primaryColor\n  }\n};\n","import React from \"react\";\nimport { ExpandMore, ExpandLess } from \"@material-ui/icons\";\nimport { View, H4, H5 } from \".\";\nimport { styleSchema } from \"./stylesheet\";\nimport { Button, Collapse } from \"@material-ui/core\";\nimport ApplicationComponent from \"./applicationComponent\";\n\nexport interface Props {\n  allowExpand: boolean;\n  children?: React.ReactNode;\n  bottomToolBarContent?: React.ReactNode;\n  expanded: boolean;\n  onClickExpandSign: () => void;\n}\n\nexport default class CollapseCard extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <View style={{ ...styles.rootContainer, textAlign: \"start\" }}>\n        <Collapse in={this.props.expanded}>\n          <View\n            style={\n              this.props.allowExpand\n                ? styles.collapsedContentContainer\n                : styles.empty\n            }\n          >\n            {this.props.children}\n          </View>\n        </Collapse>\n        <this.BottomToolBar />\n      </View>\n    );\n  }\n\n  protected BottomToolBar = () => {\n    return (\n      <View isFlexDirectionRow style={styles.bottonToolBar}>\n        <View style={{ alignSelf: \"flex-start\" }}>\n          {this.props.bottomToolBarContent}\n        </View>\n        <View style={{ alignSelf: \"flex-end\" }}>\n          <this.ExpandSign />\n        </View>\n      </View>\n    );\n  };\n\n  protected ExpandLessSign = () => {\n    return (\n      <>\n        <H5 style={{ color: styleSchema.color.primaryColor }}>\n          {this.appContext.labels.localDealCardPage.collapse}\n        </H5>\n        <ExpandLess style={styles.expandSignIcon} />\n      </>\n    );\n  };\n\n  protected ExpandMoreSign = () => {\n    return (\n      <>\n        <H4>{this.appContext.labels.localDealCardPage.expand}</H4>\n        <ExpandMore style={styles.expandSignIcon} />\n      </>\n    );\n  };\n\n  protected ExpandSign = () => {\n    if (this.props.allowExpand) {\n      return (\n        <Button\n          onClick={this.props.onClickExpandSign}\n          style={styles.expandSignButton}\n        >\n          {this.props.expanded ? (\n            <this.ExpandLessSign />\n          ) : (\n            <this.ExpandMoreSign />\n          )}\n        </Button>\n      );\n    } else {\n      return null;\n    }\n  };\n}\n\nconst styles = {\n  bottonToolBar: {\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  collapsedContentContainer: {\n    paddingBottom: 15,\n    paddingTop: 15\n  },\n  empty: {},\n  expandSignButton: {\n    backgroundColor: styleSchema.color.primaryColorTransparent,\n    padding: 0,\n    paddingLeft: 15,\n    paddingRight: 5\n  },\n  expandSignIcon: {\n    color: styleSchema.color.primaryColor\n  },\n  rootContainer: {\n    width: \"inherit\"\n  }\n};\n","import React, { Component, ReactNode } from \"react\";\nimport { Drawer, DrawerProps } from \"@material-ui/core\";\nimport { View } from \".\";\nimport { styleSchema } from \"./stylesheet\";\n\nexport default class DrawerMenu extends Component<DrawerProps> {\n  render() {\n    return (\n      <Drawer {...this.props}>\n        <View style={styles.rootContainer}>{this.props.children}</View>\n      </Drawer>\n    );\n  }\n}\n\nconst styles = {\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    height: \"inherit\",\n    paddingLeft: 15,\n    paddingRight: 15,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  }\n};\n","import React, { Component } from \"react\";\nimport { styleSchema } from \"./stylesheet\";\n\nexport interface Props {\n  style?: any;\n}\n\nexport default class H1<ChildProps extends Props = Props> extends Component<\n  ChildProps\n> {\n  render() {\n    return (\n      <p\n        style={{\n          ...this.getDefaultStyle(),\n          ...this.getDefaultColor(),\n          ...this.props.style\n        }}\n      >\n        {this.props.children}\n      </p>\n    );\n  }\n\n  protected getDefaultColor(): { color: string } {\n    return {\n      color: this.getColor()\n    };\n  }\n\n  protected getColor(): string {\n    return styleSchema.color.black;\n  }\n\n  protected getDefaultStyle() {\n    return { ...styles.defaultStyle, ...this.getStyle() };\n  }\n\n  protected getStyle(): any {\n    return styles.text;\n  }\n}\n\nconst styles = {\n  defaultStyle: {\n    margin: 0\n  },\n  text: {\n    fontFamily: styleSchema.font.primaryFont,\n    fontSize: 18,\n    fontWeight: 600\n  }\n};\n","import { H1, styleSchema } from \".\";\n\nexport default class H4 extends H1 {\n  protected getColor(): string {\n    return styleSchema.color.primaryColor;\n  }\n\n  protected getStyle(): any {\n    return styles.text;\n  }\n}\n\nconst styles = {\n  text: {\n    fontSize: 15,\n    fontWeight: 500\n  }\n};\n","import { styleSchema, H1 } from \"./\";\n\nexport default class H5 extends H1 {\n  protected getColor(): string {\n    return styleSchema.color.greyDark;\n  }\n\n  protected getStyle() {\n    return styles.text;\n  }\n}\n\nconst styles = {\n  text: {\n    fontSize: 15,\n    fontWeight: 500\n  }\n};\n","import React, { Component } from \"react\";\n\ninterface Props {\n  alt?: string;\n  src: string;\n  size?: \"big\" | \"medium\" | \"small\" | \"miniCircularImage\";\n}\n\nexport default class Image extends Component<Props> {\n  render() {\n    return (\n      <img\n        alt={this.props?.alt ?? \"image\"}\n        src={this.props.src}\n        style={{ ...styles.defaultStyle, ...this.getImageSizeStyle() }}\n      />\n    );\n  }\n\n  protected getImageSizeStyle() {\n    switch (this.props.size) {\n      case \"big\":\n        return styles.bigImage;\n      case \"medium\":\n        return styles.mediumImage;\n      case \"miniCircularImage\":\n        return styles.miniCircularImage;\n      default:\n        return styles.smallImage;\n    }\n  }\n}\n\nconst styles = {\n  bigImage: { width: 100 },\n  defaultStyle: {\n    borderRadius: 5\n  },\n  miniCircularImage: {\n    borderRadius: 30,\n    width: 35\n  },\n  mediumImage: { width: 75 },\n  smallImage: { width: 50 }\n};\n","import React, { ReactNode } from \"react\";\nimport { ExpandMore, ExpandLess } from \"@material-ui/icons\";\nimport { View, H4, H5 } from \".\";\nimport { styleSchema } from \"./stylesheet\";\nimport { Button } from \"@material-ui/core\";\nimport ApplicationComponent from \"./applicationComponent\";\n\nexport interface Props {\n  children?: React.ReactNode;\n  collapseBaseOnContent?: boolean;\n  collapsedHeight?: number;\n  bottomToolBarContent?: React.ReactNode;\n  onClick: (any?: any) => void;\n  title?: string;\n}\n\nexport interface State {\n  contentNeedCollapse: boolean;\n  isCollapsed: boolean;\n}\n\nexport default class LocalDealCard extends ApplicationComponent<Props, State> {\n  private contentRef: HTMLDivElement | null = null;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      contentNeedCollapse: true,\n      isCollapsed: true\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      contentNeedCollapse: (this.contentRef?.clientHeight ?? 0) > 180\n    });\n  }\n\n  render() {\n    return (\n      <View borderBottom={1} style={styles.rootContainer}>\n        <this.ContentBody\n          contentNeedCollapse={this.state.contentNeedCollapse}\n          isCollapsed={this.state.isCollapsed}\n        />\n        <this.BottomToolBar />\n      </View>\n    );\n  }\n\n  protected BottomToolBar = () => {\n    return (\n      <View isFlexDirectionRow style={styles.bottonToolBar}>\n        <View style={{ alignSelf: \"flex-start\" }}>\n          {this.props.bottomToolBarContent}\n        </View>\n        <View style={{ alignSelf: \"flex-end\" }}>\n          <this.ExpandSign />\n        </View>\n      </View>\n    );\n  };\n\n  protected ExpandLessSign = () => {\n    return (\n      <>\n        <H5 style={{ color: styleSchema.color.primaryColor }}>\n          {this.appContext.labels.localDealCardPage.collapse}\n        </H5>\n        <ExpandLess style={styles.expandSignIcon} />\n      </>\n    );\n  };\n\n  protected ExpandMoreSign = () => {\n    return (\n      <>\n        <H4>{this.appContext.labels.localDealCardPage.expand}</H4>\n        <ExpandMore style={styles.expandSignIcon} />\n      </>\n    );\n  };\n\n  protected ExpandSign = () => {\n    if (this.state.contentNeedCollapse) {\n      return (\n        <Button onClick={this.onClickedContent} style={styles.expandSignButton}>\n          {this.state.isCollapsed ? (\n            <this.ExpandMoreSign />\n          ) : (\n            <this.ExpandLessSign />\n          )}\n        </Button>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  protected ContentBody = ({\n    contentNeedCollapse,\n    isCollapsed\n  }: {\n    contentNeedCollapse: boolean;\n    isCollapsed: boolean;\n  }) => {\n    const style =\n      contentNeedCollapse && isCollapsed\n        ? styles.contentCollapsedStyle\n        : styles.contentOpenedStyle;\n    return (\n      <View\n        style={{ ...styles.contentContainer, ...style }}\n        onClick={this.onClickedContent}\n      >\n        <div\n          // TODO not sure if this is correct\n          style={{ width: \"inherit\" }}\n          ref={contentRef => {\n            this.contentRef = contentRef;\n          }}\n        >\n          {this.props.children}\n        </div>\n      </View>\n    );\n  };\n\n  protected onClickedContent = () => {\n    this.setState({\n      isCollapsed: !this.state.isCollapsed\n    });\n  };\n}\n\nconst styles = {\n  bottonToolBar: {\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  contentCollapsedStyle: {\n    height: \"150px\",\n    overflow: \"hidden\"\n  },\n  contentContainer: {\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  contentOpenedStyle: {},\n  expandSignButton: {\n    backgroundColor: styleSchema.color.primaryColorTransparent,\n    padding: 0,\n    paddingLeft: 15,\n    paddingRight: 5\n  },\n  expandSignIcon: {\n    color: styleSchema.color.primaryColor\n  },\n  rootContainer: {\n    backgroundColor: styleSchema.color.white,\n    borderColor: styleSchema.common.borderColor,\n    padding: 20,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { withStyles, Input } from \"@material-ui/core\";\nimport { styleSchema } from \"./\";\nimport { StyleSheet } from \"./stylesheet\";\n\nconst overrideStyles = (style: StyleSheet) => {\n  let textFieldStyles = style.textField;\n  return {\n    notchedOutline: {\n      borderColor: textFieldStyles.borderColor,\n      borderRadius: textFieldStyles.borderRadius,\n      borderWidth: textFieldStyles.borderWidth\n    }\n  };\n};\n\nexport interface Props {\n  classes?: any;\n  children?: React.ReactNode;\n  defaultValue?: string;\n  isError?: boolean;\n  onBlur?: () => void;\n  onChange: (textInput: any) => void;\n  onFocus?: () => void;\n  placeHolder?: string;\n  text?: string;\n  style?: any;\n}\n\nclass LocalDealTextField extends ApplicationComponent<Props> {\n  render() {\n    return <this.RegularInputTextField />;\n  }\n\n  protected RegularInputTextField = () => {\n    const placeHolderValue: string =\n      (this.props.text ? this.props.text : this.props.placeHolder) ?? \"\";\n    return (\n      <Input\n        error={this.props.isError}\n        onChange={text => this.props.onChange(text.target.value)}\n        placeholder={placeHolderValue}\n        style={{ ...styles.textFieldStyle, ...this.props.style }}\n      />\n    );\n  };\n\n  protected NewStyleTextField = () => {\n    const onBlurFunction = this.props.onBlur ? this.props.onBlur : () => {};\n    const onFocusFunction = this.props.onFocus ? this.props.onFocus : () => {};\n    return (\n      <TextField\n        color=\"secondary\"\n        defaultValue={this.props.defaultValue}\n        // InputProps={{\n        //   classes: {\n        //     notchedOutline: this.props.classes.notchedOutline\n        //   }\n        // }}\n        label={this.props.text}\n        onBlur={() => onBlurFunction()}\n        onChange={text => this.props.onChange(text.target.value)}\n        onFocus={() => onFocusFunction()}\n        style={{ ...styles.textFieldStyle, ...this.props.style }}\n        variant=\"outlined\"\n      >\n        {this.props.children}\n      </TextField>\n    );\n  };\n}\n\nconst styles = {\n  textFieldStyle: {\n    paddingTop: 15,\n    width: \"inherit\"\n  }\n};\n\nexport default withStyles(overrideStyles(styleSchema))(LocalDealTextField);\n","import React, { Component } from \"react\";\nimport { styleSchema } from \"./stylesheet\";\n\ninterface Props {\n  color: \"primary\" | \"secondary\";\n}\n\nexport default class MiniText extends Component<Props> {\n  additionalStyle =\n    this.props.color === \"primary\"\n      ? styles.primaryStyle\n      : styles.secondaryStyle;\n  render() {\n    return (\n      <p style={{ ...styles.default, ...this.additionalStyle }}>\n        {this.props.children}\n      </p>\n    );\n  }\n}\n\nconst styles = {\n  default: {\n    fontFamily: styleSchema.font.primaryFont,\n    fontSize: 9,\n    margin: 0\n  },\n  primaryStyle: {\n    color: styleSchema.color.primaryColor\n  },\n  secondaryStyle: {\n    color: styleSchema.color.secondaryColor\n  }\n};\n","import React, { Component } from \"react\";\nimport { Button, ButtonProps } from \"@material-ui/core\";\nimport { styleSchema } from \"./stylesheet\";\n\nexport default class PrimaryButton extends Component<ButtonProps> {\n  render() {\n    const color: any = {\n      backgroundColor: this.props.disabled\n        ? styleSchema.color.greyDark\n        : styleSchema.color.primaryColor\n    };\n    return (\n      <Button style={{ ...color, ...styles.buttonStyle }} {...this.props}>\n        <p style={styles.text}>{this.props.children}</p>\n      </Button>\n    );\n  }\n}\n\nconst styles = {\n  buttonStyle: {\n    borderRadius: 25,\n    marginLeft: 20,\n    marginRight: 20,\n    width: \"inherit\"\n  },\n  text: {\n    color: styleSchema.color.white,\n    fontSize: 15,\n    fontWeight: 600,\n    margin: 0\n  }\n};\n","import { H1, styleSchema } from \".\";\nimport { Props as ParentProps } from \"./h1\";\n\ninterface Props extends ParentProps {\n  color?: \"primary\" | \"secondary\" | \"black\";\n}\n\nexport default class Paragraph extends H1<Props> {\n  protected getColor(): string {\n    switch (this.props.color) {\n      case \"primary\":\n        return styles.primaryColor.color;\n      case \"secondary\":\n        return styles.secondaryColor.color;\n      case \"black\":\n        return styles.black.color;\n      default:\n        return styles.primaryColor.color;\n    }\n  }\n\n  protected getStyle(): any {\n    return styles.text;\n  }\n}\n\nconst styles = {\n  primaryColor: {\n    color: styleSchema.color.primaryColor\n  },\n  secondaryColor: {\n    color: styleSchema.color.secondaryColor\n  },\n  black: {\n    color: styleSchema.color.black\n  },\n  text: {\n    fontFamily: styleSchema.font.primaryFont,\n    fontSize: \"0.875rem\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport ReactQuill, { Quill } from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { UPLOAD_IMAGE } from \"./middleware/service\";\nimport Resizer from \"react-image-file-resizer\";\nimport { isObject } from \"util\";\nimport loadImage from \"blueimp-load-image\";\n\nconst richTextEditorOptions = [\n  [{ color: [] }], // dropdown with defaults from theme\n  [\"bold\", \"italic\", \"strike\", { header: [1, false] }, { align: [] }], // toggled buttons\n  //   [\"blockquote\", \"code-block\"],\n  [\"image\"],\n  [\"link\"],\n  //   [{ header: 1 }, { header: 2 }], // custom button values\n  [{ list: \"ordered\" }, { list: \"bullet\" }],\n  //   [{ script: \"sub\" }, { script: \"super\" }], // superscript/subscript\n  //   [{ indent: \"-1\" }, { indent: \"+1\" }], // outdent/indent\n  //   [{ direction: \"rtl\" }], // text direction\n\n  //   [{ size: [\"small\", \"medium\", \"large\", \"huge\"] }], // custom dropdown\n  //   [{ font: [] }],\n  [\"clean\"] // remove formatting button,\n];\n\nexport interface Props {\n  onChangeValue: (value: string) => void;\n  style?: any;\n}\n\nexport default class RichTextEditor extends ApplicationComponent<Props> {\n  private quillRef: any;\n\n  render() {\n    return (\n      <ReactQuill\n        ref={ref => (this.quillRef = ref)}\n        modules={this.modules()}\n        onChange={(content, delta, source, editor) => {\n          if (source === \"user\") {\n            if (delta.ops?.length) {\n              delta.ops.forEach(line => {\n                if (isObject(line.insert) && line.insert.image) {\n                  console.debug(\"got image\");\n                  this.imageHandler(line.insert.image);\n                }\n              });\n            }\n          }\n          this.props.onChangeValue(content);\n        }}\n        placeholder={\n          this.appContext.labels.createDealPage.descriptionPlaceHolder\n        }\n        style={{ ...styles.quillStyle, ...this.props.style }}\n      ></ReactQuill>\n    );\n  }\n\n  protected createNewFormData(\n    content: any,\n    name: string = \"content\",\n    fileName: string = \"newFile\"\n  ): FormData {\n    console.debug(\"create new FormData object\");\n    const newFormData: FormData = new FormData();\n    newFormData.append(name, content, fileName);\n    return newFormData;\n  }\n\n  protected fixRotation(file: any, imageType: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      loadImage(\n        file,\n        (img: any) => {\n          return resolve(img.toDataURL(imageType));\n        },\n        { orientation: true }\n      );\n    });\n  }\n\n  protected getCurrentIndex(): number {\n    const currentIndex: number = this.quillRef.getEditor().getSelection().index;\n    return currentIndex;\n  }\n\n  protected async getImageInfo(\n    file: File\n  ): Promise<{ height: number; size: number; type: string; width: number }> {\n    return new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = URL.createObjectURL(file);\n      image.onload = () => {\n        console.debug(\n          `type:${file.type} size:${file.size} height:${image.height} width:${image.width}`\n        );\n        return resolve({\n          height: image.height,\n          size: file.size,\n          type: file.type,\n          width: image.width\n        });\n      };\n    });\n  }\n\n  protected imageResize(\n    file: File,\n    imageType: string,\n    height: number,\n    width: number,\n    quality: number\n  ): Promise<File> {\n    return new Promise((resolve, reject) => {\n      const callBackFunction = (processedImage: File) => {\n        resolve(processedImage);\n      };\n      Resizer.imageFileResizer(\n        file,\n        width,\n        height,\n        imageType,\n        quality,\n        0,\n        callBackFunction,\n        \"blob\"\n      );\n    });\n  }\n\n  protected centerAlignLine(): void {\n    const currentIndex: number = this.getCurrentIndex();\n    this.quillRef\n      .getEditor()\n      .formatLine(currentIndex, currentIndex + 1, \"align\", \"center\");\n  }\n\n  protected leftAlignLine(): void {\n    const currentIndex: number = this.getCurrentIndex();\n    this.quillRef\n      .getEditor()\n      .formatLine(currentIndex, currentIndex + 1, \"align\", \"\");\n  }\n\n  protected createImageElement(imageUrl: string): HTMLImageElement {\n    const image: HTMLImageElement = document.createElement(\"img\");\n    image.src = imageUrl;\n    image.setAttribute(\"style\", \"width:10px\");\n    return image;\n  }\n\n  protected createNewLine() {\n    this.quillRef.getEditor().insertText(this.getCurrentIndex(), \"\\n\");\n  }\n\n  protected transferToBlob(file: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      return fetch(file)\n        .then(originalImage => originalImage.blob())\n        .then(result => resolve(result));\n    });\n  }\n\n  guessImageMime(data: string): string {\n    if (data.charAt(0) === \"/\") {\n      return \"image/jpeg\";\n    } else if (data.charAt(0) === \"R\") {\n      return \"image/gif\";\n    } else if (data.charAt(0) === \"i\") {\n      return \"image/png\";\n    } else {\n      return \"\";\n    }\n  }\n\n  imageHandler = async (file: any) => {\n    console.debug(\"enter image handler function\");\n    console.debug(\"original\");\n\n    this.removePreviousInput();\n\n    const mimeType = this.guessImageMime(file);\n    let fixed = await this.fixRotation(file, mimeType);\n\n    let iamgeBlob = await this.transferToBlob(fixed);\n\n    const originalImageInfo = await this.getImageInfo(iamgeBlob);\n\n    // resize image according to height, width and quality\n    const processedImage = await this.imageResize(\n      iamgeBlob,\n      originalImageInfo.type,\n      originalImageInfo.height,\n      originalImageInfo.width / 5,\n      10\n    );\n    // just print file detail in log, no functionality\n    console.debug(\"processed\");\n    this.getImageInfo(processedImage);\n    // create a FormData object inorder to submit it as Multipart file for REST controller\n    const formData: FormData = new FormData();\n    formData.append(\"image\", processedImage, \"image\");\n    // upload image\n    this.appContext.serviceExecutor\n      .execute(UPLOAD_IMAGE(formData))\n      .then(response => {\n        this.onImageSucceedUpload(response.url);\n      });\n  };\n\n  protected modules() {\n    return {\n      toolbar: {\n        container: richTextEditorOptions\n      }\n    };\n  }\n\n  protected async onImageSucceedUpload(imageUrl: string) {\n    // this.removePreviousInput();\n    this.quillRef\n      .getEditor()\n      .insertEmbed(this.getCurrentIndex(), \"image\", imageUrl);\n    this.setCursorAtNextIndex();\n    this.centerAlignLine();\n    this.createNewLine();\n    this.leftAlignLine();\n  }\n\n  protected removePreviousInput(): void {\n    const currentIndex: number = this.getCurrentIndex();\n    console.debug(\"remove content at index:\", currentIndex);\n    this.quillRef.getEditor().deleteText(currentIndex, currentIndex + 1);\n  }\n\n  protected setCursorAtNextIndex(): void {\n    const currentIndex: number = this.getCurrentIndex();\n    this.quillRef.getEditor().setSelection(currentIndex + 1, currentIndex + 1);\n  }\n}\n\nconst styles = {\n  quillStyle: {\n    borderRadius: 5,\n    width: \"inherit\"\n  }\n};\n","import React, { Component } from \"react\";\nimport Slider from \"react-slick\";\nimport \"./slide.css\";\n\ninterface Props {\n  dealIndex: number;\n  height?: number;\n  fileUrls: string[];\n}\n\nexport default class Slide extends Component<Props> {\n  render() {\n    return (\n      <div style={styles.sliderWrapper}>\n        <Slider\n          dots\n          lazyLoad=\"progressive\"\n          infinite={false}\n          focusOnSelect={false}\n          slidesPerRow={1}\n          slidesToShow={1}\n          speed={100}\n        >\n          {this.generateImages()}\n        </Slider>\n      </div>\n    );\n  }\n\n  protected generateImages() {\n    return this.props.fileUrls.map(content => {\n      return (\n        <div>\n          <img alt=\"post\" src={content} style={this.getImageStlye()} />\n        </div>\n      );\n    });\n  }\n\n  protected getImageStlye(): any {\n    return { ...styles.imageDefaultStyle, height: this.props.height };\n  }\n}\n\nconst styles = {\n  imageDefaultStyle: {\n    minHeight: \"100%\",\n    minWidth: \"100%\",\n    objectFit: \"cover\"\n  },\n  sliderWrapper: {\n    width: \"100%\"\n  }\n};\n","import React, { Component } from \"react\";\nimport { Button, ButtonProps } from \"@material-ui/core\";\nimport { styleSchema } from \"./stylesheet\";\n\ninterface Props extends ButtonProps {\n  onClick: () => void;\n  underline?: boolean;\n}\n\nexport default class TextButton extends Component<Props> {\n  render() {\n    const additionalStyle = this.props.underline ? styles.underline : \"\";\n    return (\n      <Button\n        onClick={this.props.onClick}\n        style={{ ...styles.buttonStyle, ...additionalStyle }}\n        variant=\"text\"\n        {...this.props}\n      >\n        {this.props.children}\n      </Button>\n    );\n  }\n}\n\nconst styles = {\n  buttonStyle: {\n    color: styleSchema.color.primaryColor,\n    paddingBottom: 2,\n    paddingTop: 2\n  },\n  underline: {\n    textDecoration: \"underline\"\n  }\n};\n","import React, { Component } from \"react\";\nimport { TextField as MaterialTextField, withStyles } from \"@material-ui/core\";\n\nconst overrideStyles = {\n  root: {\n    \"& label.Mui-focused\": {\n      color: \"yellow\"\n    },\n    \"& .MuiInput-underline:after\": {\n      borderBottomColor: \"yellow\",\n      borderWidth: \"0px\"\n    },\n    \"& .MuiOutlinedInput-root\": {\n      \"& fieldset\": {\n        borderColor: \"red\"\n      },\n      \"&:hover fieldset\": {\n        borderColor: \"yellow\"\n      },\n      \"&.Mui-focused fieldset\": {\n        borderColor: \"yellow\",\n        borderWidth: \"0px\"\n      }\n    }\n  }\n};\n\ninterface Props {\n  multiline?: boolean;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  rows?: number;\n}\n\nexport default class TextField extends Component<Props> {\n  render() {\n    const StyledTextField = withStyles(overrideStyles)(MaterialTextField);\n    return (\n      <MaterialTextField\n        multiline={this.props.multiline}\n        onChange={event => this.props.onChange(event.target.value)}\n        placeholder={this.props.placeholder}\n        rows={this.props.rows}\n        style={styles.textField}\n      />\n    );\n  }\n}\n\nconst styles = {\n  textField: {\n    width: \"inherit\"\n  }\n};\n","import React, { Component } from \"react\";\nimport { Snackbar, Slide } from \"@material-ui/core\";\nimport { View, P } from \"..\";\nimport { styleSchema } from \"../stylesheet\";\nimport { ToastSeverity } from \"./toastSeverity\";\n\ninterface Props {\n  autoHideDuration?: number;\n  message: string;\n  onClose: () => void;\n  open: boolean;\n  severity?: ToastSeverity;\n}\n\ninterface State {\n  open: boolean;\n}\n\nexport default class Toast extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      open: true\n    };\n  }\n\n  protected TransitionUp(props: any) {\n    return <Slide {...props} direction=\"up\" />;\n  }\n\n  render() {\n    return (\n      <Snackbar\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n        TransitionComponent={this.TransitionUp}\n        open={this.props.open}\n        autoHideDuration={\n          this.props.autoHideDuration ? this.props.autoHideDuration : 2500\n        }\n        onClose={this.props.onClose}\n      >\n        <View\n          boxShadow={1}\n          style={{\n            ...styles.rootContainer,\n            backgroundColor: this.getBackgroundColor()\n          }}\n        >\n          <P style={{ color: \"white\" }}>{this.props.message}</P>\n        </View>\n      </Snackbar>\n    );\n  }\n\n  protected getBackgroundColor() {\n    switch (this.props.severity) {\n      case ToastSeverity.ERROR:\n        return styleSchema.color.systemError;\n      case ToastSeverity.INFORM:\n        return styleSchema.color.systemInform;\n      case ToastSeverity.SUCCESS:\n        return styleSchema.color.systemSuccess;\n      case ToastSeverity.WARN:\n        return styleSchema.color.systemWarn;\n      default:\n        return styleSchema.color.systemInform;\n    }\n  }\n}\n\nconst styles = {\n  rootContainer: {\n    padding: 5,\n    paddingLeft: 30,\n    paddingRight: 30,\n    borderRadius: 10,\n    marginBottom: 35\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport { Button } from \"@material-ui/core\";\nimport { H5, View } from \".\";\nimport { styleSchema } from \"./stylesheet\";\n\nexport interface Props {\n  onClickPrimaryButton: () => void;\n  onClickSecondaryButton: () => void;\n  primaryButtonLabel: string;\n  secondaryButtonLabel: string;\n  style?: any;\n}\n\nexport default class TwinButton extends ApplicationComponent<Props> {\n  render() {\n    let {\n      onClickPrimaryButton,\n      onClickSecondaryButton,\n      primaryButtonLabel,\n      secondaryButtonLabel\n    } = this.props;\n    return (\n      <View\n        isFlexDirectionRow={true}\n        style={{ ...styles.rootContainer, ...this.props.style }}\n      >\n        <Button\n          onClick={() => onClickPrimaryButton()}\n          style={styles.primaryButton}\n          variant={\"outlined\"}\n        >\n          <H5 style={styles.primaryButtonText}>{primaryButtonLabel}</H5>\n        </Button>\n        <Button onClick={() => onClickSecondaryButton()} variant={\"outlined\"}>\n          <H5>{secondaryButtonLabel}</H5>\n        </Button>\n      </View>\n    );\n  }\n}\n\nconst styles = {\n  rootContainer: {\n    justifyContent: \"space-around\",\n    marginLeft: 20,\n    marginRight: 20,\n    width: \"inherit\"\n  },\n  primaryButton: {\n    backgroundColor: styleSchema.color.primaryColor\n  },\n  primaryButtonText: {\n    color: styleSchema.color.white\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"./applicationComponent\";\nimport { Box, BoxProps } from \"@material-ui/core\";\n\ninterface Props extends BoxProps {\n  alignItems?: string;\n  chindren?: React.ReactNode;\n  isFlexDirectionRow?: boolean;\n  justifyContent?: string;\n  onClick?: (any?: any) => void;\n}\n\nexport default class View extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <Box\n        display=\"flex\"\n        flexDirection={this.props.isFlexDirectionRow ? \"row\" : \"column\"}\n        alignItems={this.props.alignItems ? this.props.alignItems : \"start\"}\n        justifyContent={\n          this.props.justifyContent ? this.props.justifyContent : \"start\"\n        }\n        onClick={() => (this.props.onClick ? this.props.onClick() : {})}\n        {...this.props}\n      >\n        {this.props.children}\n      </Box>\n    );\n  }\n}\n","import React, { ChangeEvent } from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { CreateDealLandingPageV2View } from \"./\";\nimport Deal, { Address, GetDealResponse } from \"../../modal/deal\";\nimport {\n  CREATE_DEAL,\n  UPLOAD_IMAGE_SIGNED_URL,\n  GET_PRESIGNED_URL\n} from \"../../common/middleware/service\";\nimport { GET_DEALS } from \"../../common/middleware/service\";\nimport { FileUploadResponse } from \"../../modal/fileUploadResponse\";\nimport { FileDetail } from \"../../modal/fileDetal\";\n\nconst ALLOWED_NUMBER_OF_FILE = 9;\n\ninterface Props {\n  onClose: () => void;\n}\n\ninterface State {\n  blobFiles: any[];\n  description: string;\n  files: FileDetail[];\n  hasAddress: boolean;\n  hasField: boolean;\n  selectedAddress?: Address;\n  title: string;\n}\n\nexport default class CreateDealLandingPageV2 extends ApplicationComponent<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      files: [],\n      blobFiles: [],\n      description: \"\",\n      hasAddress: true,\n      hasField: true,\n      title: \"\"\n    };\n  }\n\n  render() {\n    return (\n      <CreateDealLandingPageV2View\n        allowNumberOfFile={ALLOWED_NUMBER_OF_FILE}\n        files={this.state.files}\n        onAddFile={this.onAddFile}\n        onChangeDescription={this.onChangeDescription}\n        onChangeTitle={this.onChangeTitle}\n        onClickAddress={this.onClickAddress}\n        onClickRemoveSelectedAddress={this.onClickRemoveSelectedAddress}\n        onClickSaveDraft={this.onClickSaveDraft}\n        onClickSubmit={this.onClickSubmit}\n        onClose={this.props.onClose}\n        hasAddress={this.state.hasAddress}\n        hasField={this.state.hasField}\n        selectedAddress={this.state.selectedAddress}\n      />\n    );\n  }\n\n  protected onAddFile = (event: ChangeEvent<HTMLInputElement>) => {\n    console.debug(\"onAddImage\");\n    const fileList = event.target.files;\n    if (fileList !== null) {\n      for (let i = 0; i < fileList.length; i++) {\n        this.convertImageToBase64(fileList[i]);\n      }\n    }\n  };\n\n  protected async convertImageToBase64(image: File) {\n    const fileReader: FileReader = new FileReader();\n    fileReader.onload = changeEvent => {\n      if (changeEvent.target && changeEvent.target.result) {\n        this.imageProcessor\n          .fixRotation(changeEvent.target.result.toString())\n          .then(fixedRotation => {\n            this.setState({\n              files: this.state.files.concat({\n                base64Value: fixedRotation,\n                name: image.name,\n                type: image.type\n              })\n            });\n          });\n      }\n    };\n    fileReader.readAsDataURL(image);\n  }\n\n  protected onChangeDescription = (description: string) => {\n    console.debug(\"onChangeDescription\");\n    this.setState({\n      description\n    });\n  };\n\n  protected onChangeTitle = (title: string) => {\n    console.debug(\"onChangeTitle\");\n    this.setState({\n      title\n    });\n  };\n\n  protected onClickAddress = (selectedAddress: Address) => {\n    console.debug(\"onClickAddress\");\n    this.setState({\n      selectedAddress\n    });\n  };\n\n  protected onClickRemoveSelectedAddress = () => {\n    console.debug(\"onClickRemoveSelectedAddress\");\n    this.setState({\n      selectedAddress: undefined\n    });\n  };\n\n  protected onClickSaveDraft = () => {\n    console.debug(\"onClickSaveDraft\");\n  };\n\n  protected onClickSubmit = async () => {\n    console.debug(\"onClickSubmit\");\n    if (this.verifyInput()) {\n      this.onSubmit();\n    }\n  };\n\n  protected onSubmit = async () => {\n    console.debug(\"start to submit a new deal\");\n    await this.appState.createDeal.setCreateDealUploading(true);\n    this.props.onClose();\n    const labels = this.appContext.labels.createDealPageV2;\n    await this.appState.createDeal.setCreateDealProgressMessage(\n      labels.uploadingImage\n    );\n    const imageUploadResult = await Promise.all(\n      this.state.files.map(async file => {\n        const imageBlob: File = await this.imageProcessor.imagePrecprocess(\n          file.base64Value\n        );\n        const fileUploadResponse: FileUploadResponse = await this.appContext.serviceExecutor.execute(\n          GET_PRESIGNED_URL(file.type, file.name)\n        );\n        await this.appContext.serviceExecutor.execute(\n          UPLOAD_IMAGE_SIGNED_URL(\n            imageBlob,\n            fileUploadResponse.preSignedUrl ?? \"\"\n          )\n        );\n        return fileUploadResponse.url;\n      })\n    ).then(url => url);\n\n    await this.appState.createDeal.setCreateDealProgressMessage(\n      labels.uploadingDeal\n    );\n    const createDeal: Deal = {\n      address: this.state.selectedAddress,\n      description: this.state.description,\n      filesUrl: imageUploadResult.map(url => url ?? \"\"),\n      serverIdentifierName: this.state.selectedAddress?.area,\n      timestamp: 0,\n      title: this.state.title\n    };\n    await this.appContext.serviceExecutor.execute(CREATE_DEAL(createDeal));\n    if (this.state.selectedAddress) {\n      await this.appContext.serviceExecutor\n        .execute(GET_DEALS(this.state.selectedAddress))\n        .then((result: GetDealResponse) => {\n          this.appState.deal.setDeals(result.deals);\n        })\n        .then(() => {\n          setTimeout(() => {\n            this.appState.createDeal.setCreateDealUploading(false);\n          }, 5000);\n        })\n        .catch(() => {\n          console.debug(\"something weng wrong while creating deal\");\n        });\n    }\n    await this.appState.createDeal.setCreateDealProgressMessage(\n      labels.uploadCompleted\n    );\n  };\n\n  protected verifyInput(): boolean {\n    const state = this.state;\n    let hasAddress = state.selectedAddress !== undefined;\n    let hasField: boolean =\n      state.title !== \"\" || state.description !== \"\" || state.files.length > 0;\n    this.setState({\n      hasAddress,\n      hasField\n    });\n    return hasAddress && hasField;\n  }\n}\n","import ApplicationComponent from \"../../common/applicationComponent\";\nimport React, { ReactNode, ChangeEvent } from \"react\";\nimport {\n  View,\n  styleSchema,\n  PrimaryButton,\n  MiniText,\n  H5,\n  P\n} from \"../../common\";\nimport {\n  Add as AddIcon,\n  Close as CloseIcon,\n  Delete as DeleteIcon,\n  FolderOpen as FolderOpenIcon,\n  HelpOutline as HelpOutlineIcon,\n  Room as LocationIcon\n} from \"@material-ui/icons\";\nimport { Button } from \"@material-ui/core\";\nimport TextField from \"../../common/textField\";\nimport { Address } from \"../../modal/deal\";\nimport { FileDetail } from \"../../modal/fileDetal\";\n\ninterface Props {\n  allowNumberOfFile: number;\n  files: FileDetail[];\n  hasAddress: boolean;\n  hasField: boolean;\n  onAddFile: (event: ChangeEvent<HTMLInputElement>) => void;\n  onChangeDescription: (description: string) => void;\n  onChangeTitle: (title: string) => void;\n  onClickAddress: (address: Address) => void;\n  onClickRemoveSelectedAddress: () => void;\n  onClickSaveDraft: () => void;\n  onClickSubmit: () => void;\n  onClose: () => void;\n  selectedAddress?: Address;\n}\n\nexport default class CreateDealLandingPageV2View extends ApplicationComponent<\n  Props\n> {\n  render() {\n    return (\n      <View style={styles.rootContainer}>\n        <this.Header />\n        <this.FileSection />\n        <this.Title />\n        <this.Description />\n        <this.AddressSelection />\n        <this.BottomButtonSecton />\n      </View>\n    );\n  }\n\n  protected AddImageButton = () => {\n    return (\n      <this.Frame>\n        <input\n          accept=\"image/*\"\n          onChange={event => this.props.onAddFile(event)}\n          style={{ display: \"none\" }}\n          id=\"raised-button-file\"\n          multiple\n          type=\"file\"\n        />\n        <label htmlFor=\"raised-button-file\">\n          <Button component=\"span\" style={styles.addIconButton}>\n            <AddIcon scale=\"big\" style={styles.addIcon} />\n          </Button>\n        </label>\n      </this.Frame>\n    );\n  };\n\n  protected AddressSelection = () => {\n    const addressDisplay = this.props.selectedAddress ? (\n      <this.SelectedAddress />\n    ) : (\n      <this.AddressBubble />\n    );\n    return (\n      <>\n        <this.MissingSectionLabel\n          hide={this.props.hasAddress}\n          label={this.appContext.labels.createDealPageV2.missingAddress}\n        />\n        <View isFlexDirectionRow style={styles.addressSectionContainer}>\n          <LocationIcon style={styles.locationIcon} />\n          {addressDisplay}\n        </View>\n      </>\n    );\n  };\n\n  protected AddressBubble = () => {\n    const bubbles = this.appState.address.addressesPrediction.map(address => {\n      return (\n        <View\n          border={1}\n          onClick={() => this.props.onClickAddress(address)}\n          style={{ ...styles.addressBubbleContainer, whiteSpace: \"nowrap\" }}\n        >\n          <P style={{ color: styleSchema.color.secondaryColor }}>\n            {address.formattedAddress}\n          </P>\n        </View>\n      );\n    });\n    return (\n      <View isFlexDirectionRow style={styles.addressSelectionContainer}>\n        {bubbles}\n      </View>\n    );\n  };\n\n  protected BottomButtonSecton = () => {\n    return (\n      <View isFlexDirectionRow style={styles.bottomButtonSectionContainer}>\n        <this.DraftButton />\n        <this.SubmitButton />\n      </View>\n    );\n  };\n\n  protected CloseButton = () => {\n    return <CloseIcon onClick={this.props.onClose} style={styles.closeIcon} />;\n  };\n\n  protected Description = () => {\n    return (\n      <TextField\n        multiline\n        onChange={this.props.onChangeDescription}\n        placeholder={\n          this.appContext.labels.createDealPageV2.descriptionPlaceHolder\n        }\n        rows={6}\n      />\n    );\n  };\n\n  protected DraftButton = () => {\n    return (\n      <Button onClick={this.props.onClickSaveDraft} style={styles.draftButton}>\n        <View style={styles.draftButtonContainer}>\n          <FolderOpenIcon style={styles.draftIcon} />\n          <MiniText color=\"secondary\">\n            {this.appContext.labels.createDealPageV2.saveDraft}\n          </MiniText>\n        </View>\n      </Button>\n    );\n  };\n\n  protected FileSection = () => {\n    const images: ReactNode[] = this.props.files.map(image => (\n      <this.ImageContainer image={image} />\n    ));\n    if (this.props.files.length < this.props.allowNumberOfFile) {\n      images.push(<this.AddImageButton />);\n    }\n    return (\n      <>\n        <this.MissingSectionLabel\n          hide={this.props.hasField}\n          label={this.appContext.labels.createDealPageV2.missingField}\n        />\n        <View isFlexDirectionRow style={styles.fileSectionContainer}>\n          {images}\n        </View>\n      </>\n    );\n  };\n\n  protected Header = () => {\n    return (\n      <View isFlexDirectionRow style={styles.headerContainer}>\n        <this.ImageDimensionTips />\n        <this.CloseButton />\n      </View>\n    );\n  };\n\n  protected ImageContainer = ({ image }: { image: FileDetail }) => {\n    return (\n      <this.Frame>\n        <img\n          alt={\"user-input\"}\n          src={image.base64Value}\n          style={{ ...styles.imageStyle, objectFit: \"cover\" }}\n        />\n      </this.Frame>\n    );\n  };\n\n  protected ImageDimensionTips = () => {\n    return (\n      <View isFlexDirectionRow style={styles.imageDimensionTipsContainer}>\n        <HelpOutlineIcon style={styles.imageDimensionTipsIcon} />\n        <H5>{this.appContext.labels.createDealPageV2.imageDimensionTips}</H5>\n      </View>\n    );\n  };\n\n  protected Frame = ({ children }: { children: ReactNode }) => {\n    return (\n      <View border={1} style={styles.frameContainer}>\n        {children}\n      </View>\n    );\n  };\n\n  protected MissingSectionLabel = ({\n    label,\n    hide\n  }: {\n    label: string;\n    hide: boolean;\n  }) => {\n    return hide ? null : (\n      <P style={{ color: \"red\", fontWeight: \"bold\" }}>{label}</P>\n    );\n  };\n\n  protected SelectedAddress = () => {\n    return (\n      <View isFlexDirectionRow style={styles.selectedAddressContainer}>\n        <P style={styles.selectedAddressText}>\n          {this.props.selectedAddress?.formattedAddress ?? \"\"}\n        </P>\n        <DeleteIcon\n          onClick={this.props.onClickRemoveSelectedAddress}\n          style={styles.deleteIcon}\n        />\n      </View>\n    );\n  };\n\n  protected SubmitButton = () => {\n    return (\n      <PrimaryButton onClick={this.props.onClickSubmit}>\n        {this.appContext.labels.createDealPageV2.submitPost}\n      </PrimaryButton>\n    );\n  };\n\n  protected Title = () => {\n    return (\n      <TextField\n        onChange={this.props.onChangeTitle}\n        placeholder={this.appContext.labels.createDealPageV2.titlePlaceHolder}\n      />\n    );\n  };\n}\n\nconst styles = {\n  addIcon: {\n    color: styleSchema.color.greyTransparent,\n    fontSize: \"80\"\n  },\n  addIconButton: {\n    borderRadius: 10\n  },\n  addressBubbleContainer: {\n    borderColor: styleSchema.color.secondaryColor,\n    borderRadius: 30,\n    paddingTop: 2,\n    paddingBottom: 2,\n    paddingLeft: 10,\n    paddingRight: 10,\n    marginRight: 5\n  },\n  addressSelectionContainer: {\n    overflow: \"scroll\",\n    paddingBottom: 10\n  },\n  addressSectionContainer: {\n    alignItems: \"center\",\n    marginTop: 5,\n    width: \"inherit\"\n  },\n  bottomButtonSectionContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: 20,\n    marginTop: 20,\n    width: \"inherit\"\n  },\n  closeIcon: {\n    color: styleSchema.color.greyDark\n  },\n  deleteIcon: {\n    color: styleSchema.color.greyDark\n  },\n  descriptionTextField: {\n    marginTop: 10,\n    width: \"inherit\"\n  },\n  draftButton: {\n    padding: 0\n  },\n  draftButtonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  draftIcon: {\n    backgroundColor: styleSchema.color.secondaryColorTransparent,\n    borderRadius: 25,\n    color: styleSchema.color.secondaryColor,\n    fontSize: 16,\n    marginBottom: 1,\n    padding: 3\n  },\n  fileSectionContainer: {\n    alignItems: \"start\",\n    overflow: \"scroll\",\n    paddingBottom: 10,\n    paddingTop: 10,\n    width: \"inherit\"\n  },\n  frameContainer: {\n    alignItems: \"center\",\n    borderColor: styleSchema.color.greyTransparent,\n    borderRadius: 10,\n    justifyContent: \"center\",\n    margin: 5,\n    maxHeight: 80,\n    maxWidth: 80,\n    minHeight: 80,\n    minWidth: 80\n  },\n  headerContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 15,\n    width: \"inherit\"\n  },\n  imageDimensionTipsContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  imageDimensionTipsIcon: {\n    color: styleSchema.color.secondaryColor,\n    fontSize: 18\n  },\n  imageStyle: {\n    borderRadius: 10,\n    minHeight: \"inherit\",\n    minWidth: \"inherit\"\n  },\n  locationIcon: {\n    color: styleSchema.color.red,\n    marginLeft: -5,\n    marginRight: 3,\n    paddingBottom: 10\n  },\n  rootContainer: {\n    width: \"inherit\"\n  },\n  selectedAddressContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    paddingBottom: 10,\n    width: \"inherit\"\n  },\n  selectedAddressText: {\n    color: styleSchema.color.black\n  },\n  titleTextField: {\n    marginTop: 10,\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { CreateDealLandingPageView } from \".\";\nimport Deal, { Address, GetDealResponse } from \"../../modal/deal\";\nimport { CREATE_DEAL, GET_DEALS } from \"../../common/middleware/service\";\n\ninterface Props {\n  onClickClose: () => void;\n}\n\nexport interface State {\n  hasTitle: boolean;\n  hasDescription: boolean;\n  richTextValue: string;\n  title: string;\n  useAutoPosition: boolean;\n}\n\nexport default class CreateDealLandingPage extends ApplicationComponent<\n  Props,\n  State\n> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasTitle: true,\n      hasDescription: true,\n      richTextValue: \"\",\n      title: \"\",\n      useAutoPosition: true\n    };\n  }\n\n  render() {\n    return (\n      <CreateDealLandingPageView\n        currentAddress={this.appState.address.selectedAddress}\n        hasDescription={this.state.hasDescription}\n        hasTitle={this.state.hasTitle}\n        onChangeRichTextValue={this.onChangeRichTextValue}\n        onChangeTitleTextField={this.onChangeTitleTextField}\n        onClickClose={() => this.props.onClickClose()}\n        onClickSubmit={this.onClickSubmit}\n        useAutoPosition={this.state.useAutoPosition}\n      />\n    );\n  }\n\n  protected onChangeRichTextValue = (richTextValue: string) => {\n    this.setState({\n      richTextValue\n    });\n  };\n\n  protected onChangeTitleTextField = (title: string) => {\n    this.setState({\n      title\n    });\n  };\n\n  protected onClickSubmit = async () => {\n    await this.validateDescription();\n    await this.validateTitle();\n    if (\n      this.state.hasDescription &&\n      this.state.hasTitle &&\n      this.appState.address.selectedAddress\n    ) {\n      await this.appContext.serviceExecutor.execute(\n        CREATE_DEAL({\n          address: this.appState.address.selectedAddress,\n          description: this.state.richTextValue,\n          filesUrl: [],\n          serverIdentifierName: \"\", // TODO - this might not be correct!!!\n          timestamp: 0,\n          title: this.state.title\n        })\n      );\n      this.props.onClickClose();\n      await this.appContext.serviceExecutor\n        .execute(GET_DEALS(this.appState.address.selectedAddress))\n        .then((getDealResponse: GetDealResponse) =>\n          this.appState.deal.setDeals(getDealResponse.deals)\n        );\n    }\n  };\n\n  protected validateDescription() {\n    this.setState({\n      hasDescription: this.state.richTextValue.length > 0\n    });\n  }\n\n  protected validateTitle() {\n    this.setState({\n      hasTitle: this.state.title.length > 0\n    });\n  }\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { H1, H5, View, TwinButton, styleSchema } from \"../../common\";\nimport { Address } from \"../../modal/deal\";\nimport { Button } from \"@material-ui/core\";\nimport { LegacyCreateDealView } from \".\";\n\nexport interface Props {\n  currentAddress?: Address;\n  hasTitle: boolean;\n  hasDescription: boolean;\n  onChangeRichTextValue: (value: string) => void;\n  onChangeTitleTextField: (value: string) => void;\n  onClickClose: () => void;\n  onClickSubmit: () => void;\n  useAutoPosition: boolean;\n}\n\nexport default class CreateDealLandingPageView extends ApplicationComponent<\n  Props\n> {\n  render() {\n    return (\n      <View style={styles.rootContainer}>\n        <this.HeaderSection />\n        <this.ContentInput />\n        <this.ButtonSection />\n      </View>\n    );\n  }\n\n  ButtonSection = () => {\n    let label = this.appContext.labels.createDealPage;\n    return (\n      <TwinButton\n        onClickPrimaryButton={() => this.props.onClickSubmit()}\n        onClickSecondaryButton={() => this.props.onClickClose()}\n        primaryButtonLabel={label.create}\n        secondaryButtonLabel={label.cancel}\n        style={styles.buttonSection}\n      />\n    );\n  };\n\n  ContentInput = () => {\n    const {\n      currentAddress,\n      hasTitle,\n      hasDescription,\n      onChangeRichTextValue,\n      onChangeTitleTextField,\n      useAutoPosition\n    } = this.props;\n    return (\n      <LegacyCreateDealView\n        currentAddress={currentAddress}\n        hasTitle={hasTitle}\n        hasDescription={hasDescription}\n        onChangeRichTextValue={onChangeRichTextValue}\n        onChangeTitleTextField={onChangeTitleTextField}\n        useAutoPosition={useAutoPosition}\n      />\n    );\n  };\n\n  HeaderSection = () => {\n    let label = this.appContext.labels.createDealPage;\n    return (\n      <View style={styles.headerContainer} isFlexDirectionRow={true}>\n        <H1>{label.header}</H1>\n        <Button onClick={() => this.props.onClickClose()}>\n          <H5>{label.close}</H5>\n        </Button>\n      </View>\n    );\n  };\n}\n\nconst styles = {\n  addressSectionContainer: {\n    marginTop: 5,\n    width: \"inherit\"\n  },\n  buttonSection: {\n    margin: 10\n  },\n  headerContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 10,\n    width: \"100%\"\n  },\n  missingContentText: {\n    color: styleSchema.color.red,\n    marginTop: 5\n  },\n  descriptionContainer: {\n    marginTop: 10,\n    width: \"inherit\"\n  },\n  richTextEditor: {\n    marginTop: 5\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    overflow: \"hidden\",\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  titleTextField: {\n    marginTop: 5\n  },\n  titleTextFiledContainer: {\n    justifyContent: \"center\",\n    marginTop: 10,\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport {\n  H5,\n  LocalDealTextField,\n  AddressDisplay,\n  View,\n  RichTextEditor,\n  styleSchema\n} from \"../../common\";\nimport { Address } from \"../../modal/deal\";\n\nexport interface Props {\n  currentAddress?: Address;\n  hasTitle: boolean;\n  hasDescription: boolean;\n  onChangeRichTextValue: (value: string) => void;\n  onChangeTitleTextField: (value: string) => void;\n  useAutoPosition: boolean;\n}\n\nexport default class CreateDealLandingPageView extends ApplicationComponent<\n  Props\n> {\n  render() {\n    return (\n      <>\n        <this.AddressSection />\n        <this.TitleTextField />\n        <this.HourOfOperationSection />\n        <this.DescriptionTextField />\n      </>\n    );\n  }\n\n  AddressSection = () => {\n    return (\n      <View style={styles.addressSectionContainer}>\n        {this.props.useAutoPosition ? (\n          <this.AddressAutoPositionDisplay />\n        ) : (\n          <this.AddressTextField />\n        )}\n      </View>\n    );\n  };\n\n  AddressAutoPositionDisplay = () => {\n    if (this.props.currentAddress) {\n      return <AddressDisplay address={this.props.currentAddress} />;\n    }\n    return null;\n  };\n\n  AddressTextField = () => {\n    return null;\n  };\n\n  DescriptionTextField = () => {\n    return (\n      <View style={styles.descriptionContainer}>\n        <this.DescriptionMissing />\n        <RichTextEditor\n          onChangeValue={this.props.onChangeRichTextValue}\n          style={styles.richTextEditor}\n        />\n      </View>\n    );\n  };\n\n  DescriptionMissing = () => {\n    return this.props.hasDescription ? null : (\n      <this.MissingContentText\n        label={this.appContext.labels.createDealPage.descriptionMissing}\n      />\n    );\n  };\n\n  HourOfOperationSection = () => {\n    return null;\n  };\n\n  MissingContentText = ({ label }: { label: string }) => {\n    return <H5 style={styles.missingContentText}>{label}</H5>;\n  };\n\n  TitleMissing = () => {\n    return this.props.hasTitle ? null : (\n      <this.MissingContentText\n        label={this.appContext.labels.createDealPage.titleMissing}\n      />\n    );\n  };\n\n  TitleTextField = () => {\n    return (\n      <View style={styles.titleTextFiledContainer}>\n        <this.TitleMissing />\n        <LocalDealTextField\n          onChange={this.props.onChangeTitleTextField}\n          text={this.appContext.labels.createDealPage.textFieldTitle}\n          style={styles.titleTextField}\n        />\n      </View>\n    );\n  };\n}\n\nconst styles = {\n  addressSectionContainer: {\n    marginTop: 5,\n    width: \"inherit\"\n  },\n  buttonSection: {\n    margin: 10\n  },\n  headerContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginTop: 10,\n    width: \"100%\"\n  },\n  missingContentText: {\n    color: styleSchema.color.red,\n    marginTop: 5\n  },\n  descriptionContainer: {\n    marginTop: 10,\n    width: \"inherit\"\n  },\n  richTextEditor: {\n    marginTop: 5\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  titleTextField: {\n    marginTop: 5\n  },\n  titleTextFiledContainer: {\n    justifyContent: \"center\",\n    marginTop: 10,\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { Address } from \"../../modal/deal\";\n\nexport default class AddressPrediction extends ApplicationComponent {\n  render() {\n    this.setDefaultSelectedAddress();\n    return null;\n  }\n\n  protected setDefaultSelectedAddress() {\n    if (\n      this.appState.address.addressesPrediction.length > 0 &&\n      !this.appState.address.selectedAddress?.area\n    ) {\n      this.onSelectAddress();\n    }\n  }\n\n  protected onSelectAddress = (index: number = 0) => {\n    if (this.appState.address.addressesPrediction) {\n      const selectedAddress: Address = this.appState.address\n        .addressesPrediction[index];\n      this.appState.address.setSelectedAddress(selectedAddress);\n    }\n  };\n}\n","import React, { Component } from \"react\";\nimport { Tooltip, Button } from \"@material-ui/core\";\n\ninterface Props {\n  children: React.ReactNode;\n  title: string;\n}\n\nexport default class ToolTips extends Component<Props> {\n  render() {\n    return (\n      <Tooltip disableTouchListener title={this.props.title}>\n        <Button style={{ padding: 0, minWidth: 0 }}>\n          {this.props.children}\n        </Button>\n      </Tooltip>\n    );\n  }\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { HeaderMenuView } from \".\";\nimport { LOGOUT_OAUTH } from \"../../common/middleware/service\";\n\ninterface State {\n  isMenuOpen: boolean;\n  isToastMessageOpen: boolean;\n}\n\nexport default class HeaderMenu extends ApplicationComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      isMenuOpen: false,\n      isToastMessageOpen: false\n    };\n  }\n\n  render() {\n    return (\n      <HeaderMenuView\n        isMenuOpen={this.state.isMenuOpen}\n        onClickMenu={this.onClickMenu}\n        onClickLogout={this.onClickLogout}\n        onCloseMenu={this.onCloseMenu}\n        userProfile={this.appState.user.userProfile}\n      />\n    );\n  }\n\n  onClickMenu = () => {\n    this.setState({\n      isMenuOpen: true\n    });\n  };\n\n  onClickLogout = () => {\n    console.debug(\"onClickLogout\");\n    this.appContext.serviceExecutor.execute(LOGOUT_OAUTH()).then(() => {\n      this.appState.user.removeUserProfile();\n    });\n  };\n\n  onCloseMenu = () => {\n    this.setState({\n      isMenuOpen: false\n    });\n  };\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { LoginView } from \".\";\n\ninterface State {\n  password: string;\n  username: string;\n}\n\nexport default class Login extends ApplicationComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      password: \"\",\n      username: \"\"\n    };\n  }\n\n  render() {\n    return (\n      <LoginView\n        onChangePassword={this.onChangePassword}\n        onChangeUsername={this.onChangeUsername}\n        onClickSubmit={this.onClickSubmit}\n        password={this.state.password}\n        username={this.state.username}\n      />\n    );\n  }\n\n  protected onChangePassword = (password: string) => {\n    console.debug(\"onChangePassword\");\n  };\n\n  protected onChangeUsername = (username: string) => {\n    console.debug(\"onChangeUsername\");\n  };\n\n  protected onClickSubmit = () => {\n    console.debug(\"onClickSubmit\");\n  };\n}\n","import React, { ReactNode } from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport {\n  View,\n  LocalDealTextField,\n  styleSchema,\n  PrimaryButton,\n  BackgroundTheme,\n  H4\n} from \"../../common\";\nimport { Feature } from \"../../common/feature/feature\";\n\ninterface Props {\n  onClickSubmit: () => void;\n  onChangePassword: (password: string) => void;\n  onChangeUsername: (username: string) => void;\n  password: string;\n  username: string;\n}\n\nexport default class LoginView extends ApplicationComponent<Props> {\n  render() {\n    const loginFeatures: ReactNode[] = [];\n    if (this.appContext.features.includes(Feature.LOGIN_LOCALDEAL)) {\n      loginFeatures.push(<this.Container />);\n    }\n    return loginFeatures;\n  }\n\n  protected Container = () => {\n    return (\n      <>\n        <BackgroundTheme>\n          <this.Header />\n          <this.UsernameTextField />\n          <this.PasswordTextField />\n          <this.SubmitButton />\n        </BackgroundTheme>\n      </>\n    );\n  };\n\n  protected Header = () => {\n    return (\n      <View style={styles.headerContainer}>\n        <H4>{this.appContext.labels.login.formName}</H4>\n      </View>\n    );\n  };\n\n  protected PasswordTextField = () => {\n    return (\n      <LocalDealTextField\n        onChange={this.props.onChangePassword}\n        text={this.appContext.labels.login.password}\n      />\n    );\n  };\n\n  protected SubmitButton = () => {\n    // this need to be fix if use!!!\n    return <PrimaryButton disabled />;\n  };\n\n  protected UsernameTextField = () => {\n    return (\n      <LocalDealTextField\n        onChange={this.props.onChangeUsername}\n        text={this.appContext.labels.login.username}\n      />\n    );\n  };\n}\n\nconst styles = {\n  headerContainer: {\n    width: \"inherit\"\n  },\n  submitButton: {\n    marginTop: 15\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    backgroundColor: styleSchema.color.primaryColorTransparent,\n    borderRadius: 5,\n    padding: 10,\n    marginTop: 20,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { OAuthView } from \".\";\nimport { LOGOUT_OAUTH } from \"../../common/middleware/service\";\n\nexport default class OAuth extends ApplicationComponent<{}> {\n  render() {\n    return (\n      <OAuthView\n        onClickLogout={this.onClickLogout}\n        userProfile={this.appState.user.userProfile}\n      />\n    );\n  }\n\n  protected onClickLogout = () => {\n    console.debug(\"onClickLogout\");\n    this.appContext.serviceExecutor.execute(LOGOUT_OAUTH()).then(() => {\n      this.appState.user.removeUserProfile();\n    });\n  };\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { Button, Link } from \"@material-ui/core\";\nimport { OAuthProvider } from \"../../common/feature/oAuthProvider\";\nimport { BackgroundTheme, View, H4, Image, TextButton, H1 } from \"../../common\";\nimport { UserProfile } from \"../../modal/userProfile\";\nimport Modal from \"../../common/modal\";\nimport { Feature } from \"../../common/feature/feature\";\n\ninterface Props {\n  onClickLogout: () => void;\n  userProfile: UserProfile;\n}\n\nexport default class OAuthView extends ApplicationComponent<Props> {\n  render() {\n    return <this.Container />;\n  }\n\n  protected getGoogleOAuthRequestURL(): string {\n    const requestUrl = `https://accounts.google.com/o/oauth2/v2/auth?scope=profile&access_type=offline&include_granted_scopes=true&response_type=code&state=GOOGLE&redirect_uri=${this.appContext.oAuthRedirectUrl}&client_id=965687889406-d0pqe0hr6i3c4uo18rr5j0spqq73phth.apps.googleusercontent.com`;\n    return requestUrl;\n  }\n\n  protected Container = () => {\n    const child =\n      this.props.userProfile.oAuthProvider !== OAuthProvider.NONE ? (\n        <this.UserProfileSection />\n      ) : (\n        <this.OAuthLoginOptions />\n      );\n    return <BackgroundTheme theme=\"primary\">{child}</BackgroundTheme>;\n  };\n\n  protected GoogleOAuthLoginIcon = () => {\n    if (this.appContext.features.includes(Feature.LOGIN_GOOGLE_OAUTH)) {\n      return (\n        <Button>\n          <Link href={this.getGoogleOAuthRequestURL()}>Google</Link>\n        </Button>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  protected LogoutButton = () => {\n    return (\n      <TextButton onClick={this.props.onClickLogout} underline>\n        {this.appContext.labels.oAuth.logout}\n      </TextButton>\n    );\n  };\n\n  protected OAuthLoginOptions = () => {\n    return <this.GoogleOAuthLoginIcon />;\n  };\n\n  protected UserProfileSection = () => {\n    if (\n      this.appContext.features.includes(Feature.USER_PROFILE_IN_HEADER_MENU)\n    ) {\n      const userProfile: UserProfile = this.props.userProfile;\n      return (\n        <View isFlexDirectionRow style={styles.rootContainer}>\n          <Image src={userProfile.imageUrl} />\n          <View style={styles.userTextInfoContainer}>\n            <H4>{this.getProviderLabel(userProfile.oAuthProvider)}</H4>\n            <H4>{userProfile.name}</H4>\n          </View>\n        </View>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  protected getProviderLabel(oAuthProvider: OAuthProvider): string {\n    const label = this.appContext.labels.oAuth;\n    switch (oAuthProvider) {\n      case OAuthProvider.GOOGLE:\n        return label.google;\n      case OAuthProvider.WECHAT:\n        return label.weChat;\n      default:\n        return label.undefined;\n    }\n  }\n}\n\nconst styles = {\n  logoutButtonContainer: {\n    height: \"inherit\",\n    alignItems: \"right\",\n    justifyContent: \"right\"\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-around\",\n    padding: 10,\n    width: \"inherit\"\n  },\n  userTextInfoContainer: {\n    marginLeft: 15,\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport {\n  Image,\n  View,\n  styleSchema,\n  TextButton,\n  H4,\n  H5,\n  DrawerMenu,\n  P,\n  Toast\n} from \"../../common\";\nimport { Menu as MenuIcon } from \"@material-ui/icons\";\nimport Link from \"@material-ui/core/Link\";\nimport { Login } from \"../login\";\nimport { Feature } from \"../../common/feature/feature\";\nimport { OAuth } from \"../oAuth\";\nimport { UserProfile } from \"../../modal/userProfile\";\nimport { OAuthProvider } from \"../../common/feature/oAuthProvider\";\n\nexport interface Props {\n  isMenuOpen: boolean;\n  onClickMenu: () => void;\n  onClickLogout: () => void;\n  onCloseMenu: () => void;\n  userProfile: UserProfile;\n}\n\nexport default class HeaderMenuView extends ApplicationComponent<Props> {\n  render() {\n    if (this.appContext.features.includes(Feature.HEADER_MENU)) {\n      return (\n        <View borderLeft={1} style={styles.menuIconContainer}>\n          <MenuIcon style={styles.menuIcon} onClick={this.props.onClickMenu} />\n          <DrawerMenu\n            anchor={\"right\"}\n            onClose={this.props.onCloseMenu}\n            open={this.props.isMenuOpen}\n          >\n            <this.MenuContainer />\n          </DrawerMenu>\n        </View>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  CloseButton = () => {\n    return (\n      <TextButton onClick={this.props.onCloseMenu}>\n        {this.appContext.labels.headerMenu.closeButton}\n      </TextButton>\n    );\n  };\n\n  ContactInfomation = () => {\n    const label = this.appContext.labels.headerMenu;\n    if (this.appContext.features.includes(Feature.CONTACT_SHOW_EMAIL)) {\n      return (\n        <Link href={`mailto:${label.emailAddress}`} underline={\"none\"}>\n          <P>{label.contactUs}</P>\n        </Link>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  DevelopingFeatures = () => {\n    const featues: any = this.appContext.labels.headerMenu.currentDevelopingFeatuers.map(\n      (feature: string, index: number) => {\n        return <H5>{`${index + 1}) ${feature}`}</H5>;\n      }\n    );\n    const label = this.appContext.labels.headerMenu;\n    return (\n      <View style={styles.developingFeatureContainer}>\n        <H5>{label.moreFeatureIsComingDescription}</H5>\n        <H5>{label.developingFeature}</H5>\n        {featues}\n      </View>\n    );\n  };\n\n  LowerPortion = () => {\n    return (\n      <View style={styles.lowerPortionContainer}>\n        <this.ContactInfomation />\n        <this.CloseButton />\n      </View>\n    );\n  };\n\n  MenuContainer = () => {\n    return (\n      <View style={styles.menuContainer}>\n        <this.UpperPortion />\n        <this.LowerPortion />\n      </View>\n    );\n  };\n\n  UpperPortion = () => {\n    const label = this.appContext.labels.headerMenu;\n    return (\n      <View style={styles.upperPortionContainer}>\n        <this.UserProfileHeaderSection />\n        <this.DevelopingFeatures />\n        <H5>{label.bugReportDescription}</H5>\n        <Login />\n        <View style={styles.oAuthContainer}>\n          <OAuth />\n        </View>\n      </View>\n    );\n  };\n\n  UserProfileHeaderSection = () => {\n    const userProfile = this.props.userProfile;\n    if (userProfile.oAuthProvider !== OAuthProvider.NONE) {\n      return (\n        <View\n          boxShadow={1}\n          isFlexDirectionRow\n          style={styles.userProfileHeaderSectionContainer}\n        >\n          <Image size=\"miniCircularImage\" src={userProfile.imageUrl} />\n          <H4>{userProfile.name}</H4>\n          <TextButton onClick={this.props.onClickLogout} underline>\n            {this.appContext.labels.headerMenu.logout}\n          </TextButton>\n        </View>\n      );\n    }\n    return null;\n  };\n}\nconst styles = {\n  developingFeatureContainer: {\n    padding: 15\n  },\n  lowerPortionContainer: {\n    alignItems: \"center\",\n    paddingTop: 20,\n    paddingBottom: 20\n  },\n  menuIconContainer: {\n    borderColor: styleSchema.color.greyTransparent,\n    marginLeft: 18\n  },\n  menuIcon: {\n    color: styleSchema.color.greyDark,\n    ...styleSchema.icon\n  },\n  menuContainer: {\n    alignItems: \"center\",\n    height: \"inherit\",\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  oAuthContainer: {\n    marginTop: 20,\n    width: \"inherit\"\n  },\n  upperPortionContainer: {\n    alignItems: \"center\",\n    paddingTop: 20,\n    width: \"inherit\"\n  },\n  userProfileHeaderSectionContainer: {\n    alignItems: \"center\",\n    // backgroundColor: styleSchema.color.greyTransparent,\n    borderRadius: 5,\n    justifyContent: \"space-between\",\n    padding: 5,\n    width: \"inherit\"\n  }\n};\n","import React, { ReactNode, ReactElement } from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport \"../../App.css\";\n\nimport { Address } from \"../../modal/deal\";\nimport { styleSchema, View, DrawerMenu, Image } from \"../../common\";\nimport {\n  CreateDealLandingPage,\n  CreateDealLandingPageV2\n} from \"../createDealLandingPage\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { AddressPrediction } from \"../addressPrediction\";\nimport logo from \"../../resouces/logo_icon_character-min.png\";\nimport { Add as AddIcon, Room as LocationIcon } from \"@material-ui/icons\";\nimport ToolTips from \"../../common/ToolTips\";\nimport { HeaderMenu } from \"../menu\";\nimport { UserProfile } from \"../../modal/userProfile\";\nimport { OAuthProvider } from \"../../common/feature/oAuthProvider\";\nimport { Feature } from \"../../common/feature/feature\";\nimport { Avatar } from \"@material-ui/core\";\n\nexport interface Props {\n  isCreateDealDrawerOpen: boolean;\n  isHamburgerMenuDrawerOpen: boolean;\n  onClickCreateDeal: () => void;\n  onClickHamburgerMenu: () => void;\n  onCloseCreateDeal: () => void;\n  onCloseHamburgerMenu: () => void;\n  onClickLocationButton: () => void;\n  selectedAddress?: Address;\n  userProfile: UserProfile;\n}\n\nexport default class HeaderView extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <>\n        <View\n          boxShadow={1}\n          isFlexDirectionRow={true}\n          style={styles.rootContainer}\n        >\n          <AddressPrediction />\n          <this.CreateDealDrawer />\n          <this.HeaderTextAndLogo />\n          <this.TopBarSection />\n        </View>\n      </>\n    );\n  }\n\n  CreateDealDrawer = () => {\n    const createDealSection = !this.appContext.features.includes(\n      Feature.DEAL_LEGACY\n    ) ? (\n      <CreateDealLandingPageV2 onClose={this.props.onCloseCreateDeal} />\n    ) : (\n      <CreateDealLandingPage onClickClose={this.props.onCloseCreateDeal} />\n    );\n\n    return (\n      <DrawerMenu\n        anchor={\"top\"}\n        onClose={this.props.onCloseCreateDeal}\n        open={this.props.isCreateDealDrawerOpen}\n      >\n        {createDealSection}\n      </DrawerMenu>\n    );\n  };\n\n  CreateNewDealButton = () => {\n    return (\n      <AddIcon\n        onClick={this.props.onClickCreateDeal}\n        style={styles.createNewDealIcon}\n      />\n    );\n    // return (\n    //   <Button\n    //     style={styles.createNewButton}\n    //     onClick={this.props.onClickCreateDeal}\n    //     variant=\"text\"\n    //   >\n    //     <H4>{this.appContext.labels.landingPage.createDealButton}</H4>\n    //   </Button>\n    // );\n  };\n\n  // HamburgerMenu = () => {\n  //   if (this.appContext.showHamburgerMenu) {\n  //     return (\n  //       <View borderLeft={1} style={styles.hamburgerMenuIconContainer}>\n  //         <HamburgerMenuIcon\n  //           style={styles.hamburgerMenuIcon}\n  //           onClick={this.props.onClickHamburgerMenu}\n  //         />\n  //       </View>\n  //     );\n  //   } else {\n  //     return null;\n  //   }\n  // };\n\n  // HamburgerMenuDrawer = () => {\n  //   return (\n  //     <Drawer\n  //       anchor={\"right\"}\n  //       onClose={this.props.onCloseHamburgerMenu}\n  //       open={this.props.isHamburgerMenuDrawerOpen}\n  //     >\n  //       <View></View>\n  //     </Drawer>\n  //   );\n  // };\n\n  HeaderTextAndLogo = () => {\n    return (\n      <View>\n        <img alt={\"app-logo\"} src={logo} style={{ width: 100 }} />\n      </View>\n    );\n  };\n\n  LocationButton = () => {\n    const label = this.appContext.labels.header;\n    let areaLabel;\n    if (this.props.selectedAddress && this.props.selectedAddress.area) {\n      areaLabel = this.props.selectedAddress.area;\n    } else {\n      areaLabel = label.loading;\n    }\n    return (\n      <ToolTips title={`${label.currentLocation} ${areaLabel}`}>\n        <LocationIcon style={styles.locationIcon} />\n      </ToolTips>\n    );\n  };\n\n  TopBarSection = () => {\n    return (\n      <View isFlexDirectionRow={true} style={styles.buttonContainer}>\n        <this.CreateNewDealButton />\n        <this.LocationButton />\n        <HeaderMenu />\n        <this.UserProfileImage />\n      </View>\n    );\n  };\n\n  UserProfileImage = () => {\n    if (\n      this.appContext.features.includes(Feature.USER_PROFILE_IN_HEADER) &&\n      this.props.userProfile.oAuthProvider !== OAuthProvider.NONE\n    ) {\n      return (\n        <View style={styles.userProfileImageContainer}>\n          {/* <Image\n            size=\"miniCircularImage\"\n            src={this.props.userProfile.imageUrl}\n          /> */}\n          <Avatar src={this.props.userProfile.imageUrl} />\n        </View>\n      );\n    }\n    return null;\n  };\n}\n\nconst styles = {\n  buttonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  circularProgress: {\n    marginLeft: 5\n  },\n  createNewDealIcon: {\n    color: styleSchema.color.primaryColor,\n    ...styleSchema.icon\n  },\n  createNewButton: {\n    borderColor: styleSchema.color.secondaryColor,\n    borderRadius: styleSchema.button.borderRadius,\n    borderWidth: 3\n  },\n  locationButtonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  locationIcon: {\n    color: styleSchema.color.greenMedium,\n    ...styleSchema.icon\n  },\n  rootContainer: {\n    alignItems: \"center\",\n    backgroundColor: styleSchema.color.white,\n    borderColor: styleSchema.color.greyDark,\n    justifyContent: \"space-between\",\n    padding: 15\n  },\n  searchMethodLabel: {\n    backgroundColor: styleSchema.remind.primaryColor,\n    borderColor: styleSchema.remind.primaryColor,\n    borderRadius: styleSchema.button.borderRadius,\n    marginRight: 10,\n    borderWidth: 3,\n    paddingBottom: 5,\n    paddingTop: 5\n  },\n  userProfileImageContainer: {\n    marginLeft: 15\n  }\n};\n","import React from \"react\";\nimport {\n  LocalDealCard,\n  CardBottomVote,\n  View,\n  H1,\n  H5,\n  AddressDisplay\n} from \"../../../common\";\nimport Deal, { Address } from \"../../../modal/deal\";\nimport ApplicationComponent from \"../../../common/applicationComponent\";\n\ninterface Props {\n  deals: Deal[];\n  onClickCard: () => void;\n}\n\nexport default class LegacyDealSectionView<\n  ChildProps extends Props\n> extends ApplicationComponent<Props> {\n  render() {\n    return <this.LegacyDealsSection />;\n  }\n\n  LegacyDealsSection = () => {\n    const dealsContent = this.props.deals ? this.props.deals : [];\n    const dealsCard = dealsContent.map(deal => {\n      const cardBottomVote = <CardBottomVote deal={deal} />;\n      // const content: React.ReactNode = this.generateLegacyCardContent(deal);\n      return (\n        <LocalDealCard\n          bottomToolBarContent={cardBottomVote}\n          onClick={() => this.props.onClickCard()}\n          title={deal.title}\n        >\n          <this.CardHeader\n            address={deal.address}\n            timestamp={deal.timestamp}\n            title={deal.title}\n          />\n          <this.RichTextDescription description={deal.description} />\n        </LocalDealCard>\n      );\n    });\n    return <>{dealsCard}</>;\n  };\n\n  protected CardHeader = ({\n    address,\n    timestamp,\n    title\n  }: {\n    address?: Address;\n    timestamp: number;\n    title: string;\n  }) => {\n    return (\n      <>\n        <View isFlexDirectionRow={true} style={styles.cardContainer}>\n          <H1>{title}</H1>\n          <H5>\n            {timestamp\n              ? this.appContext.transformer.timeDifferentCalcualtor(timestamp)\n              : this.appContext.labels.date.unknown}\n          </H5>\n        </View>\n        {address ? <AddressDisplay address={address} /> : null}\n      </>\n    );\n  };\n\n  protected RichTextDescription = ({\n    description\n  }: {\n    description: string;\n  }) => {\n    return (\n      <View style={{ ...styles.detailSectionContainer, textAlign: \"justify\" }}>\n        <div\n          style={{ width: \"inherit\" }}\n          dangerouslySetInnerHTML={{ __html: description }}\n        />\n      </View>\n    );\n  };\n}\n\nconst styles = {\n  cardContainer: {\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  detailSectionContainer: {\n    width: \"inherit\"\n  }\n};\n","import React from \"react\";\nimport Deal, { Address } from \"../../../../modal/deal\";\nimport {\n  Slider,\n  CardBottomVote,\n  CollapseCard,\n  View,\n  styleSchema,\n  H1,\n  H5,\n  AddressDisplay\n} from \"../../../../common\";\nimport ApplicationComponent from \"../../../../common/applicationComponent\";\n\nconst MAXIMUM_IMAGE_HEIGHT = 500;\n\ninterface Props {\n  deal: Deal;\n  index: number; // This need to be remove and replace with deal.id!!!\n}\n\ninterface State {\n  coverImageHeight: number;\n  coverImageLoaded: boolean;\n  expanded: boolean;\n}\n\nexport default class DealCardV2 extends ApplicationComponent<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      coverImageHeight: 150,\n      coverImageLoaded: false,\n      expanded: false\n    };\n  }\n\n  render() {\n    return <>{this.DealCard()}</>;\n  }\n\n  protected DealCard() {\n    const deal = this.props.deal;\n    const bottomToolBarContent = <CardBottomVote deal={this.props.deal} />;\n    let showExpandSign: boolean =\n      (deal.description !== null && deal.description !== \"\") ||\n      deal.filesUrl.length > 1;\n    return (\n      <View\n        borderBottom={1}\n        style={styles.rootContainer}\n        onClick={this.onExpand}\n      >\n        <this.CardHeader\n          address={deal.address}\n          timestamp={deal.timestamp}\n          title={deal.title}\n        />\n        <View style={styles.imageContainer}>\n          <this.ImageSection />\n        </View>\n        <CollapseCard\n          allowExpand={showExpandSign}\n          bottomToolBarContent={bottomToolBarContent}\n          expanded={this.state.expanded}\n          onClickExpandSign={this.onExpand}\n        >\n          {deal.description}\n        </CollapseCard>\n      </View>\n    );\n  }\n\n  protected CardHeader = ({\n    address,\n    timestamp,\n    title\n  }: {\n    address?: Address;\n    timestamp: number;\n    title: string;\n  }) => {\n    return (\n      <>\n        <View isFlexDirectionRow={true} style={styles.cardContainer}>\n          <H1>{title}</H1>\n          <H5>\n            {timestamp\n              ? this.appContext.transformer.timeDifferentCalcualtor(timestamp)\n              : this.appContext.labels.date.unknown}\n          </H5>\n        </View>\n        {address ? <AddressDisplay address={address} /> : null}\n      </>\n    );\n  };\n\n  protected ImageSection = () => {\n    const deal = this.props.deal;\n    const coverImageStyle = this.state.coverImageLoaded\n      ? { height: this.state.coverImageHeight }\n      : styles.empty;\n    if (this.state.expanded) {\n      return (\n        <Slider\n          dealIndex={deal.id ?? 0}\n          fileUrls={deal.filesUrl ?? []}\n          height={this.state.coverImageHeight}\n        />\n      );\n    } else {\n      return deal.filesUrl?.length ? (\n        <img\n          alt={\"cover\"}\n          id={`deal-${this.props.index} cover-image`}\n          onLoad={this.onLoadImage}\n          src={deal.filesUrl[0]}\n          style={coverImageStyle}\n        />\n      ) : null;\n    }\n  };\n\n  protected onExpand = () => {\n    this.setState({\n      expanded: !this.state.expanded\n    });\n  };\n\n  protected onLoadImage = () => {\n    const height = document.getElementById(\n      `deal-${this.props.index} cover-image`\n    )?.clientHeight;\n    if (height) {\n      console.debug(height);\n      this.setState({\n        coverImageHeight:\n          height < MAXIMUM_IMAGE_HEIGHT ? height : MAXIMUM_IMAGE_HEIGHT,\n        coverImageLoaded: true\n      });\n    }\n  };\n}\n\nconst styles = {\n  cardContainer: {\n    justifyContent: \"space-between\",\n    width: \"inherit\"\n  },\n  empty: {},\n  imageContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginTop: 5,\n    width: \"inherit\"\n  },\n  rootContainer: {\n    backgroundColor: styleSchema.color.white,\n    borderColor: styleSchema.color.greyTransparent,\n    padding: 15,\n    width: \"inherit\"\n  }\n};\n","import React, { Component } from \"react\";\nimport Deal from \"../../../../modal/deal\";\nimport DealCardV2 from \"./dealCardV2\";\n\ninterface Props {\n  deals: Deal[];\n}\n\nexport default class DealSectionView extends Component<Props> {\n  render() {\n    const generatedDeals = this.props.deals.map((deal: Deal, index: number) => (\n      <DealCardV2 deal={deal} index={index} />\n    ));\n    return <>{generatedDeals}</>;\n  }\n}\n","import React from \"react\";\nimport Deal, { Address } from \"../../modal/deal\";\nimport { H5, LocalDealTextField, styleSchema, View } from \"../../common\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { Feature } from \"../../common/feature/feature\";\nimport { DealSectionView, DealSectionV2View } from \"./dealSection\";\n\nexport interface Props {\n  deals: Deal[];\n  executeGetDeals: () => void;\n  isLoadingDeals: boolean;\n  onBlurTextField: () => void;\n  onClickCard: () => void;\n  onClickDealSection: () => void;\n  onClickSearch: () => void;\n  onChangeSearchTextField: (text: string) => void;\n  onFocusTextField: () => void;\n  selectedAddress?: Address;\n  showSearchButton: boolean;\n  textFieldValue: string;\n}\n\nexport default class LandingPageView extends ApplicationComponent<Props> {\n  render() {\n    return (\n      <View style={styles.rootContainer}>\n        <this.BodySection />\n      </View>\n    );\n  }\n\n  BodySection = () => {\n    const displayBody = () => {\n      if (this.props.deals.length) {\n        return !this.appContext.features.includes(Feature.DEAL_LEGACY) ? (\n          <DealSectionV2View deals={this.props.deals} />\n        ) : (\n          <DealSectionView {...this.props} />\n        );\n      } else if (this.props.isLoadingDeals) {\n        return <this.LoadingDeals />;\n      } else {\n        return <this.NoDealInArea />;\n      }\n    };\n    return (\n      <View\n        boxShadow={this.props.deals.length ? 1 : 0}\n        style={styles.dealSectionContainer}\n      >\n        {displayBody}\n      </View>\n    );\n  };\n\n  LoadingDeals = () => {\n    return (\n      <View style={styles.noDealInAreaContainer}>\n        <H5>{this.appContext.labels.landingPage.loadingDeals}</H5>\n      </View>\n    );\n  };\n\n  NoDealInArea = () => {\n    return (\n      <View style={styles.noDealInAreaContainer}>\n        <H5>{this.appContext.labels.landingPage.noDeal}</H5>\n      </View>\n    );\n  };\n\n  TextFieldArea = () => {\n    return (\n      <LocalDealTextField\n        defaultValue={this.props.textFieldValue}\n        onBlur={() => this.props.onBlurTextField()}\n        onChange={text => this.props.onChangeSearchTextField(text)}\n        onFocus={() => this.props.onFocusTextField()}\n        text={this.appContext.labels.landingPage.area}\n      />\n    );\n  };\n}\n\nconst styles = {\n  circularProgress: {\n    marginLeft: 5\n  },\n  createNewButton: {\n    borderColor: styleSchema.color.secondaryColor,\n    borderRadius: styleSchema.button.borderRadius,\n    borderWidth: 3\n  },\n  dealSectionContainer: {\n    alignItems: \"center\",\n    width: \"100%\"\n  },\n\n  locationButtonContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  noDealInAreaContainer: {},\n  rootContainer: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    padding: 15,\n    width: styleSchema.dimension.FILL_ALL_WIDTH\n  },\n  searchButton: {\n    borderColor: styleSchema.remind.secondaryColor,\n    borderRadius: styleSchema.button.borderRadius,\n    backgroundColor: styleSchema.remind.secondaryColor,\n    borderWidth: 3\n  },\n  searchMethodLabel: {\n    coordinate: {\n      borderColor: styleSchema.remind.primaryColor,\n      borderRadius: styleSchema.button.borderRadius,\n      backgroundColor: styleSchema.remind.primaryColor,\n      borderWidth: 3,\n      paddingBottom: 5,\n      paddingTop: 5\n    },\n    manual: {\n      borderColor: styleSchema.remind.secondaryColor,\n      borderRadius: styleSchema.button.borderRadius,\n      backgroundColor: styleSchema.remind.secondaryColor,\n      borderWidth: 3,\n      paddingBottom: 5,\n      paddingTop: 5\n    }\n  },\n  slideImageContainer: {\n    alightItems: \"center\",\n    backgroundColor: \"blue\",\n    justifyContent: \"center\"\n  },\n  topBarContainer: {\n    justifyContent: \"space-between\",\n    paddingTop: 15,\n    width: \"100%\"\n  }\n};\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport Deal, { Coordinate, Address, GetDealResponse } from \"../../modal/deal\";\nimport { LandingPageView } from \".\";\nimport {\n  GET_CURRENT_ADDRESS,\n  GET_DEALS\n} from \"../../common/middleware/service\";\nimport \"../../App.css\";\n\nexport interface State {\n  isCreateDealDrawerOpen: boolean;\n  isLoading: boolean;\n  showSearchButton: boolean;\n  textFieldValue: string;\n  useAutoLocation: boolean;\n}\n\nexport default class LandingPage extends ApplicationComponent<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      isCreateDealDrawerOpen: false,\n      isLoading: true,\n      showSearchButton: false,\n      textFieldValue: \"\",\n      useAutoLocation: true\n    };\n  }\n\n  async componentDidMount() {\n    await this.setCurrentPosition();\n    await this.setCurrentAddress();\n    await this.executeGetDeals();\n  }\n\n  protected async setCurrentPosition() {\n    if (this.appContext.isMock) {\n      return Promise.resolve();\n    }\n    return new Promise((resolve, reject) => {\n      this.appContext.transformer.getCurrentLocation(\n        (coordinate: Coordinate) => {\n          console.debug(\"Current Coordinate: \", coordinate);\n          // this.props.setGeolocation(coordinate);\n          this.appState.position.setGeolocation(coordinate);\n          return resolve();\n        }\n      );\n    });\n  }\n\n  protected async setCurrentAddress() {\n    return new Promise((resolve, reject) => {\n      this.appContext.serviceExecutor\n        .execute(\n          GET_CURRENT_ADDRESS({\n            coordinate: this.appState.position.coordinate\n          })\n        )\n        .then((addresses: Address[]) => {\n          this.appState.address.setPredicteAddresses(addresses);\n          this.appState.position.setLoadingPosition(false);\n          return resolve();\n        });\n    });\n  }\n\n  protected onBlurTextField = () => {\n    // need to complete\n    console.debug(\"onBlurTextField\");\n  };\n\n  protected onClickedCard = () => {\n    // need to complete\n    console.debug(\"Card Clicked\");\n  };\n\n  protected onClickedDealSection = () => {\n    // need to complete\n    console.debug(\"onClickedDealSection\");\n    this.setState({\n      showSearchButton: false\n    });\n  };\n\n  protected onClickSearch = () => {\n    // need to complete\n    console.debug(\"onClickSearch\");\n    // this.setState({\n    //   showSearchButton: false\n    //   Disable this for now, user need internet to access the service anyway\n    //   useAutoLocation: false\n    // });\n    // this.getDeals();\n  };\n\n  protected onClickDownVote = () => {\n    console.debug(\"onClickDownVote\");\n  };\n\n  protected onClickUpVote = () => {\n    console.debug(\"onClickUpVote\");\n  };\n\n  protected onChangeSearchTextField = (textFieldValue: string) => {\n    // TODO need to think about if we need to allow user to search by area. because user will have coordinate by their location.\n    // search can be only for item!!!!!!!\n    // need to complete\n    console.debug(\"onChangeSearchTextField\");\n    this.setState({\n      // currentSearchArea: { areaName: textFieldValue }\n    });\n  };\n\n  protected onFocusTextField = () => {\n    // need to complete\n    console.debug(\"onFocusTextField\");\n    this.setState({\n      showSearchButton: true\n    });\n  };\n\n  protected executeGetDeals = () => {\n    if (this.appState.address.selectedAddress?.area) {\n      this.appContext.serviceExecutor\n        .execute(GET_DEALS(this.appState.address.selectedAddress))\n        .then((getDealResponse: GetDealResponse) => {\n          this.setState({\n            isLoading: false\n          });\n          this.appState.deal.setDeals(getDealResponse.deals);\n        });\n    }\n  };\n\n  protected sortDeals(inputDeals: Deal[]): Deal[] {\n    return inputDeals.sort((deal1, deal2) => {\n      return deal2.timestamp - deal1.timestamp;\n    });\n  }\n\n  render() {\n    let {\n      isCreateDealDrawerOpen,\n      showSearchButton,\n      textFieldValue,\n      useAutoLocation\n    } = this.state;\n    // sort deal\n    const sortedDeal: Deal[] = this.sortDeals(\n      this.appState.deal.deals ? this.appState.deal.deals : []\n    );\n    return (\n      <LandingPageView\n        deals={sortedDeal}\n        executeGetDeals={this.executeGetDeals}\n        isLoadingDeals={this.state.isLoading}\n        onBlurTextField={this.onBlurTextField}\n        onClickCard={this.onClickedCard}\n        onClickDealSection={this.onClickedDealSection}\n        onClickSearch={this.onClickSearch}\n        onChangeSearchTextField={this.onChangeSearchTextField}\n        onFocusTextField={this.onFocusTextField}\n        selectedAddress={this.appState.address.selectedAddress}\n        showSearchButton={showSearchButton}\n        textFieldValue={textFieldValue}\n      />\n    );\n  }\n}\n","import ApplicationComponent from \"../../common/applicationComponent\";\nimport { OAuthProvider } from \"../../common/feature/oAuthProvider\";\nimport {\n  LOGIN_OAUTH_GOOGLE,\n  GET_USER_PROFILE\n} from \"../../common/middleware/service\";\n\nexport default class Init extends ApplicationComponent {\n  render() {\n    return null;\n  }\n\n  componentDidMount() {\n    this.checkOAuthFromUrl();\n    this.getUserProfile();\n  }\n\n  protected checkOAuthFromUrl() {\n    const { authorizationCode, oAuthProvider } = this.checkOAuth();\n    if (oAuthProvider === OAuthProvider.GOOGLE) {\n      this.appContext.serviceExecutor\n        .execute(\n          LOGIN_OAUTH_GOOGLE(\n            authorizationCode,\n            this.appContext.oAuthRedirectUrl\n          )\n        )\n        .then(() => {\n          this.onOAuthLoginComplete();\n          this.getUserProfile();\n        });\n    }\n  }\n\n  protected getUserProfile() {\n    this.appContext.serviceExecutor\n      .execute(GET_USER_PROFILE())\n      .then(result => this.appState.user.setUserProfile(result));\n  }\n}\n","import React, { Component } from \"react\";\nimport AppState from \"./appState\";\nimport Deal, { Address, Coordinate } from \"../../modal/deal\";\nimport { UserProfile } from \"../../modal/userProfile\";\nimport { OAuthProvider } from \"../feature/oAuthProvider\";\n\nexport interface State {\n  address: {\n    addressesPrediction: Address[];\n    selectedAddress: Address;\n  };\n  createDeal: {\n    uploading: boolean;\n    progressMessage: string;\n  };\n  deal: {\n    dealDraft?: Deal;\n    deals: Deal[];\n  };\n  position: {\n    loadingPosition: boolean;\n    coordinate?: Coordinate;\n  };\n  user: {\n    userProfile?: UserProfile;\n  };\n}\n\nexport default class GlobalStateComponent extends Component<{}, State> {\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      address: {\n        addressesPrediction: [],\n        selectedAddress: {\n          area: \"\",\n          street1: \"\",\n          street2: \"\",\n          city: \"\",\n          state: \"\",\n          country: \"\",\n          zipCode: \"\"\n        }\n      },\n      createDeal: {\n        uploading: false,\n        progressMessage: \"\"\n      },\n      deal: {\n        deals: []\n      },\n      position: {\n        loadingPosition: true,\n        coordinate: {\n          latitude: 0,\n          longitude: 0\n        }\n      },\n      user: {\n        userProfile: {\n          id: 0,\n          name: \"\",\n          imageUrl: \"\",\n          oAuthProvider: OAuthProvider.NONE\n        }\n      }\n    };\n  }\n\n  render() {\n    const { address, createDeal, deal, position, user } = this.state;\n    return (\n      <AppState.Provider\n        value={{\n          address: {\n            ...address,\n            setSelectedAddress: this.setSelectedAddress,\n            setPredicteAddresses: this.setPredicteAddresses\n          },\n          createDeal: {\n            ...createDeal,\n            setCreateDealUploading: this.setCreateDealUploading,\n            setCreateDealProgressMessage: this.setCreateDealProgressMessage\n          },\n          deal: { ...deal, setDeals: this.setDeals },\n          position: {\n            ...position,\n            setGeolocation: this.setGeolocation,\n            setLoadingPosition: this.setLoadingPosition\n          },\n          user: {\n            ...user,\n            removeUserProfile: this.removeUserProfile,\n            setUserProfile: this.setUserProfile\n          }\n        }}\n      >\n        {this.props.children}\n      </AppState.Provider>\n    );\n  }\n\n  protected removeUserProfile = () => {\n    const userProfile: UserProfile = {\n      id: 0,\n      imageUrl: \"\",\n      name: \"\",\n      oAuthProvider: OAuthProvider.NONE\n    };\n    this.setState({\n      user: {\n        ...this.state.user,\n        userProfile\n      }\n    });\n  };\n\n  protected setDeals = (deals: Deal[]) => {\n    this.setState({\n      deal: { ...this.state.deal, deals }\n    });\n  };\n\n  protected setCreateDealUploading = (uploading: boolean) => {\n    this.setState({\n      createDeal: { ...this.state.createDeal, uploading }\n    });\n  };\n\n  protected setCreateDealProgressMessage = (progressMessage: string) => {\n    this.setState({\n      createDeal: { ...this.state.createDeal, progressMessage }\n    });\n  };\n\n  protected setGeolocation = (coordinate: Coordinate) => {\n    this.setState({\n      position: { ...this.state.position, coordinate }\n    });\n  };\n\n  protected setLoadingPosition = (loadingPosition: boolean) => {\n    this.setState({\n      position: { ...this.state.position, loadingPosition }\n    });\n  };\n\n  protected setPredicteAddresses = (addressesPrediction: Address[]) => {\n    this.setState({\n      address: { ...this.state.address, addressesPrediction }\n    });\n  };\n\n  protected setSelectedAddress = (selectedAddress: Address) => {\n    this.setState({\n      address: { ...this.state.address, selectedAddress }\n    });\n  };\n\n  protected setUserProfile = (userProfile: UserProfile) => {\n    this.setState({\n      user: { ...this.state.user, userProfile }\n    });\n  };\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { BannerView } from \".\";\n\nexport default class Banner extends ApplicationComponent {\n  render() {\n    return <BannerView />;\n  }\n}\n","import React from \"react\";\nimport ApplicationComponent from \"../../common/applicationComponent\";\nimport { View, styleSchema, P } from \"../../common\";\nimport { AppBar, LinearProgress, makeStyles } from \"@material-ui/core\";\n\nexport default class BannerView extends ApplicationComponent {\n  render() {\n    const showBanner = this.appState.createDeal.uploading;\n    if (showBanner) {\n      return (\n        <AppBar position={\"sticky\"} style={{ backgroundColor: \"white\" }}>\n          <this.UploadProgress />\n        </AppBar>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  UploadProgress = () => {\n    const classes = materialUIStyleOverride();\n    return (\n      <>\n        <View style={styles.uploadObjectContainer}>\n          <P color={\"black\"}>{this.appState.createDeal.progressMessage}</P>\n        </View>\n        <LinearProgress\n          classes={{\n            barColorPrimary: classes.barColorPrimary,\n            colorPrimary: classes.colorPrimary\n          }}\n          style={styles.linearProgressor}\n        />\n      </>\n    );\n  };\n}\n\nconst styles = {\n  linearProgressor: {\n    color: \"pink\",\n    width: \"inherit\"\n  },\n  rootContainer: {\n    alignItems: \"start\",\n    borderColor: styleSchema.color.greyDark,\n    justifyContent: \"center\",\n    width: \"inherit\"\n  },\n  uploadObjectContainer: {\n    paddingBottom: 10,\n    paddingLeft: 15,\n    paddingRight: 15,\n    paddingTop: 10\n  }\n};\n\nconst materialUIStyleOverride = makeStyles({\n  barColorPrimary: {\n    background: styleSchema.color.primaryGradient\n  },\n  colorPrimary: {\n    backgroundColor: styleSchema.color.primaryColorTransparent\n  }\n});\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Header } from \"./component/header\";\nimport { LandingPage } from \"./component/landingPage\";\nimport { Init } from \"./component/init\";\nimport GlobalStateComponent from \"./common/context/globalStateComponent\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport { Banner } from \"./component/banner\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <GlobalStateComponent>\n        <Init />\n        <div className=\"App-header\">\n          <Header />\n        </div>\n        <Banner />\n        <div className=\"Content\">\n          <LandingPage />\n        </div>\n      </GlobalStateComponent>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}